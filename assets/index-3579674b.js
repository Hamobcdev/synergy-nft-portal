var dz=Object.defineProperty;var fz=(t,e,r)=>e in t?dz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var GS=(t,e,r)=>(fz(t,typeof e!="symbol"?e+"":e,r),r),n2=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var G=(t,e,r)=>(n2(t,e,"read from private field"),r?r.call(t):e.get(t)),Pe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ee=(t,e,r,n)=>(n2(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var qy=(t,e,r,n)=>({set _(i){Ee(t,e,i,r)},get _(){return G(t,e,n)}}),rt=(t,e,r)=>(n2(t,e,"access private method"),r);function hz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ak={exports:{}},fv={},ck={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=Symbol.for("react.element"),pz=Symbol.for("react.portal"),gz=Symbol.for("react.fragment"),mz=Symbol.for("react.strict_mode"),yz=Symbol.for("react.profiler"),wz=Symbol.for("react.provider"),bz=Symbol.for("react.context"),vz=Symbol.for("react.forward_ref"),Ez=Symbol.for("react.suspense"),Az=Symbol.for("react.memo"),_z=Symbol.for("react.lazy"),KS=Symbol.iterator;function Cz(t){return t===null||typeof t!="object"?null:(t=KS&&t[KS]||t["@@iterator"],typeof t=="function"?t:null)}var uk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lk=Object.assign,dk={};function h0(t,e,r){this.props=t,this.context=e,this.refs=dk,this.updater=r||uk}h0.prototype.isReactComponent={};h0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};h0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fk(){}fk.prototype=h0.prototype;function rx(t,e,r){this.props=t,this.context=e,this.refs=dk,this.updater=r||uk}var nx=rx.prototype=new fk;nx.constructor=rx;lk(nx,h0.prototype);nx.isPureReactComponent=!0;var QS=Array.isArray,hk=Object.prototype.hasOwnProperty,ix={current:null},pk={key:!0,ref:!0,__self:!0,__source:!0};function gk(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hk.call(e,n)&&!pk.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Jm,type:t,key:s,ref:o,props:i,_owner:ix.current}}function xz(t,e){return{$$typeof:Jm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jm}function Sz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var YS=/\/+/g;function i2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sz(""+t.key):e.toString(36)}function Q1(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jm:case pz:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+i2(o,0):n,QS(i)?(r="",t!=null&&(r=t.replace(YS,"$&/")+"/"),Q1(i,e,r,"",function(u){return u})):i!=null&&(sx(i)&&(i=xz(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(YS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",QS(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+i2(s,a);o+=Q1(s,e,r,c,i)}else if(c=Cz(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+i2(s,a++),o+=Q1(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hy(t,e,r){if(t==null)return t;var n=[],i=0;return Q1(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Iz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bi={current:null},Y1={transition:null},Nz={ReactCurrentDispatcher:bi,ReactCurrentBatchConfig:Y1,ReactCurrentOwner:ix};function mk(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:Hy,forEach:function(t,e,r){Hy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Hy(t,function(){e++}),e},toArray:function(t){return Hy(t,function(e){return e})||[]},only:function(t){if(!sx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=h0;at.Fragment=gz;at.Profiler=yz;at.PureComponent=rx;at.StrictMode=mz;at.Suspense=Ez;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nz;at.act=mk;at.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ix.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)hk.call(e,c)&&!pk.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Jm,type:t.type,key:i,ref:s,props:n,_owner:o}};at.createContext=function(t){return t={$$typeof:bz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wz,_context:t},t.Consumer=t};at.createElement=gk;at.createFactory=function(t){var e=gk.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:vz,render:t}};at.isValidElement=sx;at.lazy=function(t){return{$$typeof:_z,_payload:{_status:-1,_result:t},_init:Iz}};at.memo=function(t,e){return{$$typeof:Az,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=Y1.transition;Y1.transition={};try{t()}finally{Y1.transition=e}};at.unstable_act=mk;at.useCallback=function(t,e){return bi.current.useCallback(t,e)};at.useContext=function(t){return bi.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return bi.current.useDeferredValue(t)};at.useEffect=function(t,e){return bi.current.useEffect(t,e)};at.useId=function(){return bi.current.useId()};at.useImperativeHandle=function(t,e,r){return bi.current.useImperativeHandle(t,e,r)};at.useInsertionEffect=function(t,e){return bi.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return bi.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return bi.current.useMemo(t,e)};at.useReducer=function(t,e,r){return bi.current.useReducer(t,e,r)};at.useRef=function(t){return bi.current.useRef(t)};at.useState=function(t){return bi.current.useState(t)};at.useSyncExternalStore=function(t,e,r){return bi.current.useSyncExternalStore(t,e,r)};at.useTransition=function(){return bi.current.useTransition()};at.version="18.3.1";ck.exports=at;var ie=ck.exports;const yk=Pa(ie),Tz=hz({__proto__:null,default:yk},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pz=ie,Rz=Symbol.for("react.element"),Oz=Symbol.for("react.fragment"),kz=Object.prototype.hasOwnProperty,Dz=Pz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mz={key:!0,ref:!0,__self:!0,__source:!0};function wk(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)kz.call(e,n)&&!Mz.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Rz,type:t,key:s,ref:o,props:i,_owner:Dz.current}}fv.Fragment=Oz;fv.jsx=wk;fv.jsxs=wk;ak.exports=fv;var F=ak.exports,F6={},bk={exports:{}},fs={},vk={exports:{}},Ek={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,R){var L=I.length;I.push(R);e:for(;0<L;){var M=L-1>>>1,_=I[M];if(0<i(_,R))I[M]=R,I[L]=_,L=M;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var R=I[0],L=I.pop();if(L!==R){I[0]=L;e:for(var M=0,_=I.length,j=_>>>1;M<j;){var Z=2*(M+1)-1,P=I[Z],K=Z+1,ee=I[K];if(0>i(P,L))K<_&&0>i(ee,P)?(I[M]=ee,I[K]=L,M=K):(I[M]=P,I[Z]=L,M=Z);else if(K<_&&0>i(ee,L))I[M]=ee,I[K]=L,M=K;else break e}}return R}function i(I,R){var L=I.sortIndex-R.sortIndex;return L!==0?L:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],l=1,d=null,f=3,h=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(I){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=I)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function x(I){if(g=!1,E(I),!p)if(r(c)!==null)p=!0,A(N);else{var R=r(u);R!==null&&T(x,R.startTime-I)}}function N(I,R){p=!1,g&&(g=!1,y(U),U=-1),h=!0;var L=f;try{for(E(R),d=r(c);d!==null&&(!(d.expirationTime>R)||I&&!H());){var M=d.callback;if(typeof M=="function"){d.callback=null,f=d.priorityLevel;var _=M(d.expirationTime<=R);R=t.unstable_now(),typeof _=="function"?d.callback=_:d===r(c)&&n(c),E(R)}else n(c);d=r(c)}if(d!==null)var j=!0;else{var Z=r(u);Z!==null&&T(x,Z.startTime-R),j=!1}return j}finally{d=null,f=L,h=!1}}var O=!1,k=null,U=-1,D=5,W=-1;function H(){return!(t.unstable_now()-W<D)}function Q(){if(k!==null){var I=t.unstable_now();W=I;var R=!0;try{R=k(!0,I)}finally{R?$():(O=!1,k=null)}}else O=!1}var $;if(typeof b=="function")$=function(){b(Q)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,v=m.port2;m.port1.onmessage=Q,$=function(){v.postMessage(null)}}else $=function(){w(Q,0)};function A(I){k=I,O||(O=!0,$())}function T(I,R){U=w(function(){I(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,A(N))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var L=f;f=R;try{return I()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var L=f;f=I;try{return R()}finally{f=L}},t.unstable_scheduleCallback=function(I,R,L){var M=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?M+L:M):L=M,I){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=L+_,I={id:l++,callback:R,priorityLevel:I,startTime:L,expirationTime:_,sortIndex:-1},L>M?(I.sortIndex=L,e(u,I),r(c)===null&&I===r(u)&&(g?(y(U),U=-1):g=!0,T(x,L-M))):(I.sortIndex=_,e(c,I),p||h||(p=!0,A(N))),I},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(I){var R=f;return function(){var L=f;f=R;try{return I.apply(this,arguments)}finally{f=L}}}})(Ek);vk.exports=Ek;var Bz=vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uz=ie,as=Bz;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ak=new Set,sg={};function Ud(t,e){Dh(t,e),Dh(t+"Capture",e)}function Dh(t,e){for(sg[t]=e,t=0;t<e.length;t++)Ak.add(e[t])}var wc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$6=Object.prototype.hasOwnProperty,Fz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JS={},ZS={};function $z(t){return $6.call(ZS,t)?!0:$6.call(JS,t)?!1:Fz.test(t)?ZS[t]=!0:(JS[t]=!0,!1)}function Lz(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jz(t,e,r,n){if(e===null||typeof e>"u"||Lz(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var ox=/[\-:]([a-z])/g;function ax(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ox,ax);jn[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ox,ax);jn[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ox,ax);jn[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function cx(t,e,r,n){var i=jn.hasOwnProperty(e)?jn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jz(e,r,i,n)&&(r=null),n||i===null?$z(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Tc=Uz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wy=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Uf=Symbol.for("react.fragment"),ux=Symbol.for("react.strict_mode"),L6=Symbol.for("react.profiler"),_k=Symbol.for("react.provider"),Ck=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),j6=Symbol.for("react.suspense"),z6=Symbol.for("react.suspense_list"),dx=Symbol.for("react.memo"),eu=Symbol.for("react.lazy"),xk=Symbol.for("react.offscreen"),XS=Symbol.iterator;function q0(t){return t===null||typeof t!="object"?null:(t=XS&&t[XS]||t["@@iterator"],typeof t=="function"?t:null)}var Sr=Object.assign,s2;function _p(t){if(s2===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);s2=e&&e[1]||""}return`
`+s2+t}var o2=!1;function a2(t,e){if(!t||o2)return"";o2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{o2=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_p(t):""}function zz(t){switch(t.tag){case 5:return _p(t.type);case 16:return _p("Lazy");case 13:return _p("Suspense");case 19:return _p("SuspenseList");case 0:case 2:case 15:return t=a2(t.type,!1),t;case 11:return t=a2(t.type.render,!1),t;case 1:return t=a2(t.type,!0),t;default:return""}}function q6(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uf:return"Fragment";case Bf:return"Portal";case L6:return"Profiler";case ux:return"StrictMode";case j6:return"Suspense";case z6:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ck:return(t.displayName||"Context")+".Consumer";case _k:return(t._context.displayName||"Context")+".Provider";case lx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dx:return e=t.displayName||null,e!==null?e:q6(t.type)||"Memo";case eu:e=t._payload,t=t._init;try{return q6(t(e))}catch{}}return null}function qz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q6(e);case 8:return e===ux?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hz(t){var e=Sk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vy(t){t._valueTracker||(t._valueTracker=Hz(t))}function Ik(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Sk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function H6(t,e){var r=e.checked;return Sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function eI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Wu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nk(t,e){e=e.checked,e!=null&&cx(t,"checked",e,!1)}function W6(t,e){Nk(t,e);var r=Wu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?V6(t,e.type,r):e.hasOwnProperty("defaultValue")&&V6(t,e.type,Wu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function V6(t,e,r){(e!=="number"||Fw(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cp=Array.isArray;function th(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Wu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function G6(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(de(92));if(Cp(r)){if(1<r.length)throw Error(de(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wu(r)}}function Tk(t,e){var r=Wu(e.value),n=Wu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function nI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K6(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gy,Rk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gy=Gy||document.createElement("div"),Gy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function og(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wz=["Webkit","ms","Moz","O"];Object.keys(Mp).forEach(function(t){Wz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mp[e]=Mp[t]})});function Ok(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Mp.hasOwnProperty(t)&&Mp[t]?(""+e).trim():e+"px"}function kk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ok(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Vz=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q6(t,e){if(e){if(Vz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Y6(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J6=null;function fx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Z6=null,rh=null,nh=null;function iI(t){if(t=ey(t)){if(typeof Z6!="function")throw Error(de(280));var e=t.stateNode;e&&(e=yv(e),Z6(t.stateNode,t.type,e))}}function Dk(t){rh?nh?nh.push(t):nh=[t]:rh=t}function Mk(){if(rh){var t=rh,e=nh;if(nh=rh=null,iI(t),e)for(t=0;t<e.length;t++)iI(e[t])}}function Bk(t,e){return t(e)}function Uk(){}var c2=!1;function Fk(t,e,r){if(c2)return t(e,r);c2=!0;try{return Bk(t,e,r)}finally{c2=!1,(rh!==null||nh!==null)&&(Uk(),Mk())}}function ag(t,e){var r=t.stateNode;if(r===null)return null;var n=yv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(de(231,e,typeof r));return r}var X6=!1;if(wc)try{var H0={};Object.defineProperty(H0,"passive",{get:function(){X6=!0}}),window.addEventListener("test",H0,H0),window.removeEventListener("test",H0,H0)}catch{X6=!1}function Gz(t,e,r,n,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(l){this.onError(l)}}var Bp=!1,$w=null,Lw=!1,e5=null,Kz={onError:function(t){Bp=!0,$w=t}};function Qz(t,e,r,n,i,s,o,a,c){Bp=!1,$w=null,Gz.apply(Kz,arguments)}function Yz(t,e,r,n,i,s,o,a,c){if(Qz.apply(this,arguments),Bp){if(Bp){var u=$w;Bp=!1,$w=null}else throw Error(de(198));Lw||(Lw=!0,e5=u)}}function Fd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function $k(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sI(t){if(Fd(t)!==t)throw Error(de(188))}function Jz(t){var e=t.alternate;if(!e){if(e=Fd(t),e===null)throw Error(de(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return sI(i),t;if(s===n)return sI(i),e;s=s.sibling}throw Error(de(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?t:e}function Lk(t){return t=Jz(t),t!==null?jk(t):null}function jk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jk(t);if(e!==null)return e;t=t.sibling}return null}var zk=as.unstable_scheduleCallback,oI=as.unstable_cancelCallback,Zz=as.unstable_shouldYield,Xz=as.unstable_requestPaint,Ur=as.unstable_now,eq=as.unstable_getCurrentPriorityLevel,hx=as.unstable_ImmediatePriority,qk=as.unstable_UserBlockingPriority,jw=as.unstable_NormalPriority,tq=as.unstable_LowPriority,Hk=as.unstable_IdlePriority,hv=null,da=null;function rq(t){if(da&&typeof da.onCommitFiberRoot=="function")try{da.onCommitFiberRoot(hv,t,void 0,(t.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:sq,nq=Math.log,iq=Math.LN2;function sq(t){return t>>>=0,t===0?32:31-(nq(t)/iq|0)|0}var Ky=64,Qy=4194304;function xp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zw(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=xp(a):(s&=o,s!==0&&(n=xp(s)))}else o=r&~i,o!==0?n=xp(o):s!==0&&(n=xp(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Co(e),i=1<<r,n|=t[r],e&=~i;return n}function oq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aq(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Co(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=oq(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function t5(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wk(){var t=Ky;return Ky<<=1,!(Ky&4194240)&&(Ky=64),t}function u2(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Co(e),t[e]=r}function cq(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Co(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function px(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Co(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ut=0;function Vk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gk,gx,Kk,Qk,Yk,r5=!1,Yy=[],Tu=null,Pu=null,Ru=null,cg=new Map,ug=new Map,au=[],uq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aI(t,e){switch(t){case"focusin":case"focusout":Tu=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":cg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ug.delete(e.pointerId)}}function W0(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ey(e),e!==null&&gx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lq(t,e,r,n,i){switch(e){case"focusin":return Tu=W0(Tu,t,e,r,n,i),!0;case"dragenter":return Pu=W0(Pu,t,e,r,n,i),!0;case"mouseover":return Ru=W0(Ru,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return cg.set(s,W0(cg.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ug.set(s,W0(ug.get(s)||null,t,e,r,n,i)),!0}return!1}function Jk(t){var e=kl(t.target);if(e!==null){var r=Fd(e);if(r!==null){if(e=r.tag,e===13){if(e=$k(r),e!==null){t.blockedOn=e,Yk(t.priority,function(){Kk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function J1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=n5(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);J6=n,r.target.dispatchEvent(n),J6=null}else return e=ey(r),e!==null&&gx(e),t.blockedOn=r,!1;e.shift()}return!0}function cI(t,e,r){J1(t)&&r.delete(e)}function dq(){r5=!1,Tu!==null&&J1(Tu)&&(Tu=null),Pu!==null&&J1(Pu)&&(Pu=null),Ru!==null&&J1(Ru)&&(Ru=null),cg.forEach(cI),ug.forEach(cI)}function V0(t,e){t.blockedOn===e&&(t.blockedOn=null,r5||(r5=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,dq)))}function lg(t){function e(i){return V0(i,t)}if(0<Yy.length){V0(Yy[0],t);for(var r=1;r<Yy.length;r++){var n=Yy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Tu!==null&&V0(Tu,t),Pu!==null&&V0(Pu,t),Ru!==null&&V0(Ru,t),cg.forEach(e),ug.forEach(e),r=0;r<au.length;r++)n=au[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<au.length&&(r=au[0],r.blockedOn===null);)Jk(r),r.blockedOn===null&&au.shift()}var ih=Tc.ReactCurrentBatchConfig,qw=!0;function fq(t,e,r,n){var i=Ut,s=ih.transition;ih.transition=null;try{Ut=1,mx(t,e,r,n)}finally{Ut=i,ih.transition=s}}function hq(t,e,r,n){var i=Ut,s=ih.transition;ih.transition=null;try{Ut=4,mx(t,e,r,n)}finally{Ut=i,ih.transition=s}}function mx(t,e,r,n){if(qw){var i=n5(t,e,r,n);if(i===null)b2(t,e,n,Hw,r),aI(t,n);else if(lq(i,t,e,r,n))n.stopPropagation();else if(aI(t,n),e&4&&-1<uq.indexOf(t)){for(;i!==null;){var s=ey(i);if(s!==null&&Gk(s),s=n5(t,e,r,n),s===null&&b2(t,e,n,Hw,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else b2(t,e,n,null,r)}}var Hw=null;function n5(t,e,r,n){if(Hw=null,t=fx(n),t=kl(t),t!==null)if(e=Fd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=$k(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hw=t,null}function Zk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eq()){case hx:return 1;case qk:return 4;case jw:case tq:return 16;case Hk:return 536870912;default:return 16}default:return 16}}var _u=null,yx=null,Z1=null;function Xk(){if(Z1)return Z1;var t,e=yx,r=e.length,n,i="value"in _u?_u.value:_u.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Z1=i.slice(t,1<n?1-n:void 0)}function X1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jy(){return!0}function uI(){return!1}function hs(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jy:uI,this.isPropagationStopped=uI,this}return Sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jy)},persist:function(){},isPersistent:Jy}),e}var p0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wx=hs(p0),Xm=Sr({},p0,{view:0,detail:0}),pq=hs(Xm),l2,d2,G0,pv=Sr({},Xm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==G0&&(G0&&t.type==="mousemove"?(l2=t.screenX-G0.screenX,d2=t.screenY-G0.screenY):d2=l2=0,G0=t),l2)},movementY:function(t){return"movementY"in t?t.movementY:d2}}),lI=hs(pv),gq=Sr({},pv,{dataTransfer:0}),mq=hs(gq),yq=Sr({},Xm,{relatedTarget:0}),f2=hs(yq),wq=Sr({},p0,{animationName:0,elapsedTime:0,pseudoElement:0}),bq=hs(wq),vq=Sr({},p0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eq=hs(vq),Aq=Sr({},p0,{data:0}),dI=hs(Aq),_q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xq[t])?!!e[t]:!1}function bx(){return Sq}var Iq=Sr({},Xm,{key:function(t){if(t.key){var e=_q[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=X1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bx,charCode:function(t){return t.type==="keypress"?X1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?X1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nq=hs(Iq),Tq=Sr({},pv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fI=hs(Tq),Pq=Sr({},Xm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bx}),Rq=hs(Pq),Oq=Sr({},p0,{propertyName:0,elapsedTime:0,pseudoElement:0}),kq=hs(Oq),Dq=Sr({},pv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mq=hs(Dq),Bq=[9,13,27,32],vx=wc&&"CompositionEvent"in window,Up=null;wc&&"documentMode"in document&&(Up=document.documentMode);var Uq=wc&&"TextEvent"in window&&!Up,eD=wc&&(!vx||Up&&8<Up&&11>=Up),hI=String.fromCharCode(32),pI=!1;function tD(t,e){switch(t){case"keyup":return Bq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ff=!1;function Fq(t,e){switch(t){case"compositionend":return rD(e);case"keypress":return e.which!==32?null:(pI=!0,hI);case"textInput":return t=e.data,t===hI&&pI?null:t;default:return null}}function $q(t,e){if(Ff)return t==="compositionend"||!vx&&tD(t,e)?(t=Xk(),Z1=yx=_u=null,Ff=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eD&&e.locale!=="ko"?null:e.data;default:return null}}var Lq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lq[t.type]:e==="textarea"}function nD(t,e,r,n){Dk(n),e=Ww(e,"onChange"),0<e.length&&(r=new wx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Fp=null,dg=null;function jq(t){pD(t,0)}function gv(t){var e=jf(t);if(Ik(e))return t}function zq(t,e){if(t==="change")return e}var iD=!1;if(wc){var h2;if(wc){var p2="oninput"in document;if(!p2){var mI=document.createElement("div");mI.setAttribute("oninput","return;"),p2=typeof mI.oninput=="function"}h2=p2}else h2=!1;iD=h2&&(!document.documentMode||9<document.documentMode)}function yI(){Fp&&(Fp.detachEvent("onpropertychange",sD),dg=Fp=null)}function sD(t){if(t.propertyName==="value"&&gv(dg)){var e=[];nD(e,dg,t,fx(t)),Fk(jq,e)}}function qq(t,e,r){t==="focusin"?(yI(),Fp=e,dg=r,Fp.attachEvent("onpropertychange",sD)):t==="focusout"&&yI()}function Hq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gv(dg)}function Wq(t,e){if(t==="click")return gv(e)}function Vq(t,e){if(t==="input"||t==="change")return gv(e)}function Gq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var To=typeof Object.is=="function"?Object.is:Gq;function fg(t,e){if(To(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$6.call(e,i)||!To(t[i],e[i]))return!1}return!0}function wI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bI(t,e){var r=wI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wI(r)}}function oD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aD(){for(var t=window,e=Fw();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fw(t.document)}return e}function Ex(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kq(t){var e=aD(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&oD(r.ownerDocument.documentElement,r)){if(n!==null&&Ex(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=bI(r,s);var o=bI(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qq=wc&&"documentMode"in document&&11>=document.documentMode,$f=null,i5=null,$p=null,s5=!1;function vI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;s5||$f==null||$f!==Fw(n)||(n=$f,"selectionStart"in n&&Ex(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$p&&fg($p,n)||($p=n,n=Ww(i5,"onSelect"),0<n.length&&(e=new wx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=$f)))}function Zy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Lf={animationend:Zy("Animation","AnimationEnd"),animationiteration:Zy("Animation","AnimationIteration"),animationstart:Zy("Animation","AnimationStart"),transitionend:Zy("Transition","TransitionEnd")},g2={},cD={};wc&&(cD=document.createElement("div").style,"AnimationEvent"in window||(delete Lf.animationend.animation,delete Lf.animationiteration.animation,delete Lf.animationstart.animation),"TransitionEvent"in window||delete Lf.transitionend.transition);function mv(t){if(g2[t])return g2[t];if(!Lf[t])return t;var e=Lf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in cD)return g2[t]=e[r];return t}var uD=mv("animationend"),lD=mv("animationiteration"),dD=mv("animationstart"),fD=mv("transitionend"),hD=new Map,EI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(t,e){hD.set(t,e),Ud(e,[t])}for(var m2=0;m2<EI.length;m2++){var y2=EI[m2],Yq=y2.toLowerCase(),Jq=y2[0].toUpperCase()+y2.slice(1);tl(Yq,"on"+Jq)}tl(uD,"onAnimationEnd");tl(lD,"onAnimationIteration");tl(dD,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(fD,"onTransitionEnd");Dh("onMouseEnter",["mouseout","mouseover"]);Dh("onMouseLeave",["mouseout","mouseover"]);Dh("onPointerEnter",["pointerout","pointerover"]);Dh("onPointerLeave",["pointerout","pointerover"]);Ud("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ud("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ud("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ud("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ud("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ud("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sp));function AI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Yz(n,e,void 0,t),t.currentTarget=null}function pD(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;AI(i,a,u),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;AI(i,a,u),s=c}}}if(Lw)throw t=e5,Lw=!1,e5=null,t}function pr(t,e){var r=e[l5];r===void 0&&(r=e[l5]=new Set);var n=t+"__bubble";r.has(n)||(gD(e,t,2,!1),r.add(n))}function w2(t,e,r){var n=0;e&&(n|=4),gD(r,t,n,e)}var Xy="_reactListening"+Math.random().toString(36).slice(2);function hg(t){if(!t[Xy]){t[Xy]=!0,Ak.forEach(function(r){r!=="selectionchange"&&(Zq.has(r)||w2(r,!1,t),w2(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xy]||(e[Xy]=!0,w2("selectionchange",!1,e))}}function gD(t,e,r,n){switch(Zk(e)){case 1:var i=fq;break;case 4:i=hq;break;default:i=mx}r=i.bind(null,e,r,t),i=void 0,!X6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function b2(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=kl(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Fk(function(){var u=s,l=fx(r),d=[];e:{var f=hD.get(t);if(f!==void 0){var h=wx,p=t;switch(t){case"keypress":if(X1(r)===0)break e;case"keydown":case"keyup":h=Nq;break;case"focusin":p="focus",h=f2;break;case"focusout":p="blur",h=f2;break;case"beforeblur":case"afterblur":h=f2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=lI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Rq;break;case uD:case lD:case dD:h=bq;break;case fD:h=kq;break;case"scroll":h=pq;break;case"wheel":h=Mq;break;case"copy":case"cut":case"paste":h=Eq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=fI}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,E;b!==null;){E=b;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,y!==null&&(x=ag(b,y),x!=null&&g.push(pg(b,x,E)))),w)break;b=b.return}0<g.length&&(f=new h(f,p,null,r,l),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&r!==J6&&(p=r.relatedTarget||r.fromElement)&&(kl(p)||p[bc]))break e;if((h||f)&&(f=l.window===l?l:(f=l.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?kl(p):null,p!==null&&(w=Fd(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=lI,x="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=fI,x="onPointerLeave",y="onPointerEnter",b="pointer"),w=h==null?f:jf(h),E=p==null?f:jf(p),f=new g(x,b+"leave",h,r,l),f.target=w,f.relatedTarget=E,x=null,kl(l)===u&&(g=new g(y,b+"enter",p,r,l),g.target=E,g.relatedTarget=w,x=g),w=x,h&&p)t:{for(g=h,y=p,b=0,E=g;E;E=ef(E))b++;for(E=0,x=y;x;x=ef(x))E++;for(;0<b-E;)g=ef(g),b--;for(;0<E-b;)y=ef(y),E--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=ef(g),y=ef(y)}g=null}else g=null;h!==null&&_I(d,f,h,g,!1),p!==null&&w!==null&&_I(d,w,p,g,!0)}}e:{if(f=u?jf(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=zq;else if(gI(f))if(iD)N=Vq;else{N=Hq;var O=qq}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Wq);if(N&&(N=N(t,u))){nD(d,N,r,l);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&V6(f,"number",f.value)}switch(O=u?jf(u):window,t){case"focusin":(gI(O)||O.contentEditable==="true")&&($f=O,i5=u,$p=null);break;case"focusout":$p=i5=$f=null;break;case"mousedown":s5=!0;break;case"contextmenu":case"mouseup":case"dragend":s5=!1,vI(d,r,l);break;case"selectionchange":if(Qq)break;case"keydown":case"keyup":vI(d,r,l)}var k;if(vx)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ff?tD(t,r)&&(U="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(eD&&r.locale!=="ko"&&(Ff||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ff&&(k=Xk()):(_u=l,yx="value"in _u?_u.value:_u.textContent,Ff=!0)),O=Ww(u,U),0<O.length&&(U=new dI(U,t,null,r,l),d.push({event:U,listeners:O}),k?U.data=k:(k=rD(r),k!==null&&(U.data=k)))),(k=Uq?Fq(t,r):$q(t,r))&&(u=Ww(u,"onBeforeInput"),0<u.length&&(l=new dI("onBeforeInput","beforeinput",null,r,l),d.push({event:l,listeners:u}),l.data=k))}pD(d,e)})}function pg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ww(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ag(t,r),s!=null&&n.unshift(pg(t,s,i)),s=ag(t,e),s!=null&&n.push(pg(t,s,i))),t=t.return}return n}function ef(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _I(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,i?(c=ag(r,s),c!=null&&o.unshift(pg(r,c,a))):i||(c=ag(r,s),c!=null&&o.push(pg(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Xq=/\r\n?/g,eH=/\u0000|\uFFFD/g;function CI(t){return(typeof t=="string"?t:""+t).replace(Xq,`
`).replace(eH,"")}function e1(t,e,r){if(e=CI(e),CI(t)!==e&&r)throw Error(de(425))}function Vw(){}var o5=null,a5=null;function c5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var u5=typeof setTimeout=="function"?setTimeout:void 0,tH=typeof clearTimeout=="function"?clearTimeout:void 0,xI=typeof Promise=="function"?Promise:void 0,rH=typeof queueMicrotask=="function"?queueMicrotask:typeof xI<"u"?function(t){return xI.resolve(null).then(t).catch(nH)}:u5;function nH(t){setTimeout(function(){throw t})}function v2(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),lg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);lg(e)}function Ou(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var g0=Math.random().toString(36).slice(2),ia="__reactFiber$"+g0,gg="__reactProps$"+g0,bc="__reactContainer$"+g0,l5="__reactEvents$"+g0,iH="__reactListeners$"+g0,sH="__reactHandles$"+g0;function kl(t){var e=t[ia];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bc]||r[ia]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=SI(t);t!==null;){if(r=t[ia])return r;t=SI(t)}return e}t=r,r=t.parentNode}return null}function ey(t){return t=t[ia]||t[bc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function yv(t){return t[gg]||null}var d5=[],zf=-1;function rl(t){return{current:t}}function yr(t){0>zf||(t.current=d5[zf],d5[zf]=null,zf--)}function Jt(t,e){zf++,d5[zf]=t.current,t.current=e}var Vu={},si=rl(Vu),Mi=rl(!1),cd=Vu;function Mh(t,e){var r=t.type.contextTypes;if(!r)return Vu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bi(t){return t=t.childContextTypes,t!=null}function Gw(){yr(Mi),yr(si)}function II(t,e,r){if(si.current!==Vu)throw Error(de(168));Jt(si,e),Jt(Mi,r)}function mD(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(de(108,qz(t)||"Unknown",i));return Sr({},r,n)}function Kw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vu,cd=si.current,Jt(si,t),Jt(Mi,Mi.current),!0}function NI(t,e,r){var n=t.stateNode;if(!n)throw Error(de(169));r?(t=mD(t,e,cd),n.__reactInternalMemoizedMergedChildContext=t,yr(Mi),yr(si),Jt(si,t)):yr(Mi),Jt(Mi,r)}var Za=null,wv=!1,E2=!1;function yD(t){Za===null?Za=[t]:Za.push(t)}function oH(t){wv=!0,yD(t)}function nl(){if(!E2&&Za!==null){E2=!0;var t=0,e=Ut;try{var r=Za;for(Ut=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Za=null,wv=!1}catch(i){throw Za!==null&&(Za=Za.slice(t+1)),zk(hx,nl),i}finally{Ut=e,E2=!1}}return null}var qf=[],Hf=0,Qw=null,Yw=0,Ds=[],Ms=0,ud=null,oc=1,ac="";function Al(t,e){qf[Hf++]=Yw,qf[Hf++]=Qw,Qw=t,Yw=e}function wD(t,e,r){Ds[Ms++]=oc,Ds[Ms++]=ac,Ds[Ms++]=ud,ud=t;var n=oc;t=ac;var i=32-Co(n)-1;n&=~(1<<i),r+=1;var s=32-Co(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,oc=1<<32-Co(e)+i|r<<i|n,ac=s+t}else oc=1<<s|r<<i|n,ac=t}function Ax(t){t.return!==null&&(Al(t,1),wD(t,1,0))}function _x(t){for(;t===Qw;)Qw=qf[--Hf],qf[Hf]=null,Yw=qf[--Hf],qf[Hf]=null;for(;t===ud;)ud=Ds[--Ms],Ds[Ms]=null,ac=Ds[--Ms],Ds[Ms]=null,oc=Ds[--Ms],Ds[Ms]=null}var os=null,ns=null,wr=!1,mo=null;function bD(t,e){var r=Fs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function TI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,os=t,ns=Ou(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,os=t,ns=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ud!==null?{id:oc,overflow:ac}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,os=t,ns=null,!0):!1;default:return!1}}function f5(t){return(t.mode&1)!==0&&(t.flags&128)===0}function h5(t){if(wr){var e=ns;if(e){var r=e;if(!TI(t,e)){if(f5(t))throw Error(de(418));e=Ou(r.nextSibling);var n=os;e&&TI(t,e)?bD(n,r):(t.flags=t.flags&-4097|2,wr=!1,os=t)}}else{if(f5(t))throw Error(de(418));t.flags=t.flags&-4097|2,wr=!1,os=t}}}function PI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;os=t}function t1(t){if(t!==os)return!1;if(!wr)return PI(t),wr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c5(t.type,t.memoizedProps)),e&&(e=ns)){if(f5(t))throw vD(),Error(de(418));for(;e;)bD(t,e),e=Ou(e.nextSibling)}if(PI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ns=Ou(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ns=null}}else ns=os?Ou(t.stateNode.nextSibling):null;return!0}function vD(){for(var t=ns;t;)t=Ou(t.nextSibling)}function Bh(){ns=os=null,wr=!1}function Cx(t){mo===null?mo=[t]:mo.push(t)}var aH=Tc.ReactCurrentBatchConfig;function K0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,t))}return t}function r1(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RI(t){var e=t._init;return e(t._payload)}function ED(t){function e(y,b){if(t){var E=y.deletions;E===null?(y.deletions=[b],y.flags|=16):E.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Bu(y,b),y.index=0,y.sibling=null,y}function s(y,b,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<b?(y.flags|=2,b):E):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,E,x){return b===null||b.tag!==6?(b=N2(E,y.mode,x),b.return=y,b):(b=i(b,E),b.return=y,b)}function c(y,b,E,x){var N=E.type;return N===Uf?l(y,b,E.props.children,x,E.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===eu&&RI(N)===b.type)?(x=i(b,E.props),x.ref=K0(y,b,E),x.return=y,x):(x=ow(E.type,E.key,E.props,null,y.mode,x),x.ref=K0(y,b,E),x.return=y,x)}function u(y,b,E,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=T2(E,y.mode,x),b.return=y,b):(b=i(b,E.children||[]),b.return=y,b)}function l(y,b,E,x,N){return b===null||b.tag!==7?(b=ed(E,y.mode,x,N),b.return=y,b):(b=i(b,E),b.return=y,b)}function d(y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=N2(""+b,y.mode,E),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wy:return E=ow(b.type,b.key,b.props,null,y.mode,E),E.ref=K0(y,null,b),E.return=y,E;case Bf:return b=T2(b,y.mode,E),b.return=y,b;case eu:var x=b._init;return d(y,x(b._payload),E)}if(Cp(b)||q0(b))return b=ed(b,y.mode,E,null),b.return=y,b;r1(y,b)}return null}function f(y,b,E,x){var N=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(y,b,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wy:return E.key===N?c(y,b,E,x):null;case Bf:return E.key===N?u(y,b,E,x):null;case eu:return N=E._init,f(y,b,N(E._payload),x)}if(Cp(E)||q0(E))return N!==null?null:l(y,b,E,x,null);r1(y,E)}return null}function h(y,b,E,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(E)||null,a(b,y,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wy:return y=y.get(x.key===null?E:x.key)||null,c(b,y,x,N);case Bf:return y=y.get(x.key===null?E:x.key)||null,u(b,y,x,N);case eu:var O=x._init;return h(y,b,E,O(x._payload),N)}if(Cp(x)||q0(x))return y=y.get(E)||null,l(b,y,x,N,null);r1(b,x)}return null}function p(y,b,E,x){for(var N=null,O=null,k=b,U=b=0,D=null;k!==null&&U<E.length;U++){k.index>U?(D=k,k=null):D=k.sibling;var W=f(y,k,E[U],x);if(W===null){k===null&&(k=D);break}t&&k&&W.alternate===null&&e(y,k),b=s(W,b,U),O===null?N=W:O.sibling=W,O=W,k=D}if(U===E.length)return r(y,k),wr&&Al(y,U),N;if(k===null){for(;U<E.length;U++)k=d(y,E[U],x),k!==null&&(b=s(k,b,U),O===null?N=k:O.sibling=k,O=k);return wr&&Al(y,U),N}for(k=n(y,k);U<E.length;U++)D=h(k,y,U,E[U],x),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?U:D.key),b=s(D,b,U),O===null?N=D:O.sibling=D,O=D);return t&&k.forEach(function(H){return e(y,H)}),wr&&Al(y,U),N}function g(y,b,E,x){var N=q0(E);if(typeof N!="function")throw Error(de(150));if(E=N.call(E),E==null)throw Error(de(151));for(var O=N=null,k=b,U=b=0,D=null,W=E.next();k!==null&&!W.done;U++,W=E.next()){k.index>U?(D=k,k=null):D=k.sibling;var H=f(y,k,W.value,x);if(H===null){k===null&&(k=D);break}t&&k&&H.alternate===null&&e(y,k),b=s(H,b,U),O===null?N=H:O.sibling=H,O=H,k=D}if(W.done)return r(y,k),wr&&Al(y,U),N;if(k===null){for(;!W.done;U++,W=E.next())W=d(y,W.value,x),W!==null&&(b=s(W,b,U),O===null?N=W:O.sibling=W,O=W);return wr&&Al(y,U),N}for(k=n(y,k);!W.done;U++,W=E.next())W=h(k,y,U,W.value,x),W!==null&&(t&&W.alternate!==null&&k.delete(W.key===null?U:W.key),b=s(W,b,U),O===null?N=W:O.sibling=W,O=W);return t&&k.forEach(function(Q){return e(y,Q)}),wr&&Al(y,U),N}function w(y,b,E,x){if(typeof E=="object"&&E!==null&&E.type===Uf&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Wy:e:{for(var N=E.key,O=b;O!==null;){if(O.key===N){if(N=E.type,N===Uf){if(O.tag===7){r(y,O.sibling),b=i(O,E.props.children),b.return=y,y=b;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===eu&&RI(N)===O.type){r(y,O.sibling),b=i(O,E.props),b.ref=K0(y,O,E),b.return=y,y=b;break e}r(y,O);break}else e(y,O);O=O.sibling}E.type===Uf?(b=ed(E.props.children,y.mode,x,E.key),b.return=y,y=b):(x=ow(E.type,E.key,E.props,null,y.mode,x),x.ref=K0(y,b,E),x.return=y,y=x)}return o(y);case Bf:e:{for(O=E.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(y,b.sibling),b=i(b,E.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=T2(E,y.mode,x),b.return=y,y=b}return o(y);case eu:return O=E._init,w(y,b,O(E._payload),x)}if(Cp(E))return p(y,b,E,x);if(q0(E))return g(y,b,E,x);r1(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,E),b.return=y,y=b):(r(y,b),b=N2(E,y.mode,x),b.return=y,y=b),o(y)):r(y,b)}return w}var Uh=ED(!0),AD=ED(!1),Jw=rl(null),Zw=null,Wf=null,xx=null;function Sx(){xx=Wf=Zw=null}function Ix(t){var e=Jw.current;yr(Jw),t._currentValue=e}function p5(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function sh(t,e){Zw=t,xx=Wf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Di=!0),t.firstContext=null)}function js(t){var e=t._currentValue;if(xx!==t)if(t={context:t,memoizedValue:e,next:null},Wf===null){if(Zw===null)throw Error(de(308));Wf=t,Zw.dependencies={lanes:0,firstContext:t}}else Wf=Wf.next=t;return e}var Dl=null;function Nx(t){Dl===null?Dl=[t]:Dl.push(t)}function _D(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Nx(e)):(r.next=i.next,i.next=r),e.interleaved=r,vc(t,n)}function vc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var tu=!1;function Tx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ku(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,vc(t,r)}return i=n.interleaved,i===null?(e.next=e,Nx(n)):(e.next=i.next,i.next=e),n.interleaved=e,vc(t,r)}function ew(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,px(t,r)}}function OI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xw(t,e,r,n){var i=t.updateQueue;tu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var l=t.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,l=u=c=null,a=s;do{var f=a.lane,h=a.eventTime;if((n&f)===f){l!==null&&(l=l.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,h=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Sr({},d,f);break e;case 2:tu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=h,c=d):l=l.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(l===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dd|=o,t.lanes=o,t.memoizedState=d}}function kI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(de(191,i));i.call(n)}}}var ty={},fa=rl(ty),mg=rl(ty),yg=rl(ty);function Ml(t){if(t===ty)throw Error(de(174));return t}function Px(t,e){switch(Jt(yg,e),Jt(mg,t),Jt(fa,ty),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K6(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=K6(e,t)}yr(fa),Jt(fa,e)}function Fh(){yr(fa),yr(mg),yr(yg)}function xD(t){Ml(yg.current);var e=Ml(fa.current),r=K6(e,t.type);e!==r&&(Jt(mg,t),Jt(fa,r))}function Rx(t){mg.current===t&&(yr(fa),yr(mg))}var Cr=rl(0);function eb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var A2=[];function Ox(){for(var t=0;t<A2.length;t++)A2[t]._workInProgressVersionPrimary=null;A2.length=0}var tw=Tc.ReactCurrentDispatcher,_2=Tc.ReactCurrentBatchConfig,ld=0,xr=null,rn=null,wn=null,tb=!1,Lp=!1,wg=0,cH=0;function Kn(){throw Error(de(321))}function kx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!To(t[r],e[r]))return!1;return!0}function Dx(t,e,r,n,i,s){if(ld=s,xr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tw.current=t===null||t.memoizedState===null?fH:hH,t=r(n,i),Lp){s=0;do{if(Lp=!1,wg=0,25<=s)throw Error(de(301));s+=1,wn=rn=null,e.updateQueue=null,tw.current=pH,t=r(n,i)}while(Lp)}if(tw.current=rb,e=rn!==null&&rn.next!==null,ld=0,wn=rn=xr=null,tb=!1,e)throw Error(de(300));return t}function Mx(){var t=wg!==0;return wg=0,t}function Vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?xr.memoizedState=wn=t:wn=wn.next=t,wn}function zs(){if(rn===null){var t=xr.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var e=wn===null?xr.memoizedState:wn.next;if(e!==null)wn=e,rn=t;else{if(t===null)throw Error(de(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},wn===null?xr.memoizedState=wn=t:wn=wn.next=t}return wn}function bg(t,e){return typeof e=="function"?e(t):e}function C2(t){var e=zs(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=rn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,u=s;do{var l=u.lane;if((ld&l)===l)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:l,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=n):c=c.next=d,xr.lanes|=l,dd|=l}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=a,To(n,e.memoizedState)||(Di=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,xr.lanes|=s,dd|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function x2(t){var e=zs(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);To(s,e.memoizedState)||(Di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function SD(){}function ID(t,e){var r=xr,n=zs(),i=e(),s=!To(n.memoizedState,i);if(s&&(n.memoizedState=i,Di=!0),n=n.queue,Bx(PD.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||wn!==null&&wn.memoizedState.tag&1){if(r.flags|=2048,vg(9,TD.bind(null,r,n,i,e),void 0,null),In===null)throw Error(de(349));ld&30||ND(r,e,i)}return i}function ND(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function TD(t,e,r,n){e.value=r,e.getSnapshot=n,RD(e)&&OD(t)}function PD(t,e,r){return r(function(){RD(e)&&OD(t)})}function RD(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!To(t,r)}catch{return!0}}function OD(t){var e=vc(t,1);e!==null&&xo(e,t,1,-1)}function DI(t){var e=Vo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:t},e.queue=t,t=t.dispatch=dH.bind(null,xr,t),[e.memoizedState,t]}function vg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kD(){return zs().memoizedState}function rw(t,e,r,n){var i=Vo();xr.flags|=t,i.memoizedState=vg(1|e,r,void 0,n===void 0?null:n)}function bv(t,e,r,n){var i=zs();n=n===void 0?null:n;var s=void 0;if(rn!==null){var o=rn.memoizedState;if(s=o.destroy,n!==null&&kx(n,o.deps)){i.memoizedState=vg(e,r,s,n);return}}xr.flags|=t,i.memoizedState=vg(1|e,r,s,n)}function MI(t,e){return rw(8390656,8,t,e)}function Bx(t,e){return bv(2048,8,t,e)}function DD(t,e){return bv(4,2,t,e)}function MD(t,e){return bv(4,4,t,e)}function BD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UD(t,e,r){return r=r!=null?r.concat([t]):null,bv(4,4,BD.bind(null,e,t),r)}function Ux(){}function FD(t,e){var r=zs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function $D(t,e){var r=zs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function LD(t,e,r){return ld&21?(To(r,e)||(r=Wk(),xr.lanes|=r,dd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Di=!0),t.memoizedState=r)}function uH(t,e){var r=Ut;Ut=r!==0&&4>r?r:4,t(!0);var n=_2.transition;_2.transition={};try{t(!1),e()}finally{Ut=r,_2.transition=n}}function jD(){return zs().memoizedState}function lH(t,e,r){var n=Mu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zD(t))qD(e,r);else if(r=_D(t,e,r,n),r!==null){var i=pi();xo(r,t,n,i),HD(r,e,n)}}function dH(t,e,r){var n=Mu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zD(t))qD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,To(a,o)){var c=e.interleaved;c===null?(i.next=i,Nx(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=_D(t,e,i,n),r!==null&&(i=pi(),xo(r,t,n,i),HD(r,e,n))}}function zD(t){var e=t.alternate;return t===xr||e!==null&&e===xr}function qD(t,e){Lp=tb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function HD(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,px(t,r)}}var rb={readContext:js,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},fH={readContext:js,useCallback:function(t,e){return Vo().memoizedState=[t,e===void 0?null:e],t},useContext:js,useEffect:MI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,rw(4194308,4,BD.bind(null,e,t),r)},useLayoutEffect:function(t,e){return rw(4194308,4,t,e)},useInsertionEffect:function(t,e){return rw(4,2,t,e)},useMemo:function(t,e){var r=Vo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=lH.bind(null,xr,t),[n.memoizedState,t]},useRef:function(t){var e=Vo();return t={current:t},e.memoizedState=t},useState:DI,useDebugValue:Ux,useDeferredValue:function(t){return Vo().memoizedState=t},useTransition:function(){var t=DI(!1),e=t[0];return t=uH.bind(null,t[1]),Vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xr,i=Vo();if(wr){if(r===void 0)throw Error(de(407));r=r()}else{if(r=e(),In===null)throw Error(de(349));ld&30||ND(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,MI(PD.bind(null,n,s,t),[t]),n.flags|=2048,vg(9,TD.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Vo(),e=In.identifierPrefix;if(wr){var r=ac,n=oc;r=(n&~(1<<32-Co(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hH={readContext:js,useCallback:FD,useContext:js,useEffect:Bx,useImperativeHandle:UD,useInsertionEffect:DD,useLayoutEffect:MD,useMemo:$D,useReducer:C2,useRef:kD,useState:function(){return C2(bg)},useDebugValue:Ux,useDeferredValue:function(t){var e=zs();return LD(e,rn.memoizedState,t)},useTransition:function(){var t=C2(bg)[0],e=zs().memoizedState;return[t,e]},useMutableSource:SD,useSyncExternalStore:ID,useId:jD,unstable_isNewReconciler:!1},pH={readContext:js,useCallback:FD,useContext:js,useEffect:Bx,useImperativeHandle:UD,useInsertionEffect:DD,useLayoutEffect:MD,useMemo:$D,useReducer:x2,useRef:kD,useState:function(){return x2(bg)},useDebugValue:Ux,useDeferredValue:function(t){var e=zs();return rn===null?e.memoizedState=t:LD(e,rn.memoizedState,t)},useTransition:function(){var t=x2(bg)[0],e=zs().memoizedState;return[t,e]},useMutableSource:SD,useSyncExternalStore:ID,useId:jD,unstable_isNewReconciler:!1};function co(t,e){if(t&&t.defaultProps){e=Sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function g5(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vv={isMounted:function(t){return(t=t._reactInternals)?Fd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=pi(),i=Mu(t),s=fc(n,i);s.payload=e,r!=null&&(s.callback=r),e=ku(t,s,i),e!==null&&(xo(e,t,i,n),ew(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=pi(),i=Mu(t),s=fc(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ku(t,s,i),e!==null&&(xo(e,t,i,n),ew(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=pi(),n=Mu(t),i=fc(r,n);i.tag=2,e!=null&&(i.callback=e),e=ku(t,i,n),e!==null&&(xo(e,t,n,r),ew(e,t,n))}};function BI(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!fg(r,n)||!fg(i,s):!0}function WD(t,e,r){var n=!1,i=Vu,s=e.contextType;return typeof s=="object"&&s!==null?s=js(s):(i=Bi(e)?cd:si.current,n=e.contextTypes,s=(n=n!=null)?Mh(t,i):Vu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function UI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vv.enqueueReplaceState(e,e.state,null)}function m5(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Tx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=js(s):(s=Bi(e)?cd:si.current,i.context=Mh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g5(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vv.enqueueReplaceState(i,i.state,null),Xw(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $h(t,e){try{var r="",n=e;do r+=zz(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function S2(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function y5(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var gH=typeof WeakMap=="function"?WeakMap:Map;function VD(t,e,r){r=fc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ib||(ib=!0,I5=n),y5(t,e)},r}function GD(t,e,r){r=fc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){y5(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){y5(t,e),typeof n!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function FI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new gH;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=TH.bind(null,t,e,r),e.then(t,t))}function $I(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fc(-1,1),e.tag=2,ku(r,e,1))),r.lanes|=1),t)}var mH=Tc.ReactCurrentOwner,Di=!1;function di(t,e,r,n){e.child=t===null?AD(e,null,r,n):Uh(e,t.child,r,n)}function jI(t,e,r,n,i){r=r.render;var s=e.ref;return sh(e,i),n=Dx(t,e,r,n,s,i),r=Mx(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ec(t,e,i)):(wr&&r&&Ax(e),e.flags|=1,di(t,e,n,i),e.child)}function zI(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Wx(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,KD(t,e,s,n,i)):(t=ow(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:fg,r(o,n)&&t.ref===e.ref)return Ec(t,e,i)}return e.flags|=1,t=Bu(s,n),t.ref=e.ref,t.return=e,e.child=t}function KD(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(fg(s,n)&&t.ref===e.ref)if(Di=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Di=!0);else return e.lanes=t.lanes,Ec(t,e,i)}return w5(t,e,r,n,i)}function QD(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(Gf,Yi),Yi|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jt(Gf,Yi),Yi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Jt(Gf,Yi),Yi|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Jt(Gf,Yi),Yi|=n;return di(t,e,i,r),e.child}function YD(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function w5(t,e,r,n,i){var s=Bi(r)?cd:si.current;return s=Mh(e,s),sh(e,i),r=Dx(t,e,r,n,s,i),n=Mx(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ec(t,e,i)):(wr&&n&&Ax(e),e.flags|=1,di(t,e,r,i),e.child)}function qI(t,e,r,n,i){if(Bi(r)){var s=!0;Kw(e)}else s=!1;if(sh(e,i),e.stateNode===null)nw(t,e),WD(e,r,n),m5(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=js(u):(u=Bi(r)?cd:si.current,u=Mh(e,u));var l=r.getDerivedStateFromProps,d=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&UI(e,o,n,u),tu=!1;var f=e.memoizedState;o.state=f,Xw(e,n,o,i),c=e.memoizedState,a!==n||f!==c||Mi.current||tu?(typeof l=="function"&&(g5(e,r,l,n),c=e.memoizedState),(a=tu||BI(e,r,a,n,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,CD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:co(e.type,a),o.props=u,d=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=js(c):(c=Bi(r)?cd:si.current,c=Mh(e,c));var h=r.getDerivedStateFromProps;(l=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&UI(e,o,n,c),tu=!1,f=e.memoizedState,o.state=f,Xw(e,n,o,i);var p=e.memoizedState;a!==d||f!==p||Mi.current||tu?(typeof h=="function"&&(g5(e,r,h,n),p=e.memoizedState),(u=tu||BI(e,r,u,n,f,p,c)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return b5(t,e,r,n,s,i)}function b5(t,e,r,n,i,s){YD(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&NI(e,r,!1),Ec(t,e,s);n=e.stateNode,mH.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Uh(e,t.child,null,s),e.child=Uh(e,null,a,s)):di(t,e,a,s),e.memoizedState=n.state,i&&NI(e,r,!0),e.child}function JD(t){var e=t.stateNode;e.pendingContext?II(t,e.pendingContext,e.pendingContext!==e.context):e.context&&II(t,e.context,!1),Px(t,e.containerInfo)}function HI(t,e,r,n,i){return Bh(),Cx(i),e.flags|=256,di(t,e,r,n),e.child}var v5={dehydrated:null,treeContext:null,retryLane:0};function E5(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZD(t,e,r){var n=e.pendingProps,i=Cr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jt(Cr,i&1),t===null)return h5(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_v(o,n,0,null),t=ed(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=E5(r),e.memoizedState=v5,t):Fx(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yH(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Bu(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bu(a,s):(s=ed(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?E5(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=v5,n}return s=t.child,t=s.sibling,n=Bu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fx(t,e){return e=_v({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function n1(t,e,r,n){return n!==null&&Cx(n),Uh(e,t.child,null,r),t=Fx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yH(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=S2(Error(de(422))),n1(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=_v({mode:"visible",children:n.children},i,0,null),s=ed(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Uh(e,t.child,null,o),e.child.memoizedState=E5(o),e.memoizedState=v5,s);if(!(e.mode&1))return n1(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(de(419)),n=S2(s,n,void 0),n1(t,e,o,n)}if(a=(o&t.childLanes)!==0,Di||a){if(n=In,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vc(t,i),xo(n,t,i,-1))}return Hx(),n=S2(Error(de(421))),n1(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PH.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ns=Ou(i.nextSibling),os=e,wr=!0,mo=null,t!==null&&(Ds[Ms++]=oc,Ds[Ms++]=ac,Ds[Ms++]=ud,oc=t.id,ac=t.overflow,ud=e),e=Fx(e,n.children),e.flags|=4096,e)}function WI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),p5(t.return,e,r)}function I2(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function XD(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(di(t,e,n.children,r),n=Cr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WI(t,r,e);else if(t.tag===19)WI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Jt(Cr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&eb(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),I2(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&eb(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}I2(e,!0,r,null,s);break;case"together":I2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ec(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,r=Bu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Bu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function wH(t,e,r){switch(e.tag){case 3:JD(e),Bh();break;case 5:xD(e);break;case 1:Bi(e.type)&&Kw(e);break;case 4:Px(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Jt(Jw,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Jt(Cr,Cr.current&1),e.flags|=128,null):r&e.child.childLanes?ZD(t,e,r):(Jt(Cr,Cr.current&1),t=Ec(t,e,r),t!==null?t.sibling:null);Jt(Cr,Cr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return XD(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jt(Cr,Cr.current),n)break;return null;case 22:case 23:return e.lanes=0,QD(t,e,r)}return Ec(t,e,r)}var e9,A5,t9,r9;e9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};A5=function(){};t9=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ml(fa.current);var s=null;switch(r){case"input":i=H6(t,i),n=H6(t,n),s=[];break;case"select":i=Sr({},i,{value:void 0}),n=Sr({},n,{value:void 0}),s=[];break;case"textarea":i=G6(t,i),n=G6(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vw)}Q6(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pr("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};r9=function(t,e,r,n){r!==n&&(e.flags|=4)};function Q0(t,e){if(!wr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bH(t,e,r){var n=e.pendingProps;switch(_x(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(e),null;case 1:return Bi(e.type)&&Gw(),Qn(e),null;case 3:return n=e.stateNode,Fh(),yr(Mi),yr(si),Ox(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(t1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mo!==null&&(P5(mo),mo=null))),A5(t,e),Qn(e),null;case 5:Rx(e);var i=Ml(yg.current);if(r=e.type,t!==null&&e.stateNode!=null)t9(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(de(166));return Qn(e),null}if(t=Ml(fa.current),t1(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ia]=e,n[gg]=s,t=(e.mode&1)!==0,r){case"dialog":pr("cancel",n),pr("close",n);break;case"iframe":case"object":case"embed":pr("load",n);break;case"video":case"audio":for(i=0;i<Sp.length;i++)pr(Sp[i],n);break;case"source":pr("error",n);break;case"img":case"image":case"link":pr("error",n),pr("load",n);break;case"details":pr("toggle",n);break;case"input":eI(n,s),pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},pr("invalid",n);break;case"textarea":rI(n,s),pr("invalid",n)}Q6(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&e1(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&e1(n.textContent,a,t),i=["children",""+a]):sg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pr("scroll",n)}switch(r){case"input":Vy(n),tI(n,s,!0);break;case"textarea":Vy(n),nI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Vw)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ia]=e,t[gg]=n,e9(t,e,!1,!1),e.stateNode=t;e:{switch(o=Y6(r,n),r){case"dialog":pr("cancel",t),pr("close",t),i=n;break;case"iframe":case"object":case"embed":pr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Sp.length;i++)pr(Sp[i],t);i=n;break;case"source":pr("error",t),i=n;break;case"img":case"image":case"link":pr("error",t),pr("load",t),i=n;break;case"details":pr("toggle",t),i=n;break;case"input":eI(t,n),i=H6(t,n),pr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Sr({},n,{value:void 0}),pr("invalid",t);break;case"textarea":rI(t,n),i=G6(t,n),pr("invalid",t);break;default:i=n}Q6(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?kk(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rk(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&og(t,c):typeof c=="number"&&og(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&pr("scroll",t):c!=null&&cx(t,s,c,o))}switch(r){case"input":Vy(t),tI(t,n,!1);break;case"textarea":Vy(t),nI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Wu(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?th(t,!!n.multiple,s,!1):n.defaultValue!=null&&th(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qn(e),null;case 6:if(t&&e.stateNode!=null)r9(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(de(166));if(r=Ml(yg.current),Ml(fa.current),t1(e)){if(n=e.stateNode,r=e.memoizedProps,n[ia]=e,(s=n.nodeValue!==r)&&(t=os,t!==null))switch(t.tag){case 3:e1(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&e1(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ia]=e,e.stateNode=n}return Qn(e),null;case 13:if(yr(Cr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wr&&ns!==null&&e.mode&1&&!(e.flags&128))vD(),Bh(),e.flags|=98560,s=!1;else if(s=t1(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(de(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[ia]=e}else Bh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qn(e),s=!1}else mo!==null&&(P5(mo),mo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Cr.current&1?an===0&&(an=3):Hx())),e.updateQueue!==null&&(e.flags|=4),Qn(e),null);case 4:return Fh(),A5(t,e),t===null&&hg(e.stateNode.containerInfo),Qn(e),null;case 10:return Ix(e.type._context),Qn(e),null;case 17:return Bi(e.type)&&Gw(),Qn(e),null;case 19:if(yr(Cr),s=e.memoizedState,s===null)return Qn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Q0(s,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=eb(t),o!==null){for(e.flags|=128,Q0(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Jt(Cr,Cr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ur()>Lh&&(e.flags|=128,n=!0,Q0(s,!1),e.lanes=4194304)}else{if(!n)if(t=eb(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Q0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wr)return Qn(e),null}else 2*Ur()-s.renderingStartTime>Lh&&r!==1073741824&&(e.flags|=128,n=!0,Q0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ur(),e.sibling=null,r=Cr.current,Jt(Cr,n?r&1|2:r&1),e):(Qn(e),null);case 22:case 23:return qx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Yi&1073741824&&(Qn(e),e.subtreeFlags&6&&(e.flags|=8192)):Qn(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function vH(t,e){switch(_x(e),e.tag){case 1:return Bi(e.type)&&Gw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fh(),yr(Mi),yr(si),Ox(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rx(e),null;case 13:if(yr(Cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Bh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yr(Cr),null;case 4:return Fh(),null;case 10:return Ix(e.type._context),null;case 22:case 23:return qx(),null;case 24:return null;default:return null}}var i1=!1,ri=!1,EH=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Vf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rr(t,e,n)}else r.current=null}function _5(t,e,r){try{r()}catch(n){Rr(t,e,n)}}var VI=!1;function AH(t,e){if(o5=qw,t=aD(),Ex(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,l=0,d=t,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++l===n&&(c=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(a5={focusedElem:t,selectionRange:r},qw=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:co(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(x){Rr(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return p=VI,VI=!1,p}function jp(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_5(e,r,s)}i=i.next}while(i!==n)}}function Ev(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function C5(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function n9(t){var e=t.alternate;e!==null&&(t.alternate=null,n9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ia],delete e[gg],delete e[l5],delete e[iH],delete e[sH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i9(t){return t.tag===5||t.tag===3||t.tag===4}function GI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x5(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vw));else if(n!==4&&(t=t.child,t!==null))for(x5(t,e,r),t=t.sibling;t!==null;)x5(t,e,r),t=t.sibling}function S5(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(S5(t,e,r),t=t.sibling;t!==null;)S5(t,e,r),t=t.sibling}var Dn=null,go=!1;function Lc(t,e,r){for(r=r.child;r!==null;)s9(t,e,r),r=r.sibling}function s9(t,e,r){if(da&&typeof da.onCommitFiberUnmount=="function")try{da.onCommitFiberUnmount(hv,r)}catch{}switch(r.tag){case 5:ri||Vf(r,e);case 6:var n=Dn,i=go;Dn=null,Lc(t,e,r),Dn=n,go=i,Dn!==null&&(go?(t=Dn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Dn.removeChild(r.stateNode));break;case 18:Dn!==null&&(go?(t=Dn,r=r.stateNode,t.nodeType===8?v2(t.parentNode,r):t.nodeType===1&&v2(t,r),lg(t)):v2(Dn,r.stateNode));break;case 4:n=Dn,i=go,Dn=r.stateNode.containerInfo,go=!0,Lc(t,e,r),Dn=n,go=i;break;case 0:case 11:case 14:case 15:if(!ri&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_5(r,e,o),i=i.next}while(i!==n)}Lc(t,e,r);break;case 1:if(!ri&&(Vf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Rr(r,e,a)}Lc(t,e,r);break;case 21:Lc(t,e,r);break;case 22:r.mode&1?(ri=(n=ri)||r.memoizedState!==null,Lc(t,e,r),ri=n):Lc(t,e,r);break;default:Lc(t,e,r)}}function KI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new EH),e.forEach(function(n){var i=RH.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dn=a.stateNode,go=!1;break e;case 3:Dn=a.stateNode.containerInfo,go=!0;break e;case 4:Dn=a.stateNode.containerInfo,go=!0;break e}a=a.return}if(Dn===null)throw Error(de(160));s9(s,o,i),Dn=null,go=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Rr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o9(e,t),e=e.sibling}function o9(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zs(e,t),Uo(t),n&4){try{jp(3,t,t.return),Ev(3,t)}catch(g){Rr(t,t.return,g)}try{jp(5,t,t.return)}catch(g){Rr(t,t.return,g)}}break;case 1:Zs(e,t),Uo(t),n&512&&r!==null&&Vf(r,r.return);break;case 5:if(Zs(e,t),Uo(t),n&512&&r!==null&&Vf(r,r.return),t.flags&32){var i=t.stateNode;try{og(i,"")}catch(g){Rr(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nk(i,s),Y6(a,o);var u=Y6(a,s);for(o=0;o<c.length;o+=2){var l=c[o],d=c[o+1];l==="style"?kk(i,d):l==="dangerouslySetInnerHTML"?Rk(i,d):l==="children"?og(i,d):cx(i,l,d,u)}switch(a){case"input":W6(i,s);break;case"textarea":Tk(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?th(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?th(i,!!s.multiple,s.defaultValue,!0):th(i,!!s.multiple,s.multiple?[]:"",!1))}i[gg]=s}catch(g){Rr(t,t.return,g)}}break;case 6:if(Zs(e,t),Uo(t),n&4){if(t.stateNode===null)throw Error(de(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Rr(t,t.return,g)}}break;case 3:if(Zs(e,t),Uo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lg(e.containerInfo)}catch(g){Rr(t,t.return,g)}break;case 4:Zs(e,t),Uo(t);break;case 13:Zs(e,t),Uo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jx=Ur())),n&4&&KI(t);break;case 22:if(l=r!==null&&r.memoizedState!==null,t.mode&1?(ri=(u=ri)||l,Zs(e,t),ri=u):Zs(e,t),Uo(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!l&&t.mode&1)for(Ie=t,l=t.child;l!==null;){for(d=Ie=l;Ie!==null;){switch(f=Ie,h=f.child,f.tag){case 0:case 11:case 14:case 15:jp(4,f,f.return);break;case 1:Vf(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Rr(n,r,g)}}break;case 5:Vf(f,f.return);break;case 22:if(f.memoizedState!==null){YI(d);continue}}h!==null?(h.return=f,Ie=h):YI(d)}l=l.sibling}e:for(l=null,d=t;;){if(d.tag===5){if(l===null){l=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ok("display",o))}catch(g){Rr(t,t.return,g)}}}else if(d.tag===6){if(l===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Rr(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zs(e,t),Uo(t),n&4&&KI(t);break;case 21:break;default:Zs(e,t),Uo(t)}}function Uo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(i9(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(og(i,""),n.flags&=-33);var s=GI(t);S5(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=GI(t);x5(t,a,o);break;default:throw Error(de(161))}}catch(c){Rr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _H(t,e,r){Ie=t,a9(t)}function a9(t,e,r){for(var n=(t.mode&1)!==0;Ie!==null;){var i=Ie,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||i1;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||ri;a=i1;var u=ri;if(i1=o,(ri=c)&&!u)for(Ie=i;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?JI(i):c!==null?(c.return=o,Ie=c):JI(i);for(;s!==null;)Ie=s,a9(s),s=s.sibling;Ie=i,i1=a,ri=u}QI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ie=s):QI(t)}}function QI(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ri||Ev(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ri)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:co(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kI(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kI(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var l=u.memoizedState;if(l!==null){var d=l.dehydrated;d!==null&&lg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}ri||e.flags&512&&C5(e)}catch(f){Rr(e,e.return,f)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function YI(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function JI(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ev(4,e)}catch(c){Rr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Rr(e,i,c)}}var s=e.return;try{C5(e)}catch(c){Rr(e,s,c)}break;case 5:var o=e.return;try{C5(e)}catch(c){Rr(e,o,c)}}}catch(c){Rr(e,e.return,c)}if(e===t){Ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ie=a;break}Ie=e.return}}var CH=Math.ceil,nb=Tc.ReactCurrentDispatcher,$x=Tc.ReactCurrentOwner,Ls=Tc.ReactCurrentBatchConfig,wt=0,In=null,Qr=null,Ln=0,Yi=0,Gf=rl(0),an=0,Eg=null,dd=0,Av=0,Lx=0,zp=null,Oi=null,jx=0,Lh=1/0,Ga=null,ib=!1,I5=null,Du=null,s1=!1,Cu=null,sb=0,qp=0,N5=null,iw=-1,sw=0;function pi(){return wt&6?Ur():iw!==-1?iw:iw=Ur()}function Mu(t){return t.mode&1?wt&2&&Ln!==0?Ln&-Ln:aH.transition!==null?(sw===0&&(sw=Wk()),sw):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:Zk(t.type)),t):1}function xo(t,e,r,n){if(50<qp)throw qp=0,N5=null,Error(de(185));Zm(t,r,n),(!(wt&2)||t!==In)&&(t===In&&(!(wt&2)&&(Av|=r),an===4&&cu(t,Ln)),Ui(t,n),r===1&&wt===0&&!(e.mode&1)&&(Lh=Ur()+500,wv&&nl()))}function Ui(t,e){var r=t.callbackNode;aq(t,e);var n=zw(t,t===In?Ln:0);if(n===0)r!==null&&oI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&oI(r),e===1)t.tag===0?oH(ZI.bind(null,t)):yD(ZI.bind(null,t)),rH(function(){!(wt&6)&&nl()}),r=null;else{switch(Vk(n)){case 1:r=hx;break;case 4:r=qk;break;case 16:r=jw;break;case 536870912:r=Hk;break;default:r=jw}r=g9(r,c9.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function c9(t,e){if(iw=-1,sw=0,wt&6)throw Error(de(327));var r=t.callbackNode;if(oh()&&t.callbackNode!==r)return null;var n=zw(t,t===In?Ln:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ob(t,n);else{e=n;var i=wt;wt|=2;var s=l9();(In!==t||Ln!==e)&&(Ga=null,Lh=Ur()+500,Xl(t,e));do try{IH();break}catch(a){u9(t,a)}while(1);Sx(),nb.current=s,wt=i,Qr!==null?e=0:(In=null,Ln=0,e=an)}if(e!==0){if(e===2&&(i=t5(t),i!==0&&(n=i,e=T5(t,i))),e===1)throw r=Eg,Xl(t,0),cu(t,n),Ui(t,Ur()),r;if(e===6)cu(t,n);else{if(i=t.current.alternate,!(n&30)&&!xH(i)&&(e=ob(t,n),e===2&&(s=t5(t),s!==0&&(n=s,e=T5(t,s))),e===1))throw r=Eg,Xl(t,0),cu(t,n),Ui(t,Ur()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(de(345));case 2:_l(t,Oi,Ga);break;case 3:if(cu(t,n),(n&130023424)===n&&(e=jx+500-Ur(),10<e)){if(zw(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){pi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=u5(_l.bind(null,t,Oi,Ga),e);break}_l(t,Oi,Ga);break;case 4:if(cu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Co(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ur()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CH(n/1960))-n,10<n){t.timeoutHandle=u5(_l.bind(null,t,Oi,Ga),n);break}_l(t,Oi,Ga);break;case 5:_l(t,Oi,Ga);break;default:throw Error(de(329))}}}return Ui(t,Ur()),t.callbackNode===r?c9.bind(null,t):null}function T5(t,e){var r=zp;return t.current.memoizedState.isDehydrated&&(Xl(t,e).flags|=256),t=ob(t,e),t!==2&&(e=Oi,Oi=r,e!==null&&P5(e)),t}function P5(t){Oi===null?Oi=t:Oi.push.apply(Oi,t)}function xH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!To(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cu(t,e){for(e&=~Lx,e&=~Av,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Co(e),n=1<<r;t[r]=-1,e&=~n}}function ZI(t){if(wt&6)throw Error(de(327));oh();var e=zw(t,0);if(!(e&1))return Ui(t,Ur()),null;var r=ob(t,e);if(t.tag!==0&&r===2){var n=t5(t);n!==0&&(e=n,r=T5(t,n))}if(r===1)throw r=Eg,Xl(t,0),cu(t,e),Ui(t,Ur()),r;if(r===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_l(t,Oi,Ga),Ui(t,Ur()),null}function zx(t,e){var r=wt;wt|=1;try{return t(e)}finally{wt=r,wt===0&&(Lh=Ur()+500,wv&&nl())}}function fd(t){Cu!==null&&Cu.tag===0&&!(wt&6)&&oh();var e=wt;wt|=1;var r=Ls.transition,n=Ut;try{if(Ls.transition=null,Ut=1,t)return t()}finally{Ut=n,Ls.transition=r,wt=e,!(wt&6)&&nl()}}function qx(){Yi=Gf.current,yr(Gf)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tH(r)),Qr!==null)for(r=Qr.return;r!==null;){var n=r;switch(_x(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gw();break;case 3:Fh(),yr(Mi),yr(si),Ox();break;case 5:Rx(n);break;case 4:Fh();break;case 13:yr(Cr);break;case 19:yr(Cr);break;case 10:Ix(n.type._context);break;case 22:case 23:qx()}r=r.return}if(In=t,Qr=t=Bu(t.current,null),Ln=Yi=e,an=0,Eg=null,Lx=Av=dd=0,Oi=zp=null,Dl!==null){for(e=0;e<Dl.length;e++)if(r=Dl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Dl=null}return t}function u9(t,e){do{var r=Qr;try{if(Sx(),tw.current=rb,tb){for(var n=xr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}tb=!1}if(ld=0,wn=rn=xr=null,Lp=!1,wg=0,$x.current=null,r===null||r.return===null){an=1,Eg=e,Qr=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=Ln,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,l=a,d=l.tag;if(!(l.mode&1)&&(d===0||d===11||d===15)){var f=l.alternate;f?(l.updateQueue=f.updateQueue,l.memoizedState=f.memoizedState,l.lanes=f.lanes):(l.updateQueue=null,l.memoizedState=null)}var h=$I(o);if(h!==null){h.flags&=-257,LI(h,o,a,s,e),h.mode&1&&FI(s,u,e),e=h,c=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){FI(s,u,e),Hx();break e}c=Error(de(426))}}else if(wr&&a.mode&1){var w=$I(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),LI(w,o,a,s,e),Cx($h(c,a));break e}}s=c=$h(c,a),an!==4&&(an=2),zp===null?zp=[s]:zp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=VD(s,c,e);OI(s,y);break e;case 1:a=c;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Du===null||!Du.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=GD(s,a,e);OI(s,x);break e}}s=s.return}while(s!==null)}f9(r)}catch(N){e=N,Qr===r&&r!==null&&(Qr=r=r.return);continue}break}while(1)}function l9(){var t=nb.current;return nb.current=rb,t===null?rb:t}function Hx(){(an===0||an===3||an===2)&&(an=4),In===null||!(dd&268435455)&&!(Av&268435455)||cu(In,Ln)}function ob(t,e){var r=wt;wt|=2;var n=l9();(In!==t||Ln!==e)&&(Ga=null,Xl(t,e));do try{SH();break}catch(i){u9(t,i)}while(1);if(Sx(),wt=r,nb.current=n,Qr!==null)throw Error(de(261));return In=null,Ln=0,an}function SH(){for(;Qr!==null;)d9(Qr)}function IH(){for(;Qr!==null&&!Zz();)d9(Qr)}function d9(t){var e=p9(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,e===null?f9(t):Qr=e,$x.current=null}function f9(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=vH(r,e),r!==null){r.flags&=32767,Qr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Qr=null;return}}else if(r=bH(r,e,Yi),r!==null){Qr=r;return}if(e=e.sibling,e!==null){Qr=e;return}Qr=e=t}while(e!==null);an===0&&(an=5)}function _l(t,e,r){var n=Ut,i=Ls.transition;try{Ls.transition=null,Ut=1,NH(t,e,r,n)}finally{Ls.transition=i,Ut=n}return null}function NH(t,e,r,n){do oh();while(Cu!==null);if(wt&6)throw Error(de(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(cq(t,s),t===In&&(Qr=In=null,Ln=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||s1||(s1=!0,g9(jw,function(){return oh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ls.transition,Ls.transition=null;var o=Ut;Ut=1;var a=wt;wt|=4,$x.current=null,AH(t,r),o9(r,t),Kq(a5),qw=!!o5,a5=o5=null,t.current=r,_H(r),Xz(),wt=a,Ut=o,Ls.transition=s}else t.current=r;if(s1&&(s1=!1,Cu=t,sb=i),s=t.pendingLanes,s===0&&(Du=null),rq(r.stateNode),Ui(t,Ur()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ib)throw ib=!1,t=I5,I5=null,t;return sb&1&&t.tag!==0&&oh(),s=t.pendingLanes,s&1?t===N5?qp++:(qp=0,N5=t):qp=0,nl(),null}function oh(){if(Cu!==null){var t=Vk(sb),e=Ls.transition,r=Ut;try{if(Ls.transition=null,Ut=16>t?16:t,Cu===null)var n=!1;else{if(t=Cu,Cu=null,sb=0,wt&6)throw Error(de(331));var i=wt;for(wt|=4,Ie=t.current;Ie!==null;){var s=Ie,o=s.child;if(Ie.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Ie=u;Ie!==null;){var l=Ie;switch(l.tag){case 0:case 11:case 15:jp(8,l,s)}var d=l.child;if(d!==null)d.return=l,Ie=d;else for(;Ie!==null;){l=Ie;var f=l.sibling,h=l.return;if(n9(l),l===u){Ie=null;break}if(f!==null){f.return=h,Ie=f;break}Ie=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ie=o;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jp(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ie=y;break e}Ie=s.return}}var b=t.current;for(Ie=b;Ie!==null;){o=Ie;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Ie=E;else e:for(o=b;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ev(9,a)}}catch(N){Rr(a,a.return,N)}if(a===o){Ie=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Ie=x;break e}Ie=a.return}}if(wt=i,nl(),da&&typeof da.onPostCommitFiberRoot=="function")try{da.onPostCommitFiberRoot(hv,t)}catch{}n=!0}return n}finally{Ut=r,Ls.transition=e}}return!1}function XI(t,e,r){e=$h(r,e),e=VD(t,e,1),t=ku(t,e,1),e=pi(),t!==null&&(Zm(t,1,e),Ui(t,e))}function Rr(t,e,r){if(t.tag===3)XI(t,t,r);else for(;e!==null;){if(e.tag===3){XI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Du===null||!Du.has(n))){t=$h(r,t),t=GD(e,t,1),e=ku(e,t,1),t=pi(),e!==null&&(Zm(e,1,t),Ui(e,t));break}}e=e.return}}function TH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=pi(),t.pingedLanes|=t.suspendedLanes&r,In===t&&(Ln&r)===r&&(an===4||an===3&&(Ln&130023424)===Ln&&500>Ur()-jx?Xl(t,0):Lx|=r),Ui(t,e)}function h9(t,e){e===0&&(t.mode&1?(e=Qy,Qy<<=1,!(Qy&130023424)&&(Qy=4194304)):e=1);var r=pi();t=vc(t,e),t!==null&&(Zm(t,e,r),Ui(t,r))}function PH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),h9(t,r)}function RH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(e),h9(t,r)}var p9;p9=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mi.current)Di=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Di=!1,wH(t,e,r);Di=!!(t.flags&131072)}else Di=!1,wr&&e.flags&1048576&&wD(e,Yw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;nw(t,e),t=e.pendingProps;var i=Mh(e,si.current);sh(e,r),i=Dx(null,e,n,t,i,r);var s=Mx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bi(n)?(s=!0,Kw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tx(e),i.updater=vv,e.stateNode=i,i._reactInternals=e,m5(e,n,t,r),e=b5(null,e,n,!0,s,r)):(e.tag=0,wr&&s&&Ax(e),di(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(nw(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=kH(n),t=co(n,t),i){case 0:e=w5(null,e,n,t,r);break e;case 1:e=qI(null,e,n,t,r);break e;case 11:e=jI(null,e,n,t,r);break e;case 14:e=zI(null,e,n,co(n.type,t),r);break e}throw Error(de(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:co(n,i),w5(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:co(n,i),qI(t,e,n,i,r);case 3:e:{if(JD(e),t===null)throw Error(de(387));n=e.pendingProps,s=e.memoizedState,i=s.element,CD(t,e),Xw(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$h(Error(de(423)),e),e=HI(t,e,n,r,i);break e}else if(n!==i){i=$h(Error(de(424)),e),e=HI(t,e,n,r,i);break e}else for(ns=Ou(e.stateNode.containerInfo.firstChild),os=e,wr=!0,mo=null,r=AD(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bh(),n===i){e=Ec(t,e,r);break e}di(t,e,n,r)}e=e.child}return e;case 5:return xD(e),t===null&&h5(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,c5(n,i)?o=null:s!==null&&c5(n,s)&&(e.flags|=32),YD(t,e),di(t,e,o,r),e.child;case 6:return t===null&&h5(e),null;case 13:return ZD(t,e,r);case 4:return Px(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Uh(e,null,n,r):di(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:co(n,i),jI(t,e,n,i,r);case 7:return di(t,e,e.pendingProps,r),e.child;case 8:return di(t,e,e.pendingProps.children,r),e.child;case 12:return di(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Jt(Jw,n._currentValue),n._currentValue=o,s!==null)if(To(s.value,o)){if(s.children===i.children&&!Mi.current){e=Ec(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=fc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var l=u.pending;l===null?c.next=c:(c.next=l.next,l.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),p5(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(de(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),p5(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}di(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,sh(e,r),i=js(i),n=n(i),e.flags|=1,di(t,e,n,r),e.child;case 14:return n=e.type,i=co(n,e.pendingProps),i=co(n.type,i),zI(t,e,n,i,r);case 15:return KD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:co(n,i),nw(t,e),e.tag=1,Bi(n)?(t=!0,Kw(e)):t=!1,sh(e,r),WD(e,n,i),m5(e,n,i,r),b5(null,e,n,!0,t,r);case 19:return XD(t,e,r);case 22:return QD(t,e,r)}throw Error(de(156,e.tag))};function g9(t,e){return zk(t,e)}function OH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(t,e,r,n){return new OH(t,e,r,n)}function Wx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kH(t){if(typeof t=="function")return Wx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lx)return 11;if(t===dx)return 14}return 2}function Bu(t,e){var r=t.alternate;return r===null?(r=Fs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ow(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Wx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Uf:return ed(r.children,i,s,e);case ux:o=8,i|=8;break;case L6:return t=Fs(12,r,e,i|2),t.elementType=L6,t.lanes=s,t;case j6:return t=Fs(13,r,e,i),t.elementType=j6,t.lanes=s,t;case z6:return t=Fs(19,r,e,i),t.elementType=z6,t.lanes=s,t;case xk:return _v(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _k:o=10;break e;case Ck:o=9;break e;case lx:o=11;break e;case dx:o=14;break e;case eu:o=16,n=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Fs(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ed(t,e,r,n){return t=Fs(7,t,n,e),t.lanes=r,t}function _v(t,e,r,n){return t=Fs(22,t,n,e),t.elementType=xk,t.lanes=r,t.stateNode={isHidden:!1},t}function N2(t,e,r){return t=Fs(6,t,null,e),t.lanes=r,t}function T2(t,e,r){return e=Fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DH(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u2(0),this.expirationTimes=u2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u2(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vx(t,e,r,n,i,s,o,a,c){return t=new DH(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tx(s),t}function MH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function m9(t){if(!t)return Vu;t=t._reactInternals;e:{if(Fd(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var r=t.type;if(Bi(r))return mD(t,r,e)}return e}function y9(t,e,r,n,i,s,o,a,c){return t=Vx(r,n,!0,t,i,s,o,a,c),t.context=m9(null),r=t.current,n=pi(),i=Mu(r),s=fc(n,i),s.callback=e??null,ku(r,s,i),t.current.lanes=i,Zm(t,i,n),Ui(t,n),t}function Cv(t,e,r,n){var i=e.current,s=pi(),o=Mu(i);return r=m9(r),e.context===null?e.context=r:e.pendingContext=r,e=fc(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ku(i,e,o),t!==null&&(xo(t,i,o,s),ew(t,i,o)),o}function ab(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Gx(t,e){eN(t,e),(t=t.alternate)&&eN(t,e)}function BH(){return null}var w9=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kx(t){this._internalRoot=t}xv.prototype.render=Kx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));Cv(t,e,null,null)};xv.prototype.unmount=Kx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fd(function(){Cv(null,t,null,null)}),e[bc]=null}};function xv(t){this._internalRoot=t}xv.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<au.length&&e!==0&&e<au[r].priority;r++);au.splice(r,0,t),r===0&&Jk(t)}};function Qx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tN(){}function UH(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=ab(o);s.call(u)}}var o=y9(e,n,t,0,null,!1,!1,"",tN);return t._reactRootContainer=o,t[bc]=o.current,hg(t.nodeType===8?t.parentNode:t),fd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=ab(c);a.call(u)}}var c=Vx(t,0,!1,null,null,!1,!1,"",tN);return t._reactRootContainer=c,t[bc]=c.current,hg(t.nodeType===8?t.parentNode:t),fd(function(){Cv(e,c,r,n)}),c}function Iv(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=ab(o);a.call(c)}}Cv(e,o,t,i)}else o=UH(r,e,t,i,n);return ab(o)}Gk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=xp(e.pendingLanes);r!==0&&(px(e,r|1),Ui(e,Ur()),!(wt&6)&&(Lh=Ur()+500,nl()))}break;case 13:fd(function(){var n=vc(t,1);if(n!==null){var i=pi();xo(n,t,1,i)}}),Gx(t,1)}};gx=function(t){if(t.tag===13){var e=vc(t,134217728);if(e!==null){var r=pi();xo(e,t,134217728,r)}Gx(t,134217728)}};Kk=function(t){if(t.tag===13){var e=Mu(t),r=vc(t,e);if(r!==null){var n=pi();xo(r,t,e,n)}Gx(t,e)}};Qk=function(){return Ut};Yk=function(t,e){var r=Ut;try{return Ut=t,e()}finally{Ut=r}};Z6=function(t,e,r){switch(e){case"input":if(W6(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=yv(n);if(!i)throw Error(de(90));Ik(n),W6(n,i)}}}break;case"textarea":Tk(t,r);break;case"select":e=r.value,e!=null&&th(t,!!r.multiple,e,!1)}};Bk=zx;Uk=fd;var FH={usingClientEntryPoint:!1,Events:[ey,jf,yv,Dk,Mk,zx]},Y0={findFiberByHostInstance:kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$H={bundleType:Y0.bundleType,version:Y0.version,rendererPackageName:Y0.rendererPackageName,rendererConfig:Y0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lk(t),t===null?null:t.stateNode},findFiberByHostInstance:Y0.findFiberByHostInstance||BH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o1.isDisabled&&o1.supportsFiber)try{hv=o1.inject($H),da=o1}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FH;fs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qx(e))throw Error(de(200));return MH(t,e,null,r)};fs.createRoot=function(t,e){if(!Qx(t))throw Error(de(299));var r=!1,n="",i=w9;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vx(t,1,!1,null,null,r,!1,n,i),t[bc]=e.current,hg(t.nodeType===8?t.parentNode:t),new Kx(e)};fs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=Lk(e),t=t===null?null:t.stateNode,t};fs.flushSync=function(t){return fd(t)};fs.hydrate=function(t,e,r){if(!Sv(e))throw Error(de(200));return Iv(null,t,e,!0,r)};fs.hydrateRoot=function(t,e,r){if(!Qx(t))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=w9;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=y9(e,null,t,1,r??null,i,!1,s,o),t[bc]=e.current,hg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new xv(e)};fs.render=function(t,e,r){if(!Sv(e))throw Error(de(200));return Iv(null,t,e,!1,r)};fs.unmountComponentAtNode=function(t){if(!Sv(t))throw Error(de(40));return t._reactRootContainer?(fd(function(){Iv(null,null,t,!1,function(){t._reactRootContainer=null,t[bc]=null})}),!0):!1};fs.unstable_batchedUpdates=zx;fs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Sv(r))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return Iv(t,e,r,!1,n)};fs.version="18.3.1-next-f1338f8080-20240426";function b9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b9)}catch(t){console.error(t)}}b9(),bk.exports=fs;var LH=bk.exports,rN=LH;F6.createRoot=rN.createRoot,F6.hydrateRoot=rN.hydrateRoot;const jH=Symbol(),nN=Object.getPrototypeOf,R5=new WeakMap,zH=t=>t&&(R5.has(t)?R5.get(t):nN(t)===Object.prototype||nN(t)===Array.prototype),qH=t=>zH(t)&&t[jH]||null,iN=(t,e=!0)=>{R5.set(t,e)},P2=t=>typeof t=="object"&&t!==null,ru=new WeakMap,Ip=new WeakSet,HH=(t=Object.is,e=(u,l)=>new Proxy(u,l),r=u=>P2(u)&&!Ip.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),n=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,l,d=n)=>{const f=i.get(u);if((f==null?void 0:f[0])===l)return f[1];const h=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return iN(h,!0),i.set(u,[l,h]),Reflect.ownKeys(u).forEach(p=>{if(Object.getOwnPropertyDescriptor(h,p))return;const g=Reflect.get(u,p),{enumerable:w}=Reflect.getOwnPropertyDescriptor(u,p),y={value:g,enumerable:w,configurable:!0};if(Ip.has(g))iN(g,!1);else if(g instanceof Promise)delete y.value,y.get=()=>d(g);else if(ru.has(g)){const[b,E]=ru.get(g);y.value=s(b,E(),d)}Object.defineProperty(h,p,y)}),Object.preventExtensions(h)},o=new WeakMap,a=[1,1],c=u=>{if(!P2(u))throw new Error("object required");const l=o.get(u);if(l)return l;let d=a[0];const f=new Set,h=(D,W=++a[0])=>{d!==W&&(d=W,f.forEach(H=>H(D,W)))};let p=a[1];const g=(D=++a[1])=>(p!==D&&!f.size&&(p=D,y.forEach(([W])=>{const H=W[1](D);H>d&&(d=H)})),d),w=D=>(W,H)=>{const Q=[...W];Q[1]=[D,...Q[1]],h(Q,H)},y=new Map,b=(D,W)=>{if(f.size){const H=W[3](w(D));y.set(D,[W,H])}else y.set(D,[W])},E=D=>{var W;const H=y.get(D);H&&(y.delete(D),(W=H[1])==null||W.call(H))},x=D=>(f.add(D),f.size===1&&y.forEach(([H,Q],$)=>{const m=H[3](w($));y.set($,[H,m])}),()=>{f.delete(D),f.size===0&&y.forEach(([H,Q],$)=>{Q&&(Q(),y.set($,[H]))})}),N=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),k=e(N,{deleteProperty(D,W){const H=Reflect.get(D,W);E(W);const Q=Reflect.deleteProperty(D,W);return Q&&h(["delete",[W],H]),Q},set(D,W,H,Q){const $=Reflect.has(D,W),m=Reflect.get(D,W,Q);if($&&(t(m,H)||o.has(H)&&t(m,o.get(H))))return!0;E(W),P2(H)&&(H=qH(H)||H);let v=H;if(H instanceof Promise)H.then(A=>{H.status="fulfilled",H.value=A,h(["resolve",[W],A])}).catch(A=>{H.status="rejected",H.reason=A,h(["reject",[W],A])});else{!ru.has(H)&&r(H)&&(v=c(H));const A=!Ip.has(v)&&ru.get(v);A&&b(W,A)}return Reflect.set(D,W,v,Q),h(["set",[W],H,m]),!0}});o.set(u,k);const U=[N,g,s,x];return ru.set(k,U),Reflect.ownKeys(u).forEach(D=>{const W=Object.getOwnPropertyDescriptor(u,D);"value"in W&&(k[D]=u[D],delete W.value,delete W.writable),Object.defineProperty(N,D,W)}),k})=>[c,ru,Ip,t,e,r,n,i,s,o,a],[WH]=HH();function vr(t={}){return WH(t)}function yi(t,e,r){const n=ru.get(t);let i;const s=[],o=n[3];let a=!1;const u=o(l=>{if(s.push(l),r){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function Ag(t,e){const r=ru.get(t),[n,i,s]=r;return s(n,i(),e)}function hd(t){return Ip.add(t),t}function Ei(t,e,r,n){let i=t[e];return yi(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)},n)}function VH(t){const e=vr({data:Array.from(t||[]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const i=this.data.find(s=>s[0]===r);return i?i[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(i=>i[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(i=>i[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const _g={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var GH=20,KH=1,pd=1e6,sN=1e6,QH=-7,YH=21,JH=!1,ry="[big.js] ",$d=ry+"Invalid ",Nv=$d+"decimal places",ZH=$d+"rounding mode",v9=ry+"Division by zero",Ft={},ha=void 0,XH=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function E9(){function t(e){var r=this;if(!(r instanceof t))return e===ha?E9():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError($d+"value");e=e===0&&1/e<0?"-0":String(e)}eW(r,e)}r.constructor=t}return t.prototype=Ft,t.DP=GH,t.RM=KH,t.NE=QH,t.PE=YH,t.strict=JH,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function eW(t,e){var r,n,i;if(!XH.test(e))throw Error($d+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function Ld(t,e,r,n){var i=t.c;if(r===ha&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(ZH);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==ha))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==ha||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function jd(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}Ft.abs=function(){var t=new this.constructor(this);return t.s=1,t};Ft.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Ft.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>pd)throw Error(Nv);if(!i[0])throw Error(v9);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,u,l,d,f=i.slice(),h=a=i.length,p=n.length,g=n.slice(0,a),w=g.length,y=t,b=y.c=[],E=0,x=o+(y.e=e.e-t.e)+1;for(y.s=s,s=x<0?0:x,f.unshift(0);w++<a;)g.push(0);do{for(u=0;u<10;u++){if(a!=(w=g.length))l=a>w?1:-1;else for(d=-1,l=0;++d<a;)if(i[d]!=g[d]){l=i[d]>g[d]?1:-1;break}if(l<0){for(c=w==a?i:f;w;){if(g[--w]<c[w]){for(d=w;d&&!g[--d];)g[d]=9;--g[d],g[w]+=10}g[w]-=c[w]}for(;!g[0];)g.shift()}else break}b[E++]=l?u:++u,g[0]&&l?g[w]=n[h]||0:g=[n[h]]}while((h++<p||g[0]!==ha)&&s--);return!b[0]&&E!=1&&(b.shift(),y.e--,x--),E>x&&Ld(y,x,r.RM,g[0]!==ha),y};Ft.eq=function(t){return this.cmp(t)===0};Ft.gt=function(t){return this.cmp(t)>0};Ft.gte=function(t){return this.cmp(t)>-1};Ft.lt=function(t){return this.cmp(t)<0};Ft.lte=function(t){return this.cmp(t)<1};Ft.minus=Ft.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var u=s.c.slice(),l=s.e,d=t.c,f=t.e;if(!u[0]||!d[0])return d[0]?t.s=-c:u[0]?t=new o(s):t.s=1,t;if(a=l-f){for((i=a<0)?(a=-a,n=u):(f=l,n=d),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=u.length<d.length)?u:d).length,a=c=0;c<r;c++)if(u[c]!=d[c]){i=u[c]<d[c];break}if(i&&(n=u,u=d,d=n,t.s=-t.s),(c=(r=d.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;r>a;){if(u[--r]<d[r]){for(e=r;e&&!u[--e];)u[e]=9;--u[e],u[r]+=10}u[r]-=d[r]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--f;return u[0]||(t.s=1,u=[f=0]),t.c=u,t.e=f,t};Ft.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(v9);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};Ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Ft.plus=Ft.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=u):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),e=u.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+u[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Ft.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-sN||t>sN)throw Error($d+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};Ft.prec=function(t,e){if(t!==~~t||t<1||t>pd)throw Error($d+"precision");return Ld(new this.constructor(this),t,e)};Ft.round=function(t,e){if(t===ha)t=0;else if(t!==~~t||t<-pd||t>pd)throw Error(Nv);return Ld(new this.constructor(this),t+this.e+1,e)};Ft.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(ry+"No square root");s=Math.sqrt(+jd(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Ld(t,(i.DP-=4)+t.e+1,i.RM)};Ft.times=Ft.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,u=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+u,o<a&&(e=i,i=s,s=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=e[u]+s[c]*i[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Ft.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==ha){if(t!==~~t||t<0||t>pd)throw Error(Nv);for(r=Ld(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return jd(r,!0,!!n)};Ft.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==ha){if(t!==~~t||t<0||t>pd)throw Error(Nv);for(r=Ld(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return jd(r,!1,!!n)};Ft[Symbol.for("nodejs.util.inspect.custom")]=Ft.toJSON=Ft.toString=function(){var t=this,e=t.constructor;return jd(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Ft.toNumber=function(){var t=+jd(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(ry+"Imprecise conversion");return t};Ft.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==ha){if(t!==~~t||t<1||t>pd)throw Error($d+"precision");for(r=Ld(new n(r),t,e);r.c.length<t;)r.c.push(0)}return jd(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};Ft.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(ry+"valueOf disallowed");return jd(t,t.e<=e.NE||t.e>=e.PE,!0)};var tW=E9();const J0=tW,a1={bigNumber(t){return t?new J0(t):new J0(0)},multiply(t,e){if(t===void 0||e===void 0)return new J0(0);const r=new J0(t),n=new J0(e);return r.times(n)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},rW=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],nW=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],iW=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],fe={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},sW={getERC20Abi:t=>fe.USDT_CONTRACT_ADDRESSES.includes(t)?iW:rW,getSwapAbi:()=>nW},jc={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},nt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function R2(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Ze={setItem(t,e){Np()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Np())return localStorage.getItem(t)||void 0},removeItem(t){Np()&&localStorage.removeItem(t)},clear(){Np()&&localStorage.clear()}};function Np(){return typeof window<"u"&&typeof localStorage<"u"}function cc(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function oW(t){return(t==null?void 0:t.endsWith(fe.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(fe.WC_NAME_SUFFIX))}function aW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A9={exports:{}},zr=A9.exports={},Yo,Jo;function O5(){throw new Error("setTimeout has not been defined")}function k5(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yo=setTimeout:Yo=O5}catch{Yo=O5}try{typeof clearTimeout=="function"?Jo=clearTimeout:Jo=k5}catch{Jo=k5}})();function _9(t){if(Yo===setTimeout)return setTimeout(t,0);if((Yo===O5||!Yo)&&setTimeout)return Yo=setTimeout,setTimeout(t,0);try{return Yo(t,0)}catch{try{return Yo.call(null,t,0)}catch{return Yo.call(this,t,0)}}}function cW(t){if(Jo===clearTimeout)return clearTimeout(t);if((Jo===k5||!Jo)&&clearTimeout)return Jo=clearTimeout,clearTimeout(t);try{return Jo(t)}catch{try{return Jo.call(null,t)}catch{return Jo.call(this,t)}}}var uc=[],ah=!1,Bl,aw=-1;function uW(){!ah||!Bl||(ah=!1,Bl.length?uc=Bl.concat(uc):aw=-1,uc.length&&C9())}function C9(){if(!ah){var t=_9(uW);ah=!0;for(var e=uc.length;e;){for(Bl=uc,uc=[];++aw<e;)Bl&&Bl[aw].run();aw=-1,e=uc.length}Bl=null,ah=!1,cW(t)}}zr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];uc.push(new x9(t,e)),uc.length===1&&!ah&&_9(C9)};function x9(t,e){this.fun=t,this.array=e}x9.prototype.run=function(){this.fun.apply(null,this.array)};zr.title="browser";zr.browser=!0;zr.env={};zr.argv=[];zr.version="";zr.versions={};function Pc(){}zr.on=Pc;zr.addListener=Pc;zr.once=Pc;zr.off=Pc;zr.removeListener=Pc;zr.removeAllListeners=Pc;zr.emit=Pc;zr.prependListener=Pc;zr.prependOnceListener=Pc;zr.listeners=function(t){return[]};zr.binding=function(t){throw new Error("process.binding is not supported")};zr.cwd=function(){return"/"};zr.chdir=function(t){throw new Error("process.chdir is not supported")};zr.umask=function(){return 0};var lW=A9.exports;const kr=aW(lW),O2=(typeof kr<"u"&&typeof{}<"u"?{}.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",l3e=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],d3e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",_n={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:O2,SECURE_SITE_DASHBOARD:`${O2}/dashboard`,SECURE_SITE_FAVICON:`${O2}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},_e={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=_e.getActiveNamespace(),e=_e.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{Ze.setItem(nt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Ze.getItem(nt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ze.removeItem(nt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Ze.setItem(nt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Ze.setItem(nt.ACTIVE_CAIP_NETWORK_ID,t),_e.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ze.getItem(nt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ze.removeItem(nt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=R2(t);Ze.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=_e.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Ze.setItem(nt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Ze.getItem(nt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=R2(t);Ze.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ze.getItem(nt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=R2(t);return Ze.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Ze.setItem(nt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ze.getItem(nt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ze.removeItem(nt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ze.getItem(nt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=Ze.getItem(nt.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{Ze.setItem(nt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ze.getItem(nt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Ze.getItem(nt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Ze.setItem(nt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=_e.getConnectedNamespaces();e.includes(t)||(e.push(t),_e.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=_e.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),_e.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ze.getItem(nt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Ze.setItem(nt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ze.removeItem(nt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Ze.getItem(nt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=_e.getBalanceCache();Ze.setItem(nt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=_e.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;_e.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=_e.getBalanceCache();e[t.caipAddress]=t,Ze.setItem(nt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Ze.getItem(nt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=_e.getBalanceCache();Ze.setItem(nt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=_e.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),_e.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=_e.getNativeBalanceCache();e[t.caipAddress]=t,Ze.setItem(nt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Ze.getItem(nt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=_e.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;_e.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=_e.getEnsCache();e[t.address]=t,Ze.setItem(nt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=_e.getEnsCache();Ze.setItem(nt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Ze.getItem(nt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=_e.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;_e.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=_e.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Ze.setItem(nt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=_e.getIdentityCache();Ze.setItem(nt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Ze.removeItem(nt.PORTFOLIO_CACHE),Ze.removeItem(nt.NATIVE_BALANCE_CACHE),Ze.removeItem(nt.ENS_CACHE),Ze.removeItem(nt.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Ze.setItem(nt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Ze.getItem(nt.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},Ge={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ge.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=_n.TEN_SEC_MS:!0},isAllowedRetry(t,e=_n.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+_n.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(Ge.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},formatUniversalUrl(t,e){if(!Ge.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?_e.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Ge.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const n=Number(t);if(n){const i=Math.floor(n*1e3)/1e3;i&&(r=i.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var n;let r;if(t==="0")r="0";else if(typeof t=="string"){const i=Number(t);i&&(r=(n=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:n[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return fe.W3M_API_URL},getBlockchainApiUrl(){return fe.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return fe.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?_n.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in fe.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),u=t.substring(i),l=c+r;return a+l+u}};async function Z0(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Tv{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await Z0(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await Z0(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Z0(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Z0(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Z0(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const dW={handleSolanaDeeplinkRedirect(t){if(V.state.activeChain===fe.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const n=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${n}://${i}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},Hi=vr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),yo={state:Hi,subscribeNetworkImages(t){return yi(Hi.networkImages,()=>t(Hi.networkImages))},subscribeKey(t,e){return Ei(Hi,t,e)},subscribe(t){return yi(Hi,()=>t(Hi))},setWalletImage(t,e){Hi.walletImages[t]=e},setNetworkImage(t,e){Hi.networkImages[t]=e},setChainImage(t,e){Hi.chainImages[t]=e},setConnectorImage(t,e){Hi.connectorImages={...Hi.connectorImages,[t]:e}},setTokenImage(t,e){Hi.tokenImages[t]=e},setCurrencyImage(t,e){Hi.currencyImages[t]=e}},fW={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},k2=vr({networkImagePromises:{}}),S9={async fetchWalletImage(t){if(t)return await Qe._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(k2.networkImagePromises[t]||(k2.networkImagePromises[t]=Qe._fetchNetworkImage(t)),await k2.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return yo.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return yo.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return yo.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return yo.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return yo.state.connectorImages[t.imageId]},getChainImage(t){return yo.state.networkImages[fW[t]]}},hW={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?_n.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ge.isTelegram()){if(Ge.isIos())return t.filter(e=>e!=="google");if(Ge.isMac())return t.filter(e=>e!=="x");if(Ge.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},je=vr({features:_n.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),pe={state:je,subscribeKey(t,e){return Ei(je,t,e)},setOptions(t){Object.assign(je,t)},setFeatures(t){if(!t)return;je.features||(je.features=_n.DEFAULT_FEATURES);const e={...je.features,...t};je.features=e,je.features.socials&&(je.features.socials=hW.filterSocialsByPlatform(je.features.socials))},setProjectId(t){je.projectId=t},setCustomRpcUrls(t){je.customRpcUrls=t},setAllWallets(t){je.allWallets=t},setIncludeWalletIds(t){je.includeWalletIds=t},setExcludeWalletIds(t){je.excludeWalletIds=t},setFeaturedWalletIds(t){je.featuredWalletIds=t},setTokens(t){je.tokens=t},setTermsConditionsUrl(t){je.termsConditionsUrl=t},setPrivacyPolicyUrl(t){je.privacyPolicyUrl=t},setCustomWallets(t){je.customWallets=t},setIsSiweEnabled(t){je.isSiweEnabled=t},setIsUniversalProvider(t){je.isUniversalProvider=t},setSdkVersion(t){je.sdkVersion=t},setMetadata(t){je.metadata=t},setDisableAppend(t){je.disableAppend=t},setEIP6963Enabled(t){je.enableEIP6963=t},setDebug(t){je.debug=t},setEnableWalletConnect(t){je.enableWalletConnect=t},setEnableWalletGuide(t){je.enableWalletGuide=t},setEnableAuthLogger(t){je.enableAuthLogger=t},setEnableWallets(t){je.enableWallets=t},setHasMultipleAddresses(t){je.hasMultipleAddresses=t},setSIWX(t){je.siwx=t},setConnectMethodsOrder(t){je.features={...je.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){je.features={...je.features,walletFeaturesOrder:t}},setSocialsOrder(t){je.features={...je.features,socials:t}},setCollapseWallets(t){je.features={...je.features,collapseWallets:t}},setEnableEmbedded(t){je.enableEmbedded=t},setAllowUnsupportedChain(t){je.allowUnsupportedChain=t},setManualWCControl(t){je.manualWCControl=t},setEnableNetworkSwitch(t){je.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(je.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){je.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return je.universalProviderConfigOverride},getSnapshot(){return Ag(je)}},zc=vr({message:"",variant:"info",open:!1}),td={state:zc,subscribeKey(t,e){return Ei(zc,t,e)},open(t,e){const{debug:r}=pe.state,{shortMessage:n,longMessage:i}=t;r&&(zc.message=n,zc.variant=e,zc.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){zc.open=!1,zc.message="",zc.variant="info"}},pW=Ge.getAnalyticsUrl(),gW=new Tv({baseUrl:pW,clientId:null}),mW=["MODAL_CREATED"],ka=vr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Wt={state:ka,subscribe(t){return yi(ka,()=>t(ka))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=pe.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Ne.state.address;if(mW.includes(t.data.event)||typeof window>"u")return;await gW.post({path:"/e",params:Wt.getSdkProperties(),body:{eventId:Ge.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ka.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===fe.HTTP_STATUS_CODES.FORBIDDEN&&!ka.reportedErrors.FORBIDDEN&&(td.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Np()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ka.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;ka.timestamp=Date.now(),ka.data=t,(e=pe.state.features)!=null&&e.analytics&&Wt._sendAnalyticsEvent(ka)}},yW=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],wW=Ge.getApiUrl(),bs=new Tv({baseUrl:wW,clientId:null}),bW=40,oN=4,vW=20,Dt=vr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Qe={state:Dt,subscribeKey(t,e){return Ei(Dt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=pe.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return pe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${bs.baseUrl}/getWalletImage/${t}`,r=await bs.getBlob({path:e,params:Qe._getSdkProperties()});yo.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${bs.baseUrl}/public/getAssetImage/${t}`,r=await bs.getBlob({path:e,params:Qe._getSdkProperties()});yo.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${bs.baseUrl}/public/getAssetImage/${t}`,r=await bs.getBlob({path:e,params:Qe._getSdkProperties()});yo.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${bs.baseUrl}/public/getCurrencyImage/${t}`,r=await bs.getBlob({path:e,params:Qe._getSdkProperties()});yo.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${bs.baseUrl}/public/getTokenImage/${t}`,r=await bs.getBlob({path:e,params:Qe._getSdkProperties()});yo.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const t=V.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!S9.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>Qe._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=tt.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>Qe._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Qe._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Qe._fetchTokenImage(e)))},async fetchWallets(t){var n,i;const e=t.exclude??[];return Qe._getSdkProperties().sv.startsWith("html-core-")&&e.push(...yW),await bs.get({path:"/getWallets",params:{...Qe._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(n=t.include)==null?void 0:n.join(","),exclude:(i=t.exclude)==null?void 0:i.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=pe.state;if(t!=null&&t.length){const e={...Qe._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??oN,include:t},{data:r}=await Qe.fetchWallets(e);r.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const n=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(n.map(i=>Qe._fetchWalletImage(i))),Dt.featured=r,Dt.allFeatured=r}},async fetchRecommendedWallets(){try{Dt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=pe.state,n=[...e??[],...r??[]].filter(Boolean),i=V.getRequestedCaipNetworkIds().join(","),s={page:1,entries:oN,include:t,exclude:n,chains:i},{data:o,count:a}=await Qe.fetchWallets(s),c=_e.getRecentWallets(),u=o.map(d=>d.image_id).filter(Boolean),l=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...u,...l].map(d=>Qe._fetchWalletImage(d))),Dt.recommended=o,Dt.allRecommended=o,Dt.count=a??0}catch{}finally{Dt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=pe.state,i=V.getRequestedCaipNetworkIds().join(","),s=[...Dt.recommended.map(({id:l})=>l),...r??[],...n??[]].filter(Boolean),o={page:t,entries:bW,include:e,exclude:s,chains:i},{data:a,count:c}=await Qe.fetchWallets(o),u=a.slice(0,vW).map(l=>l.image_id).filter(Boolean);await Promise.allSettled(u.map(l=>Qe._fetchWalletImage(l))),Dt.wallets=Ge.uniqueBy([...Dt.wallets,...Qe._filterOutExtensions(a)],"id"),Dt.count=c>Dt.count?c:Dt.count,Dt.page=t},async initializeExcludedWallets({ids:t}){const e=V.getRequestedCaipNetworkIds().join(","),r={page:1,entries:t.length,include:t,chains:e},{data:n}=await Qe.fetchWallets(r);n&&n.forEach(i=>{Dt.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=pe.state,i=V.getRequestedCaipNetworkIds().join(",");Dt.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await Qe.fetchWallets(s);Wt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Qe._fetchWalletImage(c)),Ge.wait(300)]),Dt.search=Qe._filterOutExtensions(o)},initPromise(t,e){const r=Dt.promises[t];return r||(Dt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&Qe.initPromise("connectorImages",Qe.fetchConnectorImages),e&&Qe.initPromise("featuredWallets",Qe.fetchFeaturedWallets),r&&Qe.initPromise("recommendedWallets",Qe.fetchRecommendedWallets),n&&Qe.initPromise("networkImages",Qe.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=pe.state.features)!=null&&t.analytics&&Qe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await bs.get({path:"/getAnalyticsConfig",params:Qe._getSdkProperties()});pe.setFeatures({analytics:t})}catch{pe.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){Dt.featured=Dt.allFeatured,Dt.recommended=Dt.allRecommended;return}const e=V.getRequestedCaipNetworkIds().join(",");Dt.featured=Dt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))}),Dt.recommended=Dt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))})}},Tt=vr({view:"Connect",history:["Connect"],transactionStack:[]}),Bt={state:Tt,subscribeKey(t,e){return Ei(Tt,t,e)},pushTransactionStack(t){Tt.transactionStack.push(t)},popTransactionStack(t){var r,n;const e=Tt.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=Tt.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(jr.close(),Tt.history=[])}else e.view&&this.reset(e.view);(n=e==null?void 0:e.onSuccess)==null||n.call(e)}},push(t,e){t!==Tt.view&&(Tt.view=t,Tt.history.push(t),Tt.data=e)},reset(t,e){Tt.view=t,Tt.history=[t],Tt.data=e},replace(t,e){Tt.history.at(-1)===t||(Tt.view=t,Tt.history[Tt.history.length-1]=t,Tt.data=e)},goBack(){var e;const t=!V.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Tt.history.length>1&&!Tt.history.includes("UnsupportedChain")){Tt.history.pop();const[r]=Tt.history.slice(-1);r&&(Tt.view=r)}else jr.close();(e=Tt.data)!=null&&e.wallet&&(Tt.data.wallet=void 0),setTimeout(()=>{var r,n,i;if(t){Ne.setFarcasterUrl(void 0,V.state.activeChain);const s=tt.getAuthConnector();(r=s==null?void 0:s.provider)==null||r.reload();const o=Ag(pe.state);(i=(n=s==null?void 0:s.provider)==null?void 0:n.syncDappData)==null||i.call(n,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Tt.history.length>1){Tt.history=Tt.history.slice(0,t+1);const[e]=Tt.history.slice(-1);e&&(Tt.view=e)}}},Da=vr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Xn={state:Da,subscribe(t){return yi(Da,()=>t(Da))},setThemeMode(t){Da.themeMode=t;try{const e=tt.getAuthConnector();if(e){const r=Xn.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:cc(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Da.themeVariables={...Da.themeVariables,...t};try{const e=tt.getAuthConnector();if(e){const r=Xn.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:cc(Da.themeVariables,Da.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Ag(Da)}},I9={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Mt=vr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...I9}}),tt={state:Mt,subscribe(t){return yi(Mt,()=>{t(Mt)})},subscribeKey(t,e){return Ei(Mt,t,e)},initialize(t){t.forEach(e=>{const r=_e.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(Mt.activeConnector=hd(t))},setConnectors(t){t.filter(r=>!Mt.allConnectors.some(n=>n.id===r.id&&this.getConnectorName(n.name)===this.getConnectorName(r.name)&&n.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&Mt.allConnectors.push(hd(r))}),Mt.connectors=this.mergeMultiChainConnectors(Mt.allConnectors)},removeAdapter(t){Mt.allConnectors=Mt.allConnectors.filter(e=>e.chain!==t),Mt.connectors=this.mergeMultiChainConnectors(Mt.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=(i==null?void 0:i.id)===fe.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=this.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===fe.CONNECTOR_ID.AUTH){const i=t,s=Ag(pe.state),o=Xn.getSnapshot().themeMode,a=Xn.getSnapshot().themeVariables;(r=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(n=i==null?void 0:i.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:cc(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var n;const e=t||V.state.activeChain,r=Mt.connectors.find(i=>i.id===fe.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(s=>s.chain===e):r},getAnnouncedConnectorRdns(){return Mt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return Mt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Mt.allConnectors.filter(n=>n.chain===V.state.activeChain).find(n=>{var i;return n.explorerId===t||((i=n.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,r=Ag(pe.state),n=Xn.getSnapshot().themeMode,i=Xn.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:cc(i,n)})},getConnectorsByNamespace(t){const e=Mt.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=tt.getConnector(t.id,t.rdns);V.state.activeChain===fe.CHAIN.SOLANA&&dW.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?Bt.push("ConnectingExternal",{connector:e}):Bt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(Mt.allConnectors)},setFilterByNamespace(t){Mt.filterByNamespace=t,Mt.connectors=this.getConnectors(t),Qe.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Mt.activeConnectorIds={...Mt.activeConnectorIds,[e]:t},_e.setConnectedConnectorId(e,t))},removeConnectorId(t){Mt.activeConnectorIds={...Mt.activeConnectorIds,[t]:void 0},_e.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Mt.activeConnectorIds[t]},isConnected(t){return t?!!Mt.activeConnectorIds[t]:Object.values(Mt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Mt.activeConnectorIds={...I9}}};function c1(t,e){return tt.getConnectorId(t)===e}function EW(t){const e=Array.from(V.state.chains.keys());let r=[];return t?(r.push([t,V.state.chains.get(t)]),c1(t,fe.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(n=>{n!==t&&c1(n,fe.CONNECTOR_ID.WALLET_CONNECT)&&r.push([n,V.state.chains.get(n)])}):c1(t,fe.CONNECTOR_ID.AUTH)&&e.forEach(n=>{n!==t&&c1(n,fe.CONNECTOR_ID.AUTH)&&r.push([n,V.state.chains.get(n)])})):r=Array.from(V.state.chains.entries()),r}var fn={},Pv={};Pv.byteLength=CW;Pv.toByteArray=SW;Pv.fromByteArray=TW;var sa=[],Ts=[],AW=typeof Uint8Array<"u"?Uint8Array:Array,D2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var tf=0,_W=D2.length;tf<_W;++tf)sa[tf]=D2[tf],Ts[D2.charCodeAt(tf)]=tf;Ts["-".charCodeAt(0)]=62;Ts["_".charCodeAt(0)]=63;function N9(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function CW(t){var e=N9(t),r=e[0],n=e[1];return(r+n)*3/4-n}function xW(t,e,r){return(e+r)*3/4-r}function SW(t){var e,r=N9(t),n=r[0],i=r[1],s=new AW(xW(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=Ts[t.charCodeAt(c)]<<18|Ts[t.charCodeAt(c+1)]<<12|Ts[t.charCodeAt(c+2)]<<6|Ts[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Ts[t.charCodeAt(c)]<<2|Ts[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Ts[t.charCodeAt(c)]<<10|Ts[t.charCodeAt(c+1)]<<4|Ts[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function IW(t){return sa[t>>18&63]+sa[t>>12&63]+sa[t>>6&63]+sa[t&63]}function NW(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(IW(n));return i.join("")}function TW(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(NW(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(sa[e>>2]+sa[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(sa[e>>10]+sa[e>>4&63]+sa[e<<2&63]+"=")),i.join("")}var Yx={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Yx.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=t[e+d];for(d+=f,s=h&(1<<-l)-1,h>>=-l,l+=a;l>0;s=s*256+t[e+d],d+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+t[e+d],d+=f,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(h?-1:1)*o*Math.pow(2,s-n)};Yx.write=function(t,e,r,n,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,d=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,p=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[r+h]=a&255,h+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+h]=o&255,h+=p,o/=256,u-=8);t[r+h-p]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Pv,r=Yx,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const B=new s(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,s.prototype),Object.setPrototypeOf(B,C),B.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');const C=new s(B);return Object.setPrototypeOf(C,l.prototype),C}function l(B,C,S){if(typeof B=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(B)}return d(B,C,S)}l.poolSize=8192;function d(B,C,S){if(typeof B=="string")return g(B,C);if(o.isView(B))return y(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Mr(B,o)||B&&Mr(B.buffer,o)||typeof a<"u"&&(Mr(B,a)||B&&Mr(B.buffer,a)))return b(B,C,S);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=B.valueOf&&B.valueOf();if(q!=null&&q!==B)return l.from(q,C,S);const Y=E(B);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return l.from(B[Symbol.toPrimitive]("string"),C,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}l.from=function(B,C,S){return d(B,C,S)},Object.setPrototypeOf(l.prototype,s.prototype),Object.setPrototypeOf(l,s);function f(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function h(B,C,S){return f(B),B<=0?u(B):C!==void 0?typeof S=="string"?u(B).fill(C,S):u(B).fill(C):u(B)}l.alloc=function(B,C,S){return h(B,C,S)};function p(B){return f(B),u(B<0?0:x(B)|0)}l.allocUnsafe=function(B){return p(B)},l.allocUnsafeSlow=function(B){return p(B)};function g(B,C){if((typeof C!="string"||C==="")&&(C="utf8"),!l.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const S=O(B,C)|0;let q=u(S);const Y=q.write(B,C);return Y!==S&&(q=q.slice(0,Y)),q}function w(B){const C=B.length<0?0:x(B.length)|0,S=u(C);for(let q=0;q<C;q+=1)S[q]=B[q]&255;return S}function y(B){if(Mr(B,s)){const C=new s(B);return b(C.buffer,C.byteOffset,C.byteLength)}return w(B)}function b(B,C,S){if(C<0||B.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<C+(S||0))throw new RangeError('"length" is outside of buffer bounds');let q;return C===void 0&&S===void 0?q=new s(B):S===void 0?q=new s(B,C):q=new s(B,C,S),Object.setPrototypeOf(q,l.prototype),q}function E(B){if(l.isBuffer(B)){const C=x(B.length)|0,S=u(C);return S.length===0||B.copy(S,0,0,C),S}if(B.length!==void 0)return typeof B.length!="number"||vt(B.length)?u(0):w(B);if(B.type==="Buffer"&&Array.isArray(B.data))return w(B.data)}function x(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function N(B){return+B!=B&&(B=0),l.alloc(+B)}l.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==l.prototype},l.compare=function(C,S){if(Mr(C,s)&&(C=l.from(C,C.offset,C.byteLength)),Mr(S,s)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(C)||!l.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===S)return 0;let q=C.length,Y=S.length;for(let J=0,te=Math.min(q,Y);J<te;++J)if(C[J]!==S[J]){q=C[J],Y=S[J];break}return q<Y?-1:Y<q?1:0},l.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(C,S){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return l.alloc(0);let q;if(S===void 0)for(S=0,q=0;q<C.length;++q)S+=C[q].length;const Y=l.allocUnsafe(S);let J=0;for(q=0;q<C.length;++q){let te=C[q];if(Mr(te,s))J+te.length>Y.length?(l.isBuffer(te)||(te=l.from(te)),te.copy(Y,J)):s.prototype.set.call(Y,te,J);else if(l.isBuffer(te))te.copy(Y,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=te.length}return Y};function O(B,C){if(l.isBuffer(B))return B.length;if(o.isView(B)||Mr(B,o))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const S=B.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&S===0)return 0;let Y=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return bt(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return It(B).length;default:if(Y)return q?-1:bt(B).length;C=(""+C).toLowerCase(),Y=!0}}l.byteLength=O;function k(B,C,S){let q=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,C>>>=0,S<=C))return"";for(B||(B="utf8");;)switch(B){case"hex":return _(this,C,S);case"utf8":case"utf-8":return T(this,C,S);case"ascii":return L(this,C,S);case"latin1":case"binary":return M(this,C,S);case"base64":return A(this,C,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,C,S);default:if(q)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),q=!0}}l.prototype._isBuffer=!0;function U(B,C,S){const q=B[C];B[C]=B[S],B[S]=q}l.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<C;S+=2)U(this,S,S+1);return this},l.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<C;S+=4)U(this,S,S+3),U(this,S+1,S+2);return this},l.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<C;S+=8)U(this,S,S+7),U(this,S+1,S+6),U(this,S+2,S+5),U(this,S+3,S+4);return this},l.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?T(this,0,C):k.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(C){if(!l.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:l.compare(this,C)===0},l.prototype.inspect=function(){let C="";const S=t.INSPECT_MAX_BYTES;return C=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(C+=" ... "),"<Buffer "+C+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(C,S,q,Y,J){if(Mr(C,s)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(S===void 0&&(S=0),q===void 0&&(q=C?C.length:0),Y===void 0&&(Y=0),J===void 0&&(J=this.length),S<0||q>C.length||Y<0||J>this.length)throw new RangeError("out of range index");if(Y>=J&&S>=q)return 0;if(Y>=J)return-1;if(S>=q)return 1;if(S>>>=0,q>>>=0,Y>>>=0,J>>>=0,this===C)return 0;let te=J-Y,Ve=q-S;const qe=Math.min(te,Ve),$e=this.slice(Y,J),Nt=C.slice(S,q);for(let Be=0;Be<qe;++Be)if($e[Be]!==Nt[Be]){te=$e[Be],Ve=Nt[Be];break}return te<Ve?-1:Ve<te?1:0};function D(B,C,S,q,Y){if(B.length===0)return-1;if(typeof S=="string"?(q=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,vt(S)&&(S=Y?0:B.length-1),S<0&&(S=B.length+S),S>=B.length){if(Y)return-1;S=B.length-1}else if(S<0)if(Y)S=0;else return-1;if(typeof C=="string"&&(C=l.from(C,q)),l.isBuffer(C))return C.length===0?-1:W(B,C,S,q,Y);if(typeof C=="number")return C=C&255,typeof s.prototype.indexOf=="function"?Y?s.prototype.indexOf.call(B,C,S):s.prototype.lastIndexOf.call(B,C,S):W(B,[C],S,q,Y);throw new TypeError("val must be string, number or Buffer")}function W(B,C,S,q,Y){let J=1,te=B.length,Ve=C.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(B.length<2||C.length<2)return-1;J=2,te/=2,Ve/=2,S/=2}function qe(Nt,Be){return J===1?Nt[Be]:Nt.readUInt16BE(Be*J)}let $e;if(Y){let Nt=-1;for($e=S;$e<te;$e++)if(qe(B,$e)===qe(C,Nt===-1?0:$e-Nt)){if(Nt===-1&&(Nt=$e),$e-Nt+1===Ve)return Nt*J}else Nt!==-1&&($e-=$e-Nt),Nt=-1}else for(S+Ve>te&&(S=te-Ve),$e=S;$e>=0;$e--){let Nt=!0;for(let Be=0;Be<Ve;Be++)if(qe(B,$e+Be)!==qe(C,Be)){Nt=!1;break}if(Nt)return $e}return-1}l.prototype.includes=function(C,S,q){return this.indexOf(C,S,q)!==-1},l.prototype.indexOf=function(C,S,q){return D(this,C,S,q,!0)},l.prototype.lastIndexOf=function(C,S,q){return D(this,C,S,q,!1)};function H(B,C,S,q){S=Number(S)||0;const Y=B.length-S;q?(q=Number(q),q>Y&&(q=Y)):q=Y;const J=C.length;q>J/2&&(q=J/2);let te;for(te=0;te<q;++te){const Ve=parseInt(C.substr(te*2,2),16);if(vt(Ve))return te;B[S+te]=Ve}return te}function Q(B,C,S,q){return mt(bt(C,B.length-S),B,S,q)}function $(B,C,S,q){return mt(St(C),B,S,q)}function m(B,C,S,q){return mt(It(C),B,S,q)}function v(B,C,S,q){return mt(ws(C,B.length-S),B,S,q)}l.prototype.write=function(C,S,q,Y){if(S===void 0)Y="utf8",q=this.length,S=0;else if(q===void 0&&typeof S=="string")Y=S,q=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(q)?(q=q>>>0,Y===void 0&&(Y="utf8")):(Y=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-S;if((q===void 0||q>J)&&(q=J),C.length>0&&(q<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let te=!1;for(;;)switch(Y){case"hex":return H(this,C,S,q);case"utf8":case"utf-8":return Q(this,C,S,q);case"ascii":case"latin1":case"binary":return $(this,C,S,q);case"base64":return m(this,C,S,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,C,S,q);default:if(te)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),te=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(B,C,S){return C===0&&S===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(C,S))}function T(B,C,S){S=Math.min(B.length,S);const q=[];let Y=C;for(;Y<S;){const J=B[Y];let te=null,Ve=J>239?4:J>223?3:J>191?2:1;if(Y+Ve<=S){let qe,$e,Nt,Be;switch(Ve){case 1:J<128&&(te=J);break;case 2:qe=B[Y+1],(qe&192)===128&&(Be=(J&31)<<6|qe&63,Be>127&&(te=Be));break;case 3:qe=B[Y+1],$e=B[Y+2],(qe&192)===128&&($e&192)===128&&(Be=(J&15)<<12|(qe&63)<<6|$e&63,Be>2047&&(Be<55296||Be>57343)&&(te=Be));break;case 4:qe=B[Y+1],$e=B[Y+2],Nt=B[Y+3],(qe&192)===128&&($e&192)===128&&(Nt&192)===128&&(Be=(J&15)<<18|(qe&63)<<12|($e&63)<<6|Nt&63,Be>65535&&Be<1114112&&(te=Be))}}te===null?(te=65533,Ve=1):te>65535&&(te-=65536,q.push(te>>>10&1023|55296),te=56320|te&1023),q.push(te),Y+=Ve}return R(q)}const I=4096;function R(B){const C=B.length;if(C<=I)return String.fromCharCode.apply(String,B);let S="",q=0;for(;q<C;)S+=String.fromCharCode.apply(String,B.slice(q,q+=I));return S}function L(B,C,S){let q="";S=Math.min(B.length,S);for(let Y=C;Y<S;++Y)q+=String.fromCharCode(B[Y]&127);return q}function M(B,C,S){let q="";S=Math.min(B.length,S);for(let Y=C;Y<S;++Y)q+=String.fromCharCode(B[Y]);return q}function _(B,C,S){const q=B.length;(!C||C<0)&&(C=0),(!S||S<0||S>q)&&(S=q);let Y="";for(let J=C;J<S;++J)Y+=Ot[B[J]];return Y}function j(B,C,S){const q=B.slice(C,S);let Y="";for(let J=0;J<q.length-1;J+=2)Y+=String.fromCharCode(q[J]+q[J+1]*256);return Y}l.prototype.slice=function(C,S){const q=this.length;C=~~C,S=S===void 0?q:~~S,C<0?(C+=q,C<0&&(C=0)):C>q&&(C=q),S<0?(S+=q,S<0&&(S=0)):S>q&&(S=q),S<C&&(S=C);const Y=this.subarray(C,S);return Object.setPrototypeOf(Y,l.prototype),Y};function Z(B,C,S){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+C>S)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(C,S,q){C=C>>>0,S=S>>>0,q||Z(C,S,this.length);let Y=this[C],J=1,te=0;for(;++te<S&&(J*=256);)Y+=this[C+te]*J;return Y},l.prototype.readUintBE=l.prototype.readUIntBE=function(C,S,q){C=C>>>0,S=S>>>0,q||Z(C,S,this.length);let Y=this[C+--S],J=1;for(;S>0&&(J*=256);)Y+=this[C+--S]*J;return Y},l.prototype.readUint8=l.prototype.readUInt8=function(C,S){return C=C>>>0,S||Z(C,1,this.length),this[C]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(C,S){return C=C>>>0,S||Z(C,2,this.length),this[C]|this[C+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(C,S){return C=C>>>0,S||Z(C,2,this.length),this[C]<<8|this[C+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(C,S){return C=C>>>0,S||Z(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(C,S){return C=C>>>0,S||Z(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},l.prototype.readBigUInt64LE=hn(function(C){C=C>>>0,Gn(C,"offset");const S=this[C],q=this[C+7];(S===void 0||q===void 0)&&gt(C,this.length-8);const Y=S+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,J=this[++C]+this[++C]*2**8+this[++C]*2**16+q*2**24;return BigInt(Y)+(BigInt(J)<<BigInt(32))}),l.prototype.readBigUInt64BE=hn(function(C){C=C>>>0,Gn(C,"offset");const S=this[C],q=this[C+7];(S===void 0||q===void 0)&&gt(C,this.length-8);const Y=S*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],J=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+q;return(BigInt(Y)<<BigInt(32))+BigInt(J)}),l.prototype.readIntLE=function(C,S,q){C=C>>>0,S=S>>>0,q||Z(C,S,this.length);let Y=this[C],J=1,te=0;for(;++te<S&&(J*=256);)Y+=this[C+te]*J;return J*=128,Y>=J&&(Y-=Math.pow(2,8*S)),Y},l.prototype.readIntBE=function(C,S,q){C=C>>>0,S=S>>>0,q||Z(C,S,this.length);let Y=S,J=1,te=this[C+--Y];for(;Y>0&&(J*=256);)te+=this[C+--Y]*J;return J*=128,te>=J&&(te-=Math.pow(2,8*S)),te},l.prototype.readInt8=function(C,S){return C=C>>>0,S||Z(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},l.prototype.readInt16LE=function(C,S){C=C>>>0,S||Z(C,2,this.length);const q=this[C]|this[C+1]<<8;return q&32768?q|4294901760:q},l.prototype.readInt16BE=function(C,S){C=C>>>0,S||Z(C,2,this.length);const q=this[C+1]|this[C]<<8;return q&32768?q|4294901760:q},l.prototype.readInt32LE=function(C,S){return C=C>>>0,S||Z(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},l.prototype.readInt32BE=function(C,S){return C=C>>>0,S||Z(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},l.prototype.readBigInt64LE=hn(function(C){C=C>>>0,Gn(C,"offset");const S=this[C],q=this[C+7];(S===void 0||q===void 0)&&gt(C,this.length-8);const Y=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(q<<24);return(BigInt(Y)<<BigInt(32))+BigInt(S+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),l.prototype.readBigInt64BE=hn(function(C){C=C>>>0,Gn(C,"offset");const S=this[C],q=this[C+7];(S===void 0||q===void 0)&&gt(C,this.length-8);const Y=(S<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(Y)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+q)}),l.prototype.readFloatLE=function(C,S){return C=C>>>0,S||Z(C,4,this.length),r.read(this,C,!0,23,4)},l.prototype.readFloatBE=function(C,S){return C=C>>>0,S||Z(C,4,this.length),r.read(this,C,!1,23,4)},l.prototype.readDoubleLE=function(C,S){return C=C>>>0,S||Z(C,8,this.length),r.read(this,C,!0,52,8)},l.prototype.readDoubleBE=function(C,S){return C=C>>>0,S||Z(C,8,this.length),r.read(this,C,!1,52,8)};function P(B,C,S,q,Y,J){if(!l.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>Y||C<J)throw new RangeError('"value" argument is out of bounds');if(S+q>B.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(C,S,q,Y){if(C=+C,S=S>>>0,q=q>>>0,!Y){const Ve=Math.pow(2,8*q)-1;P(this,C,S,q,Ve,0)}let J=1,te=0;for(this[S]=C&255;++te<q&&(J*=256);)this[S+te]=C/J&255;return S+q},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(C,S,q,Y){if(C=+C,S=S>>>0,q=q>>>0,!Y){const Ve=Math.pow(2,8*q)-1;P(this,C,S,q,Ve,0)}let J=q-1,te=1;for(this[S+J]=C&255;--J>=0&&(te*=256);)this[S+J]=C/te&255;return S+q},l.prototype.writeUint8=l.prototype.writeUInt8=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,1,255,0),this[S]=C&255,S+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,2,65535,0),this[S]=C&255,this[S+1]=C>>>8,S+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,2,65535,0),this[S]=C>>>8,this[S+1]=C&255,S+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,4,4294967295,0),this[S+3]=C>>>24,this[S+2]=C>>>16,this[S+1]=C>>>8,this[S]=C&255,S+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,4,4294967295,0),this[S]=C>>>24,this[S+1]=C>>>16,this[S+2]=C>>>8,this[S+3]=C&255,S+4};function K(B,C,S,q,Y){Oe(C,q,Y,B,S,7);let J=Number(C&BigInt(4294967295));B[S++]=J,J=J>>8,B[S++]=J,J=J>>8,B[S++]=J,J=J>>8,B[S++]=J;let te=Number(C>>BigInt(32)&BigInt(4294967295));return B[S++]=te,te=te>>8,B[S++]=te,te=te>>8,B[S++]=te,te=te>>8,B[S++]=te,S}function ee(B,C,S,q,Y){Oe(C,q,Y,B,S,7);let J=Number(C&BigInt(4294967295));B[S+7]=J,J=J>>8,B[S+6]=J,J=J>>8,B[S+5]=J,J=J>>8,B[S+4]=J;let te=Number(C>>BigInt(32)&BigInt(4294967295));return B[S+3]=te,te=te>>8,B[S+2]=te,te=te>>8,B[S+1]=te,te=te>>8,B[S]=te,S+8}l.prototype.writeBigUInt64LE=hn(function(C,S=0){return K(this,C,S,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=hn(function(C,S=0){return ee(this,C,S,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(C,S,q,Y){if(C=+C,S=S>>>0,!Y){const qe=Math.pow(2,8*q-1);P(this,C,S,q,qe-1,-qe)}let J=0,te=1,Ve=0;for(this[S]=C&255;++J<q&&(te*=256);)C<0&&Ve===0&&this[S+J-1]!==0&&(Ve=1),this[S+J]=(C/te>>0)-Ve&255;return S+q},l.prototype.writeIntBE=function(C,S,q,Y){if(C=+C,S=S>>>0,!Y){const qe=Math.pow(2,8*q-1);P(this,C,S,q,qe-1,-qe)}let J=q-1,te=1,Ve=0;for(this[S+J]=C&255;--J>=0&&(te*=256);)C<0&&Ve===0&&this[S+J+1]!==0&&(Ve=1),this[S+J]=(C/te>>0)-Ve&255;return S+q},l.prototype.writeInt8=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,1,127,-128),C<0&&(C=255+C+1),this[S]=C&255,S+1},l.prototype.writeInt16LE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,2,32767,-32768),this[S]=C&255,this[S+1]=C>>>8,S+2},l.prototype.writeInt16BE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,2,32767,-32768),this[S]=C>>>8,this[S+1]=C&255,S+2},l.prototype.writeInt32LE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,4,2147483647,-2147483648),this[S]=C&255,this[S+1]=C>>>8,this[S+2]=C>>>16,this[S+3]=C>>>24,S+4},l.prototype.writeInt32BE=function(C,S,q){return C=+C,S=S>>>0,q||P(this,C,S,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[S]=C>>>24,this[S+1]=C>>>16,this[S+2]=C>>>8,this[S+3]=C&255,S+4},l.prototype.writeBigInt64LE=hn(function(C,S=0){return K(this,C,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=hn(function(C,S=0){return ee(this,C,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(B,C,S,q,Y,J){if(S+q>B.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function ne(B,C,S,q,Y){return C=+C,S=S>>>0,Y||X(B,C,S,4),r.write(B,C,S,q,23,4),S+4}l.prototype.writeFloatLE=function(C,S,q){return ne(this,C,S,!0,q)},l.prototype.writeFloatBE=function(C,S,q){return ne(this,C,S,!1,q)};function be(B,C,S,q,Y){return C=+C,S=S>>>0,Y||X(B,C,S,8),r.write(B,C,S,q,52,8),S+8}l.prototype.writeDoubleLE=function(C,S,q){return be(this,C,S,!0,q)},l.prototype.writeDoubleBE=function(C,S,q){return be(this,C,S,!1,q)},l.prototype.copy=function(C,S,q,Y){if(!l.isBuffer(C))throw new TypeError("argument should be a Buffer");if(q||(q=0),!Y&&Y!==0&&(Y=this.length),S>=C.length&&(S=C.length),S||(S=0),Y>0&&Y<q&&(Y=q),Y===q||C.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),C.length-S<Y-q&&(Y=C.length-S+q);const J=Y-q;return this===C&&typeof s.prototype.copyWithin=="function"?this.copyWithin(S,q,Y):s.prototype.set.call(C,this.subarray(q,Y),S),J},l.prototype.fill=function(C,S,q,Y){if(typeof C=="string"){if(typeof S=="string"?(Y=S,S=0,q=this.length):typeof q=="string"&&(Y=q,q=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!l.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(C.length===1){const te=C.charCodeAt(0);(Y==="utf8"&&te<128||Y==="latin1")&&(C=te)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(S<0||this.length<S||this.length<q)throw new RangeError("Out of range index");if(q<=S)return this;S=S>>>0,q=q===void 0?this.length:q>>>0,C||(C=0);let J;if(typeof C=="number")for(J=S;J<q;++J)this[J]=C;else{const te=l.isBuffer(C)?C:l.from(C,Y),Ve=te.length;if(Ve===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(J=0;J<q-S;++J)this[J+S]=te[J%Ve]}return this};const ue={};function ae(B,C,S){ue[B]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(B,C){return`The "${B}" argument must be of type number. Received type ${typeof C}`},TypeError),ae("ERR_OUT_OF_RANGE",function(B,C,S){let q=`The value of "${B}" is out of range.`,Y=S;return Number.isInteger(S)&&Math.abs(S)>2**32?Y=Ke(String(S)):typeof S=="bigint"&&(Y=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(Y=Ke(Y)),Y+="n"),q+=` It must be ${C}. Received ${Y}`,q},RangeError);function Ke(B){let C="",S=B.length;const q=B[0]==="-"?1:0;for(;S>=q+4;S-=3)C=`_${B.slice(S-3,S)}${C}`;return`${B.slice(0,S)}${C}`}function me(B,C,S){Gn(C,"offset"),(B[C]===void 0||B[C+S]===void 0)&&gt(C,B.length-(S+1))}function Oe(B,C,S,q,Y,J){if(B>S||B<C){const te=typeof C=="bigint"?"n":"";let Ve;throw J>3?C===0||C===BigInt(0)?Ve=`>= 0${te} and < 2${te} ** ${(J+1)*8}${te}`:Ve=`>= -(2${te} ** ${(J+1)*8-1}${te}) and < 2 ** ${(J+1)*8-1}${te}`:Ve=`>= ${C}${te} and <= ${S}${te}`,new ue.ERR_OUT_OF_RANGE("value",Ve,B)}me(q,Y,J)}function Gn(B,C){if(typeof B!="number")throw new ue.ERR_INVALID_ARG_TYPE(C,"number",B)}function gt(B,C,S){throw Math.floor(B)!==B?(Gn(B,S),new ue.ERR_OUT_OF_RANGE(S||"offset","an integer",B)):C<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${C}`,B)}const Rt=/[^+/0-9A-Za-z-_]/g;function ys(B){if(B=B.split("=")[0],B=B.trim().replace(Rt,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function bt(B,C){C=C||1/0;let S;const q=B.length;let Y=null;const J=[];for(let te=0;te<q;++te){if(S=B.charCodeAt(te),S>55295&&S<57344){if(!Y){if(S>56319){(C-=3)>-1&&J.push(239,191,189);continue}else if(te+1===q){(C-=3)>-1&&J.push(239,191,189);continue}Y=S;continue}if(S<56320){(C-=3)>-1&&J.push(239,191,189),Y=S;continue}S=(Y-55296<<10|S-56320)+65536}else Y&&(C-=3)>-1&&J.push(239,191,189);if(Y=null,S<128){if((C-=1)<0)break;J.push(S)}else if(S<2048){if((C-=2)<0)break;J.push(S>>6|192,S&63|128)}else if(S<65536){if((C-=3)<0)break;J.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((C-=4)<0)break;J.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return J}function St(B){const C=[];for(let S=0;S<B.length;++S)C.push(B.charCodeAt(S)&255);return C}function ws(B,C){let S,q,Y;const J=[];for(let te=0;te<B.length&&!((C-=2)<0);++te)S=B.charCodeAt(te),q=S>>8,Y=S%256,J.push(Y),J.push(q);return J}function It(B){return e.toByteArray(ys(B))}function mt(B,C,S,q){let Y;for(Y=0;Y<q&&!(Y+S>=C.length||Y>=B.length);++Y)C[Y+S]=B[Y];return Y}function Mr(B,C){return B instanceof C||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===C.name}function vt(B){return B!==B}const Ot=function(){const B="0123456789abcdef",C=new Array(256);for(let S=0;S<16;++S){const q=S*16;for(let Y=0;Y<16;++Y)C[q+Y]=B[S]+B[Y]}return C}();function hn(B){return typeof BigInt>"u"?kt:B}function kt(){throw new Error("BigInt not supported")}})(fn);const un=fn.Buffer,PW=fn.Blob,RW=fn.BlobOptions,OW=fn.Buffer,kW=fn.File,DW=fn.FileOptions,MW=fn.INSPECT_MAX_BYTES,BW=fn.SlowBuffer,UW=fn.TranscodeEncoding,FW=fn.atob,$W=fn.btoa,LW=fn.constants,jW=fn.isAscii,zW=fn.isUtf8,qW=fn.kMaxLength,HW=fn.kStringMaxLength,WW=fn.resolveObjectURL,VW=fn.transcode,GW=Object.freeze(Object.defineProperty({__proto__:null,Blob:PW,BlobOptions:RW,Buffer:OW,File:kW,FileOptions:DW,INSPECT_MAX_BYTES:MW,SlowBuffer:BW,TranscodeEncoding:UW,atob:FW,btoa:$W,constants:LW,default:un,isAscii:jW,isUtf8:zW,kMaxLength:qW,kStringMaxLength:HW,resolveObjectURL:WW,transcode:VW},Symbol.toStringTag,{value:"Module"})),Le=globalThis||void 0||self;var Jx={exports:{}},ch=typeof Reflect=="object"?Reflect:null,aN=ch&&typeof ch.apply=="function"?ch.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},cw;ch&&typeof ch.ownKeys=="function"?cw=ch.ownKeys:Object.getOwnPropertySymbols?cw=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:cw=function(e){return Object.getOwnPropertyNames(e)};function KW(t){console&&console.warn&&console.warn(t)}var T9=Number.isNaN||function(e){return e!==e};function zt(){zt.init.call(this)}Jx.exports=zt;Jx.exports.once=ZW;zt.EventEmitter=zt;zt.prototype._events=void 0;zt.prototype._eventsCount=0;zt.prototype._maxListeners=void 0;var cN=10;function Rv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(zt,"defaultMaxListeners",{enumerable:!0,get:function(){return cN},set:function(t){if(typeof t!="number"||t<0||T9(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");cN=t}});zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};zt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||T9(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function P9(t){return t._maxListeners===void 0?zt.defaultMaxListeners:t._maxListeners}zt.prototype.getMaxListeners=function(){return P9(this)};zt.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")aN(c,this,r);else for(var u=c.length,l=M9(c,u),n=0;n<u;++n)aN(l[n],this,r);return!0};function R9(t,e,r,n){var i,s,o;if(Rv(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=P9(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,KW(a)}return t}zt.prototype.addListener=function(e,r){return R9(this,e,r,!1)};zt.prototype.on=zt.prototype.addListener;zt.prototype.prependListener=function(e,r){return R9(this,e,r,!0)};function QW(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O9(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=QW.bind(n);return i.listener=r,n.wrapFn=i,i}zt.prototype.once=function(e,r){return Rv(r),this.on(e,O9(this,e,r)),this};zt.prototype.prependOnceListener=function(e,r){return Rv(r),this.prependListener(e,O9(this,e,r)),this};zt.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Rv(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():YW(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};zt.prototype.off=zt.prototype.removeListener;zt.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function k9(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?JW(i):M9(i,i.length)}zt.prototype.listeners=function(e){return k9(this,e,!0)};zt.prototype.rawListeners=function(e){return k9(this,e,!1)};zt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):D9.call(t,e)};zt.prototype.listenerCount=D9;function D9(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}zt.prototype.eventNames=function(){return this._eventsCount>0?cw(this._events):[]};function M9(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function YW(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function JW(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function ZW(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}B9(t,e,s,{once:!0}),e!=="error"&&XW(t,i,{once:!0})})}function XW(t,e,r){typeof t.on=="function"&&B9(t,"error",e,r)}function B9(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ws=Jx.exports;const Zx=Pa(Ws);var ye={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D5=function(t,e){return D5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},D5(t,e)};function eV(t,e){D5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var M5=function(){return M5=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},M5.apply(this,arguments)};function tV(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function rV(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function nV(t,e){return function(r,n){e(r,n,t)}}function iV(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function sV(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function oV(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function aV(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function cV(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function B5(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function U9(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function uV(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(U9(arguments[e]));return t}function lV(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Cg(t){return this instanceof Cg?(this.v=t,this):new Cg(t)}function dV(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(p){d(s[0][3],p)}}function c(f){f.value instanceof Cg?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fV(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Cg(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function hV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof B5=="function"?B5(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function pV(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function gV(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function mV(t){return t&&t.__esModule?t:{default:t}}function yV(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function wV(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const bV=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return M5},__asyncDelegator:fV,__asyncGenerator:dV,__asyncValues:hV,__await:Cg,__awaiter:sV,__classPrivateFieldGet:yV,__classPrivateFieldSet:wV,__createBinding:aV,__decorate:rV,__exportStar:cV,__extends:eV,__generator:oV,__importDefault:mV,__importStar:gV,__makeTemplateObject:pV,__metadata:iV,__param:nV,__read:U9,__rest:tV,__spread:uV,__spreadArrays:lV,__values:B5},Symbol.toStringTag,{value:"Module"})),Ov=tx(bV);var M2={},X0={},uN;function vV(){if(uN)return X0;uN=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return X0.delay=t,X0}var yl={},B2={},wl={},lN;function EV(){return lN||(lN=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.ONE_THOUSAND=wl.ONE_HUNDRED=void 0,wl.ONE_HUNDRED=100,wl.ONE_THOUSAND=1e3),wl}var U2={},dN;function AV(){return dN||(dN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(U2)),U2}var fN;function F9(){return fN||(fN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ov;e.__exportStar(EV(),t),e.__exportStar(AV(),t)}(B2)),B2}var hN;function _V(){if(hN)return yl;hN=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.fromMiliseconds=yl.toMiliseconds=void 0;const t=F9();function e(n){return n*t.ONE_THOUSAND}yl.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return yl.fromMiliseconds=r,yl}var pN;function CV(){return pN||(pN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ov;e.__exportStar(vV(),t),e.__exportStar(_V(),t)}(M2)),M2}var rf={},gN;function xV(){if(gN)return rf;gN=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return rf.Watch=t,rf.default=t,rf}var F2={},ep={},mN;function SV(){if(mN)return ep;mN=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.IWatch=void 0;class t{}return ep.IWatch=t,ep}var yN;function IV(){return yN||(yN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Ov.__exportStar(SV(),t)}(F2)),F2}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ov;e.__exportStar(CV(),t),e.__exportStar(xV(),t),e.__exportStar(IV(),t),e.__exportStar(F9(),t)})(ye);class zd{}let NV=class extends zd{constructor(e){super()}};const wN=ye.FIVE_SECONDS,m0={pulse:"heartbeat_pulse"};let TV=class $9 extends NV{constructor(e){super(e),this.events=new Ws.EventEmitter,this.interval=wN,this.interval=(e==null?void 0:e.interval)||wN}static async init(e){const r=new $9(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ye.toMiliseconds(this.interval))}pulse(){this.events.emit(m0.pulse)}};const PV=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,RV=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,OV=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function kV(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){DV(t);return}return e}function DV(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function u1(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!OV.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(PV.test(t)||RV.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,kV)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function MV(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function mn(t,...e){try{return MV(t(...e))}catch(r){return Promise.reject(r)}}function BV(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function UV(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function uw(t){if(BV(t))return String(t);if(UV(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return uw(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const U5="base64:";function FV(t){return typeof t=="string"?t:U5+jV(t)}function $V(t){return typeof t!="string"||!t.startsWith(U5)?t:LV(t.slice(U5.length))}function LV(t){return globalThis.Buffer?un.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function jV(t){return globalThis.Buffer?un.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ii(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function zV(...t){return Ii(t.join(":"))}function l1(t){return t=Ii(t),t?t+":":""}function qV(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function HV(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const WV="memory",VV=()=>{const t=new Map;return{name:WV,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function GV(t={}){const e={mounts:{"":t.driver||VV()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(const l of e.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:u,driver:e.mounts[""]}},n=(u,l)=>e.mountpoints.filter(d=>d.startsWith(u)||l&&u.startsWith(d)).map(d=>({relativeBase:u.length>d.length?u.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(u,l)=>{if(e.watching){l=Ii(l);for(const d of e.watchListeners)d(u,l)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await bN(e.mounts[u],i,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,l,d)=>{const f=new Map,h=p=>{let g=f.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},f.set(p.base,g)),g};for(const p of u){const g=typeof p=="string",w=Ii(g?p:p.key),y=g?void 0:p.value,b=g||!p.options?l:{...l,...p.options},E=r(w);h(E).items.push({key:w,value:y,relativeKey:E.relativeKey,options:b})}return Promise.all([...f.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(u,l={}){u=Ii(u);const{relativeKey:d,driver:f}=r(u);return mn(f.hasItem,d,l)},getItem(u,l={}){u=Ii(u);const{relativeKey:d,driver:f}=r(u);return mn(f.getItem,d,l).then(h=>u1(h))},getItems(u,l={}){return a(u,l,d=>d.driver.getItems?mn(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),l).then(f=>f.map(h=>({key:zV(d.base,h.key),value:u1(h.value)}))):Promise.all(d.items.map(f=>mn(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:u1(h)})))))},getItemRaw(u,l={}){u=Ii(u);const{relativeKey:d,driver:f}=r(u);return f.getItemRaw?mn(f.getItemRaw,d,l):mn(f.getItem,d,l).then(h=>$V(h))},async setItem(u,l,d={}){if(l===void 0)return c.removeItem(u);u=Ii(u);const{relativeKey:f,driver:h}=r(u);h.setItem&&(await mn(h.setItem,f,uw(l),d),h.watch||i("update",u))},async setItems(u,l){await a(u,l,async d=>{if(d.driver.setItems)return mn(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:uw(f.value),options:f.options})),l);d.driver.setItem&&await Promise.all(d.items.map(f=>mn(d.driver.setItem,f.relativeKey,uw(f.value),f.options)))})},async setItemRaw(u,l,d={}){if(l===void 0)return c.removeItem(u,d);u=Ii(u);const{relativeKey:f,driver:h}=r(u);if(h.setItemRaw)await mn(h.setItemRaw,f,l,d);else if(h.setItem)await mn(h.setItem,f,FV(l),d);else return;h.watch||i("update",u)},async removeItem(u,l={}){typeof l=="boolean"&&(l={removeMeta:l}),u=Ii(u);const{relativeKey:d,driver:f}=r(u);f.removeItem&&(await mn(f.removeItem,d,l),(l.removeMeta||l.removeMata)&&await mn(f.removeItem,d+"$",l),f.watch||i("remove",u))},async getMeta(u,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),u=Ii(u);const{relativeKey:d,driver:f}=r(u),h=Object.create(null);if(f.getMeta&&Object.assign(h,await mn(f.getMeta,d,l)),!l.nativeOnly){const p=await mn(f.getItem,d+"$",l).then(g=>u1(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(u,l,d={}){return this.setItem(u+"$",l,d)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){var w;u=l1(u);const d=n(u,!0);let f=[];const h=[];let p=!0;for(const y of d){(w=y.driver.flags)!=null&&w.maxDepth||(p=!1);const b=await mn(y.driver.getKeys,y.relativeBase,l);for(const E of b){const x=y.mountpoint+Ii(E);f.some(N=>x.startsWith(N))||h.push(x)}f=[y.mountpoint,...f.filter(E=>!E.startsWith(y.mountpoint))]}const g=l.maxDepth!==void 0&&!p;return h.filter(y=>(!g||qV(y,l.maxDepth))&&HV(y,u))},async clear(u,l={}){u=l1(u),await Promise.all(n(u,!1).map(async d=>{if(d.driver.clear)return mn(d.driver.clear,d.relativeBase,l);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",l);return Promise.all(f.map(h=>d.driver.removeItem(h,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>vN(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,l){if(u=l1(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[u]=l,e.watching&&Promise.resolve(bN(l,i,u)).then(d=>{e.unwatch[u]=d}).catch(console.error),c},async unmount(u,l=!0){var d,f;u=l1(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((f=(d=e.unwatch)[u])==null||f.call(d),delete e.unwatch[u]),l&&await vN(e.mounts[u]),e.mountpoints=e.mountpoints.filter(h=>h!==u),delete e.mounts[u])},getMount(u=""){u=Ii(u)+":";const l=r(u);return{driver:l.driver,base:l.base}},getMounts(u="",l={}){return u=Ii(u),n(u,l.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,d={})=>c.setItem(u,l,d),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function bN(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function vN(t){typeof t.dispose=="function"&&await mn(t.dispose)}function qd(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function L9(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=qd(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let $2;function ny(){return $2||($2=L9("keyval-store","keyval")),$2}function EN(t,e=ny()){return e("readonly",r=>qd(r.get(t)))}function KV(t,e,r=ny()){return r("readwrite",n=>(n.put(e,t),qd(n.transaction)))}function QV(t,e=ny()){return e("readwrite",r=>(r.delete(t),qd(r.transaction)))}function YV(t=ny()){return t("readwrite",e=>(e.clear(),qd(e.transaction)))}function JV(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},qd(t.transaction)}function ZV(t=ny()){return t("readonly",e=>{if(e.getAllKeys)return qd(e.getAllKeys());const r=[];return JV(e,n=>r.push(n.key)).then(()=>r)})}const XV=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),eG=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function gd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return eG(t)}catch{return t}}function Ac(t){return typeof t=="string"?t:XV(t)||""}const tG="idb-keyval";var rG=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=L9(t.dbName,t.storeName)),{name:tG,options:t,async hasItem(i){return!(typeof await EN(r(i),n)>"u")},async getItem(i){return await EN(r(i),n)??null},setItem(i,s){return KV(r(i),s,n)},removeItem(i){return QV(r(i),n)},getKeys(){return ZV(n)},clear(){return YV(n)}}};const nG="WALLET_CONNECT_V2_INDEXED_DB",iG="keyvaluestorage";let sG=class{constructor(){this.indexedDb=GV({driver:rG({dbName:nG,storeName:iG})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ac(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var L2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Le<"u"?Le:typeof self<"u"?self:{},lw={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof L2<"u"&&L2.localStorage?lw.exports=L2.localStorage:typeof window<"u"&&window.localStorage?lw.exports=window.localStorage:lw.exports=new e})();function oG(t){var e;return[t[0],gd((e=t[1])!=null?e:"")]}let aG=class{constructor(){this.localStorage=lw.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(oG)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return gd(r)}async setItem(e,r){this.localStorage.setItem(e,Ac(r))}async removeItem(e){this.localStorage.removeItem(e)}};const cG="wc_storage_version",AN=1,uG=async(t,e,r)=>{const n=cG,i=await e.getItem(n);if(i&&i>=AN){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(n,AN),r(e),lG(t,o)},lG=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let dG=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new aG;this.storage=e;try{const r=new sG;uG(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function fG(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var hG=pG;function pG(t,e,r){var n=r&&r.stringify||fG,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var u="",l=1-i,d=-1,f=t&&t.length||0,h=0;h<f;){if(t.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,t.charCodeAt(h+1)){case 100:case 102:if(l>=c||e[l]==null)break;d<h&&(u+=t.slice(d,h)),u+=Number(e[l]),d=h+2,h++;break;case 105:if(l>=c||e[l]==null)break;d<h&&(u+=t.slice(d,h)),u+=Math.floor(Number(e[l])),d=h+2,h++;break;case 79:case 111:case 106:if(l>=c||e[l]===void 0)break;d<h&&(u+=t.slice(d,h));var p=typeof e[l];if(p==="string"){u+="'"+e[l]+"'",d=h+2,h++;break}if(p==="function"){u+=e[l].name||"<anonymous>",d=h+2,h++;break}u+=n(e[l]),d=h+2,h++;break;case 115:if(l>=c)break;d<h&&(u+=t.slice(d,h)),u+=String(e[l]),d=h+2,h++;break;case 37:d<h&&(u+=t.slice(d,h)),u+="%",d=h+2,h++,l--;break}++l}++h}return d===-1?t:(d<f&&(u+=t.slice(d)),u)}const _N=hG;var Pf=pa;const xg=CG().console||{},gG={mapHttpRequest:d1,mapHttpResponse:d1,wrapRequestSerializer:j2,wrapResponseSerializer:j2,wrapErrorSerializer:j2,req:d1,res:d1,err:vG};function mG(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function pa(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||xg;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=mG(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=Sg),Object.defineProperty(c,"levelVal",{get:l}),Object.defineProperty(c,"level",{get:d,set:f});const u={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:EG(t)};c.levels=pa.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Sg,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=h,e&&(c._logEvent=F5());function l(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function f(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,nf(u,c,"error","log"),nf(u,c,"fatal","error"),nf(u,c,"warn","error"),nf(u,c,"info","log"),nf(u,c,"debug","log"),nf(u,c,"trace","log")}function h(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},i&&p.serializers&&(g.serializers=p.serializers);const w=g.serializers;if(i&&w){var y=Object.assign({},n,w),b=t.browser.serialize===!0?Object.keys(y):i;delete p.serializers,kv([p],b,y,this._stdErrSerialize)}function E(x){this._childLevel=(x._childLevel|0)+1,this.error=sf(x,p,"error"),this.fatal=sf(x,p,"fatal"),this.warn=sf(x,p,"warn"),this.info=sf(x,p,"info"),this.debug=sf(x,p,"debug"),this.trace=sf(x,p,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=F5([].concat(x._logEvent.bindings,p)))}return E.prototype=this,new E(this)}return c}pa.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pa.stdSerializers=gG;pa.stdTimeFunctions=Object.assign({},{nullTime:j9,epochTime:z9,unixTime:AG,isoTime:_G});function nf(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Sg:i[r]?i[r]:xg[r]||xg[n]||Sg,yG(t,e,r)}function yG(t,e,r){!t.transmit&&e[r]===Sg||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===xg?xg:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&kv(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,wG(this,r,o,s)):n.apply(a,o),t.transmit){const u=t.transmit.level||e.level,l=pa.levels.values[u],d=pa.levels.values[r];if(d<l)return;bG(this,{ts:s,methodLevel:r,methodValue:d,transmitLevel:u,transmitValue:pa.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function wG(t,e,r,n){t._serialize&&kv(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=pa.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?_N(i.shift(),i):void 0}else typeof s=="string"&&(s=_N(i.shift(),i));return s!==void 0&&(o.msg=s),o}function kv(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=pa.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function sf(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function bG(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;kv(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=F5(c)}function F5(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function vG(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function EG(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?j9:z9}function d1(){return{}}function j2(t){return t}function Sg(){}function j9(){return!1}function z9(){return Date.now()}function AG(){return Math.round(Date.now()/1e3)}function _G(){return new Date(Date.now()).toISOString()}function CG(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const iy=Pa(Pf),xG={level:"info"},sy="custom_context",Xx=1e3*1024;let SG=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},CN=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new SG(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},q9=class{constructor(e,r=Xx){this.level=e??"error",this.levelValue=Pf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new CN(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Pf.levels.values.error?console.error(e):r===Pf.levels.values.warn?console.warn(e):r===Pf.levels.values.debug?console.debug(e):r===Pf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ac({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new CN(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Ac({extraMetadata:e})),new Blob(r,{type:"application/json"})}},IG=class{constructor(e,r=Xx){this.baseChunkLogger=new q9(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},NG=class{constructor(e,r=Xx){this.baseChunkLogger=new q9(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var TG=Object.defineProperty,PG=Object.defineProperties,RG=Object.getOwnPropertyDescriptors,xN=Object.getOwnPropertySymbols,OG=Object.prototype.hasOwnProperty,kG=Object.prototype.propertyIsEnumerable,SN=(t,e,r)=>e in t?TG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cb=(t,e)=>{for(var r in e||(e={}))OG.call(e,r)&&SN(t,r,e[r]);if(xN)for(var r of xN(e))kG.call(e,r)&&SN(t,r,e[r]);return t},ub=(t,e)=>PG(t,RG(e));function y0(t){return ub(cb({},t),{level:(t==null?void 0:t.level)||xG.level})}function DG(t,e=sy){return t[e]||""}function MG(t,e,r=sy){return t[r]=e,t}function ji(t,e=sy){let r="";return typeof t.bindings>"u"?r=DG(t,e):r=t.bindings().context||"",r}function BG(t,e,r=sy){const n=ji(t,r);return n.trim()?`${n}/${e}`:e}function ai(t,e,r=sy){const n=BG(t,e,r),i=t.child({context:n});return MG(i,n,r)}function UG(t){var e,r;const n=new IG((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:iy(ub(cb({},t.opts),{level:"trace",browser:ub(cb({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function FG(t){var e;const r=new NG((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:iy(ub(cb({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function e3(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?UG(t):FG(t)}var $G=Object.defineProperty,LG=(t,e,r)=>e in t?$G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,IN=(t,e,r)=>LG(t,typeof e!="symbol"?e+"":e,r);let jG=class extends zd{constructor(e){super(),this.opts=e,IN(this,"protocol","wc"),IN(this,"version",2)}};var zG=Object.defineProperty,qG=(t,e,r)=>e in t?zG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HG=(t,e,r)=>qG(t,typeof e!="symbol"?e+"":e,r);let WG=class extends zd{constructor(e,r){super(),this.core=e,this.logger=r,HG(this,"records",new Map)}},VG=class{constructor(e,r){this.logger=e,this.core=r}},GG=class extends zd{constructor(e,r){super(),this.relayer=e,this.logger=r}},KG=class extends zd{constructor(e){super()}},QG=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},YG=class extends zd{constructor(e,r){super(),this.relayer=e,this.logger=r}},JG=class extends zd{constructor(e,r){super(),this.core=e,this.logger=r}},ZG=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},XG=class{constructor(e,r){this.projectId=e,this.logger=r}},eK=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var tK=Object.defineProperty,rK=(t,e,r)=>e in t?tK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,NN=(t,e,r)=>rK(t,typeof e!="symbol"?e+"":e,r);let nK=class{constructor(e){this.opts=e,NN(this,"protocol","wc"),NN(this,"version",2)}},iK=class{constructor(e){this.client=e}};function sK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H9(t,...e){if(!sK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function TN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function oK(t,e){H9(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const of=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function aK(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function W9(t){return typeof t=="string"&&(t=aK(t)),H9(t),t}let cK=class{clone(){return this._cloneInto()}};function uK(t){const e=n=>t().update(W9(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function V9(t=32){if(of&&typeof of.getRandomValues=="function")return of.getRandomValues(new Uint8Array(t));if(of&&typeof of.randomBytes=="function")return of.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function lK(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}let dK=class extends cK{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=z2(this.buffer)}update(e){TN(this);const{view:r,buffer:n,blockLen:i}=this;e=W9(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=z2(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){TN(this),oK(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;lK(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=z2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const f1=BigInt(2**32-1),$5=BigInt(32);function G9(t,e=!1){return e?{h:Number(t&f1),l:Number(t>>$5&f1)}:{h:Number(t>>$5&f1)|0,l:Number(t&f1)|0}}function fK(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=G9(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const hK=(t,e)=>BigInt(t>>>0)<<$5|BigInt(e>>>0),pK=(t,e,r)=>t>>>r,gK=(t,e,r)=>t<<32-r|e>>>r,mK=(t,e,r)=>t>>>r|e<<32-r,yK=(t,e,r)=>t<<32-r|e>>>r,wK=(t,e,r)=>t<<64-r|e>>>r-32,bK=(t,e,r)=>t>>>r-32|e<<64-r,vK=(t,e)=>e,EK=(t,e)=>t,AK=(t,e,r)=>t<<r|e>>>32-r,_K=(t,e,r)=>e<<r|t>>>32-r,CK=(t,e,r)=>e<<r-32|t>>>64-r,xK=(t,e,r)=>t<<r-32|e>>>64-r;function SK(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const IK=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),NK=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,TK=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),PK=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,RK=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),OK=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,it={fromBig:G9,split:fK,toBig:hK,shrSH:pK,shrSL:gK,rotrSH:mK,rotrSL:yK,rotrBH:wK,rotrBL:bK,rotr32H:vK,rotr32L:EK,rotlSH:AK,rotlSL:_K,rotlBH:CK,rotlBL:xK,add:SK,add3L:IK,add3H:NK,add4L:TK,add4H:PK,add5H:OK,add5L:RK},[kK,DK]=(()=>it.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),qc=new Uint32Array(80),Hc=new Uint32Array(80);let MK=class extends dK{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:w}=this;return[e,r,n,i,s,o,a,c,u,l,d,f,h,p,g,w]}set(e,r,n,i,s,o,a,c,u,l,d,f,h,p,g,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,r){for(let E=0;E<16;E++,r+=4)qc[E]=e.getUint32(r),Hc[E]=e.getUint32(r+=4);for(let E=16;E<80;E++){const x=qc[E-15]|0,N=Hc[E-15]|0,O=it.rotrSH(x,N,1)^it.rotrSH(x,N,8)^it.shrSH(x,N,7),k=it.rotrSL(x,N,1)^it.rotrSL(x,N,8)^it.shrSL(x,N,7),U=qc[E-2]|0,D=Hc[E-2]|0,W=it.rotrSH(U,D,19)^it.rotrBH(U,D,61)^it.shrSH(U,D,6),H=it.rotrSL(U,D,19)^it.rotrBL(U,D,61)^it.shrSL(U,D,6),Q=it.add4L(k,H,Hc[E-7],Hc[E-16]),$=it.add4H(Q,O,W,qc[E-7],qc[E-16]);qc[E]=$|0,Hc[E]=Q|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:y,Hl:b}=this;for(let E=0;E<80;E++){const x=it.rotrSH(d,f,14)^it.rotrSH(d,f,18)^it.rotrBH(d,f,41),N=it.rotrSL(d,f,14)^it.rotrSL(d,f,18)^it.rotrBL(d,f,41),O=d&h^~d&g,k=f&p^~f&w,U=it.add5L(b,N,k,DK[E],Hc[E]),D=it.add5H(U,y,x,O,kK[E],qc[E]),W=U|0,H=it.rotrSH(n,i,28)^it.rotrBH(n,i,34)^it.rotrBH(n,i,39),Q=it.rotrSL(n,i,28)^it.rotrBL(n,i,34)^it.rotrBL(n,i,39),$=n&s^n&a^s&a,m=i&o^i&c^o&c;y=g|0,b=w|0,g=h|0,w=p|0,h=d|0,p=f|0,{h:d,l:f}=it.add(u|0,l|0,D|0,W|0),u=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const v=it.add3L(W,Q,m);n=it.add3H(v,D,H,$),i=v|0}({h:n,l:i}=it.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=it.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=it.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=it.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=it.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=it.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:w}=it.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:y,l:b}=it.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,i,s,o,a,c,u,l,d,f,h,p,g,w,y,b)}roundClean(){qc.fill(0),Hc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const BK=uK(()=>new MK);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t3=BigInt(0),K9=BigInt(1),UK=BigInt(2);function r3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function n3(t){if(!r3(t))throw new Error("Uint8Array expected")}function q2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const FK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function i3(t){n3(t);let e="";for(let r=0;r<t.length;r++)e+=FK[t[r]];return e}function Q9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?t3:BigInt("0x"+t)}const Ma={_0:48,_9:57,A:65,F:70,a:97,f:102};function PN(t){if(t>=Ma._0&&t<=Ma._9)return t-Ma._0;if(t>=Ma.A&&t<=Ma.F)return t-(Ma.A-10);if(t>=Ma.a&&t<=Ma.f)return t-(Ma.a-10)}function Y9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=PN(t.charCodeAt(s)),a=PN(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function $K(t){return Q9(i3(t))}function dw(t){return n3(t),Q9(i3(Uint8Array.from(t).reverse()))}function J9(t,e){return Y9(t.toString(16).padStart(e*2,"0"))}function L5(t,e){return J9(t,e).reverse()}function Ba(t,e,r){let n;if(typeof e=="string")try{n=Y9(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(r3(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function RN(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];n3(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const H2=t=>typeof t=="bigint"&&t3<=t;function LK(t,e,r){return H2(t)&&H2(e)&&H2(r)&&e<=t&&t<r}function tp(t,e,r,n){if(!LK(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function jK(t){let e;for(e=0;t>t3;t>>=K9,e+=1);return e}const zK=t=>(UK<<BigInt(t-1))-K9,qK={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||r3(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function s3(t,e,r={}){const n=(i,s,o)=>{const a=qK[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function ON(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Cn=BigInt(0),Fr=BigInt(1),Il=BigInt(2),HK=BigInt(3),j5=BigInt(4),kN=BigInt(5),DN=BigInt(8);function nn(t,e){const r=t%e;return r>=Cn?r:e+r}function WK(t,e,r){if(e<Cn)throw new Error("invalid exponent, negatives unsupported");if(r<=Cn)throw new Error("invalid modulus");if(r===Fr)return Cn;let n=Fr;for(;e>Cn;)e&Fr&&(n=n*t%r),t=t*t%r,e>>=Fr;return n}function Fo(t,e,r){let n=t;for(;e-- >Cn;)n*=n,n%=r;return n}function MN(t,e){if(t===Cn)throw new Error("invert: expected non-zero number");if(e<=Cn)throw new Error("invert: expected positive modulus, got "+e);let r=nn(t,e),n=e,i=Cn,s=Fr;for(;r!==Cn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Fr)throw new Error("invert: does not exist");return nn(i,e)}function VK(t){const e=(t-Fr)/Il;let r,n,i;for(r=t-Fr,n=0;r%Il===Cn;r/=Il,n++);for(i=Il;i<t&&WK(i,e,t)!==t-Fr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+Fr)/j5;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(r+Fr)/Il;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(a,s),d=o.pow(a,r);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(u,Fr<<BigInt(c-f-1));u=o.sqr(h),l=o.mul(l,h),d=o.mul(d,u),c=f}return l}}function GK(t){if(t%j5===HK){const e=(t+Fr)/j5;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%DN===kN){const e=(t-kN)/DN;return function(r,n){const i=r.mul(n,Il),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Il),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return VK(t)}const KK=(t,e)=>(nn(t,e)&Fr)===Fr,QK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=QK.reduce((n,i)=>(n[i]="function",n),e);return s3(t,r)}function JK(t,e,r){if(r<Cn)throw new Error("invalid exponent, negatives unsupported");if(r===Cn)return t.ONE;if(r===Fr)return e;let n=t.ONE,i=e;for(;r>Cn;)r&Fr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Fr;return n}function ZK(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function Z9(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function X9(t,e,r=!1,n={}){if(t<=Cn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Z9(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:zK(i),ZERO:Cn,ONE:Fr,create:c=>nn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Cn<=c&&c<t},is0:c=>c===Cn,isOdd:c=>(c&Fr)===Fr,neg:c=>nn(-c,t),eql:(c,u)=>c===u,sqr:c=>nn(c*c,t),add:(c,u)=>nn(c+u,t),sub:(c,u)=>nn(c-u,t),mul:(c,u)=>nn(c*u,t),pow:(c,u)=>JK(a,c,u),div:(c,u)=>nn(c*MN(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>MN(c,t),sqrt:n.sqrt||(c=>(o||(o=GK(t)),o(a,c))),invertBatch:c=>ZK(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?L5(c,s):J9(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?dw(c):$K(c)}});return Object.freeze(a)}const BN=BigInt(0),h1=BigInt(1);function W2(t,e){const r=e.negate();return t?r:e}function eM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function V2(t,e){eM(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function XK(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function eQ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const G2=new WeakMap,tM=new WeakMap;function K2(t){return tM.get(t)||1}function tQ(t,e){return{constTimeNegate:W2,hasPrecomputes(r){return K2(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>BN;)n&h1&&(i=i.add(s)),s=s.double(),n>>=h1;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=V2(n,e),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=V2(r,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let f=0;f<s;f++){const h=f*o;let p=Number(i&u);i>>=d,p>o&&(p-=l,i+=h1);const g=h,w=h+Math.abs(p)-1,y=f%2!==0,b=p<0;p===0?c=c.add(W2(y,n[g])):a=a.add(W2(b,n[w]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=V2(r,e),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let d=0;d<o;d++){const f=d*a;if(i===BN)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=h1),h===0)continue;let p=n[f+Math.abs(h)-1];h<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(r,n,i){let s=G2.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&G2.set(n,i(s))),s},wNAFCached(r,n,i){const s=K2(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=K2(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){eM(n,e),tM.set(r,n),G2.delete(r)}}}function rQ(t,e,r,n){if(XK(r,t),eQ(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=jK(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let l=i;for(let d=u;d>=0;d-=o){c.fill(i);for(let h=0;h<n.length;h++){const p=n[h],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(r[h])}let f=i;for(let h=c.length-1,p=i;h>0;h--)p=p.add(c[h]),f=f.add(p);if(l=l.add(f),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function nQ(t){return YK(t.Fp),s3(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Z9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Xs=BigInt(0),Ai=BigInt(1),p1=BigInt(2),iQ=BigInt(8),sQ={zip215:!0};function oQ(t){const e=nQ(t);return s3(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function aQ(t){const e=oQ(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=p1<<BigInt(a*8)-Ai,l=r.create,d=X9(e.n,e.nBitLength),f=e.uvRatio||((v,A)=>{try{return{isValid:!0,value:r.sqrt(v*r.inv(A))}}catch{return{isValid:!1,value:Xs}}}),h=e.adjustScalarBytes||(v=>v),p=e.domain||((v,A,T)=>{if(q2("phflag",T),A.length||T)throw new Error("Contexts/pre-hash are not supported");return v});function g(v,A){tp("coordinate "+v,A,Xs,u)}function w(v){if(!(v instanceof E))throw new Error("ExtendedPoint expected")}const y=ON((v,A)=>{const{ex:T,ey:I,ez:R}=v,L=v.is0();A==null&&(A=L?iQ:r.inv(R));const M=l(T*A),_=l(I*A),j=l(R*A);if(L)return{x:Xs,y:Ai};if(j!==Ai)throw new Error("invZ was invalid");return{x:M,y:_}}),b=ON(v=>{const{a:A,d:T}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:I,ey:R,ez:L,et:M}=v,_=l(I*I),j=l(R*R),Z=l(L*L),P=l(Z*Z),K=l(_*A),ee=l(Z*l(K+j)),X=l(P+l(T*l(_*j)));if(ee!==X)throw new Error("bad point: equation left != right (1)");const ne=l(I*R),be=l(L*M);if(ne!==be)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(A,T,I,R){this.ex=A,this.ey=T,this.ez=I,this.et=R,g("x",A),g("y",T),g("z",I),g("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof E)throw new Error("extended point not allowed");const{x:T,y:I}=A||{};return g("x",T),g("y",I),new E(T,I,Ai,l(T*I))}static normalizeZ(A){const T=r.invertBatch(A.map(I=>I.ez));return A.map((I,R)=>I.toAffine(T[R])).map(E.fromAffine)}static msm(A,T){return rQ(E,d,A,T)}_setWindowSize(A){O.setWindowSize(this,A)}assertValidity(){b(this)}equals(A){w(A);const{ex:T,ey:I,ez:R}=this,{ex:L,ey:M,ez:_}=A,j=l(T*_),Z=l(L*R),P=l(I*_),K=l(M*R);return j===Z&&P===K}is0(){return this.equals(E.ZERO)}negate(){return new E(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:A}=e,{ex:T,ey:I,ez:R}=this,L=l(T*T),M=l(I*I),_=l(p1*l(R*R)),j=l(A*L),Z=T+I,P=l(l(Z*Z)-L-M),K=j+M,ee=K-_,X=j-M,ne=l(P*ee),be=l(K*X),ue=l(P*X),ae=l(ee*K);return new E(ne,be,ae,ue)}add(A){w(A);const{a:T,d:I}=e,{ex:R,ey:L,ez:M,et:_}=this,{ex:j,ey:Z,ez:P,et:K}=A;if(T===BigInt(-1)){const ys=l((L-R)*(Z+j)),bt=l((L+R)*(Z-j)),St=l(bt-ys);if(St===Xs)return this.double();const ws=l(M*p1*K),It=l(_*p1*P),mt=It+ws,Mr=bt+ys,vt=It-ws,Ot=l(mt*St),hn=l(Mr*vt),kt=l(mt*vt),B=l(St*Mr);return new E(Ot,hn,B,kt)}const ee=l(R*j),X=l(L*Z),ne=l(_*I*K),be=l(M*P),ue=l((R+L)*(j+Z)-ee-X),ae=be-ne,Ke=be+ne,me=l(X-T*ee),Oe=l(ue*ae),Gn=l(Ke*me),gt=l(ue*me),Rt=l(ae*Ke);return new E(Oe,Gn,Rt,gt)}subtract(A){return this.add(A.negate())}wNAF(A){return O.wNAFCached(this,A,E.normalizeZ)}multiply(A){const T=A;tp("scalar",T,Ai,n);const{p:I,f:R}=this.wNAF(T);return E.normalizeZ([I,R])[0]}multiplyUnsafe(A,T=E.ZERO){const I=A;return tp("scalar",I,Xs,n),I===Xs?N:this.is0()||I===Ai?this:O.wNAFCachedUnsafe(this,I,E.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return O.unsafeLadder(this,n).is0()}toAffine(A){return y(this,A)}clearCofactor(){const{h:A}=e;return A===Ai?this:this.multiplyUnsafe(A)}static fromHex(A,T=!1){const{d:I,a:R}=e,L=r.BYTES;A=Ba("pointHex",A,L),q2("zip215",T);const M=A.slice(),_=A[L-1];M[L-1]=_&-129;const j=dw(M),Z=T?u:r.ORDER;tp("pointHex.y",j,Xs,Z);const P=l(j*j),K=l(P-Ai),ee=l(I*P-R);let{isValid:X,value:ne}=f(K,ee);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const be=(ne&Ai)===Ai,ue=(_&128)!==0;if(!T&&ne===Xs&&ue)throw new Error("Point.fromHex: x=0 and x_0=1");return ue!==be&&(ne=l(-ne)),E.fromAffine({x:ne,y:j})}static fromPrivateKey(A){return D(A).point}toRawBytes(){const{x:A,y:T}=this.toAffine(),I=L5(T,r.BYTES);return I[I.length-1]|=A&Ai?128:0,I}toHex(){return i3(this.toRawBytes())}}E.BASE=new E(e.Gx,e.Gy,Ai,l(e.Gx*e.Gy)),E.ZERO=new E(Xs,Ai,Ai,Xs);const{BASE:x,ZERO:N}=E,O=tQ(E,a*8);function k(v){return nn(v,n)}function U(v){return k(dw(v))}function D(v){const A=r.BYTES;v=Ba("private key",v,A);const T=Ba("hashed private key",s(v),2*A),I=h(T.slice(0,A)),R=T.slice(A,2*A),L=U(I),M=x.multiply(L),_=M.toRawBytes();return{head:I,prefix:R,scalar:L,point:M,pointBytes:_}}function W(v){return D(v).pointBytes}function H(v=new Uint8Array,...A){const T=RN(...A);return U(s(p(T,Ba("context",v),!!i)))}function Q(v,A,T={}){v=Ba("message",v),i&&(v=i(v));const{prefix:I,scalar:R,pointBytes:L}=D(A),M=H(T.context,I,v),_=x.multiply(M).toRawBytes(),j=H(T.context,_,L,v),Z=k(M+j*R);tp("signature.s",Z,Xs,n);const P=RN(_,L5(Z,r.BYTES));return Ba("result",P,r.BYTES*2)}const $=sQ;function m(v,A,T,I=$){const{context:R,zip215:L}=I,M=r.BYTES;v=Ba("signature",v,2*M),A=Ba("message",A),T=Ba("publicKey",T,M),L!==void 0&&q2("zip215",L),i&&(A=i(A));const _=dw(v.slice(M,2*M));let j,Z,P;try{j=E.fromHex(T,L),Z=E.fromHex(v.slice(0,M),L),P=x.multiplyUnsafe(_)}catch{return!1}if(!L&&j.isSmallOrder())return!1;const K=H(R,Z.toRawBytes(),j.toRawBytes(),A);return Z.add(j.multiplyUnsafe(K)).subtract(P).clearCofactor().equals(E.ZERO)}return x._setWindowSize(8),{CURVE:e,getPublicKey:W,sign:Q,verify:m,ExtendedPoint:E,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>o(r.BYTES),precompute(v=8,A=E.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}}}}BigInt(0),BigInt(1);const o3=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),UN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const cQ=BigInt(1),FN=BigInt(2);BigInt(3);const uQ=BigInt(5),lQ=BigInt(8);function dQ(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=o3,o=t*t%s*t%s,a=Fo(o,FN,s)*o%s,c=Fo(a,cQ,s)*t%s,u=Fo(c,uQ,s)*c%s,l=Fo(u,e,s)*u%s,d=Fo(l,r,s)*l%s,f=Fo(d,n,s)*d%s,h=Fo(f,i,s)*f%s,p=Fo(h,i,s)*f%s,g=Fo(p,e,s)*u%s;return{pow_p_5_8:Fo(g,FN,s)*t%s,b2:o}}function fQ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function hQ(t,e){const r=o3,n=nn(e*e*e,r),i=nn(n*n*e,r),s=dQ(t*i).pow_p_5_8;let o=nn(t*n*s,r);const a=nn(e*o*o,r),c=o,u=nn(o*UN,r),l=a===t,d=a===nn(-t,r),f=a===nn(-t*UN,r);return l&&(o=c),(d||f)&&(o=u),KK(o,r)&&(o=nn(-o,r)),{isValid:l||d,value:o}}const pQ=(()=>X9(o3,void 0,!0))(),gQ=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:pQ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:lQ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:BK,randomBytes:V9,adjustScalarBytes:fQ,uvRatio:hQ}))(),rM=(()=>aQ(gQ))(),mQ="EdDSA",yQ="JWT",lb=".",Dv="base64url",nM="utf8",iM="utf8",wQ=":",bQ="did",vQ="key",$N="base58btc",EQ="z",AQ="K36",_Q=32;function a3(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function sM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?a3(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function oM(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=sM(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return a3(r)}function CQ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,g++;for(var E=(b-y)*l+1>>>0,x=new Uint8Array(E);y!==b;){for(var N=p[y],O=0,k=E-1;(N!==0||O<w)&&k!==-1;k--,O++)N+=256*x[k]>>>0,x[k]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");w=O,y++}for(var U=E-w;U!==E&&x[U]===0;)U++;for(var D=c.repeat(g);U<E;++U)D+=t.charAt(x[U]);return D}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,y=0;p[g]===c;)w++,g++;for(var b=(p.length-g)*u+1>>>0,E=new Uint8Array(b);p[g];){var x=r[p.charCodeAt(g)];if(x===255)return;for(var N=0,O=b-1;(x!==0||N<y)&&O!==-1;O--,N++)x+=a*E[O]>>>0,E[O]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=N,g++}if(p[g]!==" "){for(var k=b-y;k!==b&&E[k]===0;)k++;for(var U=new Uint8Array(w+(b-k)),D=w;k!==b;)U[D++]=E[k++];return U}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var xQ=CQ,SQ=xQ;const aM=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},IQ=t=>new TextEncoder().encode(t),NQ=t=>new TextDecoder().decode(t);let TQ=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},PQ=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return cM(this,e)}},RQ=class{constructor(e){this.decoders=e}or(e){return cM(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const cM=(t,e)=>new RQ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let OQ=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new TQ(e,r,n),this.decoder=new PQ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Mv=({name:t,prefix:e,encode:r,decode:n})=>new OQ(t,e,r,n),oy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=SQ(r,e);return Mv({prefix:t,name:e,encode:n,decode:s=>aM(i(s))})},kQ=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const d=i[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},DQ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},qn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Mv({prefix:e,name:t,encode(i){return DQ(i,n,r)},decode(i){return kQ(i,n,r,t)}}),MQ=Mv({prefix:"\0",name:"identity",encode:t=>NQ(t),decode:t=>IQ(t)});var BQ=Object.freeze({__proto__:null,identity:MQ});const UQ=qn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var FQ=Object.freeze({__proto__:null,base2:UQ});const $Q=qn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var LQ=Object.freeze({__proto__:null,base8:$Q});const jQ=oy({prefix:"9",name:"base10",alphabet:"0123456789"});var zQ=Object.freeze({__proto__:null,base10:jQ});const qQ=qn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),HQ=qn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var WQ=Object.freeze({__proto__:null,base16:qQ,base16upper:HQ});const VQ=qn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),GQ=qn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),KQ=qn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),QQ=qn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),YQ=qn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),JQ=qn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ZQ=qn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),XQ=qn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eY=qn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tY=Object.freeze({__proto__:null,base32:VQ,base32upper:GQ,base32pad:KQ,base32padupper:QQ,base32hex:YQ,base32hexupper:JQ,base32hexpad:ZQ,base32hexpadupper:XQ,base32z:eY});const rY=oy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nY=oy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var iY=Object.freeze({__proto__:null,base36:rY,base36upper:nY});const sY=oy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oY=oy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var aY=Object.freeze({__proto__:null,base58btc:sY,base58flickr:oY});const cY=qn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),uY=qn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lY=qn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dY=qn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var fY=Object.freeze({__proto__:null,base64:cY,base64pad:uY,base64url:lY,base64urlpad:dY});const uM=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),hY=uM.reduce((t,e,r)=>(t[r]=e,t),[]),pY=uM.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function gY(t){return t.reduce((e,r)=>(e+=hY[r],e),"")}function mY(t){const e=[];for(const r of t){const n=pY[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const yY=Mv({prefix:"🚀",name:"base256emoji",encode:gY,decode:mY});var wY=Object.freeze({__proto__:null,base256emoji:yY}),bY=lM,LN=128,vY=127,EY=~vY,AY=Math.pow(2,31);function lM(t,e,r){e=e||[],r=r||0;for(var n=r;t>=AY;)e[r++]=t&255|LN,t/=128;for(;t&EY;)e[r++]=t&255|LN,t>>>=7;return e[r]=t|0,lM.bytes=r-n+1,e}var _Y=z5,CY=128,jN=127;function z5(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw z5.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&jN)<<i:(o&jN)*Math.pow(2,i),i+=7}while(o>=CY);return z5.bytes=s-n,r}var xY=Math.pow(2,7),SY=Math.pow(2,14),IY=Math.pow(2,21),NY=Math.pow(2,28),TY=Math.pow(2,35),PY=Math.pow(2,42),RY=Math.pow(2,49),OY=Math.pow(2,56),kY=Math.pow(2,63),DY=function(t){return t<xY?1:t<SY?2:t<IY?3:t<NY?4:t<TY?5:t<PY?6:t<RY?7:t<OY?8:t<kY?9:10},MY={encode:bY,decode:_Y,encodingLength:DY},dM=MY;const zN=(t,e,r=0)=>(dM.encode(t,e,r),e),qN=t=>dM.encodingLength(t),q5=(t,e)=>{const r=e.byteLength,n=qN(t),i=n+qN(r),s=new Uint8Array(i+r);return zN(t,s,0),zN(r,s,n),s.set(e,i),new BY(t,r,e,s)};let BY=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const fM=({name:t,code:e,encode:r})=>new UY(t,e,r);let UY=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?q5(this.code,r):r.then(n=>q5(this.code,n))}else throw Error("Unknown type, must be binary type")}};const hM=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),FY=fM({name:"sha2-256",code:18,encode:hM("SHA-256")}),$Y=fM({name:"sha2-512",code:19,encode:hM("SHA-512")});var LY=Object.freeze({__proto__:null,sha256:FY,sha512:$Y});const pM=0,jY="identity",gM=aM,zY=t=>q5(pM,gM(t)),qY={code:pM,name:jY,encode:gM,digest:zY};var HY=Object.freeze({__proto__:null,identity:qY});new TextEncoder,new TextDecoder;const HN={...BQ,...FQ,...LQ,...zQ,...WQ,...tY,...iY,...aY,...fY,...wY};({...LY,...HY});function mM(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const WN=mM("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Q2=mM("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=sM(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),yM={utf8:WN,"utf-8":WN,hex:HN.base16,latin1:Q2,ascii:Q2,binary:Q2,...HN};function Bv(t,e="utf8"){const r=yM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function w0(t,e="utf8"){const r=yM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?a3(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function VN(t){return gd(Bv(w0(t,Dv),nM))}function db(t){return Bv(w0(Ac(t),nM),Dv)}function wM(t){const e=w0(AQ,$N),r=EQ+Bv(oM([e,t]),$N);return[bQ,vQ,r].join(wQ)}function WY(t){return Bv(t,Dv)}function VY(t){return w0(t,Dv)}function GY(t){return w0([db(t.header),db(t.payload)].join(lb),iM)}function KY(t){return[db(t.header),db(t.payload),WY(t.signature)].join(lb)}function H5(t){const e=t.split(lb),r=VN(e[0]),n=VN(e[1]),i=VY(e[2]),s=w0(e.slice(0,2).join(lb),iM);return{header:r,payload:n,signature:i,data:s}}function GN(t=V9(_Q)){const e=rM.getPublicKey(t);return{secretKey:oM([t,e]),publicKey:e}}async function QY(t,e,r,n,i=ye.fromMiliseconds(Date.now())){const s={alg:mQ,typ:yQ},o=wM(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},u=GY({header:s,payload:c}),l=rM.sign(u,n.secretKey.slice(0,32));return KY({header:s,payload:c,signature:l})}var KN=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},YY=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),JY=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=kr.platform}return t}(),ZY=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),XY=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),eJ=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),tJ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,rJ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,QN=3,nJ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",tJ]],YN=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function iJ(t){return t?JN(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new eJ:typeof navigator<"u"?JN(navigator.userAgent):aJ()}function sJ(t){return t!==""&&nJ.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function JN(t){var e=sJ(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new XY;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<QN&&(i=KN(KN([],i,!0),cJ(QN-i.length),!0)):i=[];var s=i.join("."),o=oJ(t),a=rJ.exec(t);return a&&a[1]?new ZY(r,s,o,a[1]):new YY(r,s,o)}function oJ(t){for(var e=0,r=YN.length;e<r;e++){var n=YN[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function aJ(){var t=typeof kr<"u"&&kr.version;return t?new JY(kr.version.slice(1)):null}function cJ(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.getLocalStorage=Qt.getLocalStorageOrThrow=Qt.getCrypto=Qt.getCryptoOrThrow=bM=Qt.getLocation=Qt.getLocationOrThrow=c3=Qt.getNavigator=Qt.getNavigatorOrThrow=ay=Qt.getDocument=Qt.getDocumentOrThrow=Qt.getFromWindowOrThrow=Qt.getFromWindow=void 0;function Hd(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Qt.getFromWindow=Hd;function b0(t){const e=Hd(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Qt.getFromWindowOrThrow=b0;function uJ(){return b0("document")}Qt.getDocumentOrThrow=uJ;function lJ(){return Hd("document")}var ay=Qt.getDocument=lJ;function dJ(){return b0("navigator")}Qt.getNavigatorOrThrow=dJ;function fJ(){return Hd("navigator")}var c3=Qt.getNavigator=fJ;function hJ(){return b0("location")}Qt.getLocationOrThrow=hJ;function pJ(){return Hd("location")}var bM=Qt.getLocation=pJ;function gJ(){return b0("crypto")}Qt.getCryptoOrThrow=gJ;function mJ(){return Hd("crypto")}Qt.getCrypto=mJ;function yJ(){return b0("localStorage")}Qt.getLocalStorageOrThrow=yJ;function wJ(){return Hd("localStorage")}Qt.getLocalStorage=wJ;var u3={};Object.defineProperty(u3,"__esModule",{value:!0});var vM=u3.getWindowMetadata=void 0;const ZN=Qt;function bJ(){let t,e;try{t=ZN.getDocumentOrThrow(),e=ZN.getLocationOrThrow()}catch{return null}function r(){const d=t.getElementsByTagName("link"),f=[];for(let h=0;h<d.length;h++){const p=d[h],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const w=p.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(w.indexOf("/")===0)y+=w;else{const b=e.pathname.split("/");b.pop();const E=b.join("/");y+=E+"/"+w}f.push(y)}else if(w.indexOf("//")===0){const y=e.protocol+w;f.push(y)}else f.push(w)}}return f}function n(...d){const f=t.getElementsByTagName("meta");for(let h=0;h<f.length;h++){const p=f[h],g=["itemprop","property","name"].map(w=>p.getAttribute(w)).filter(w=>w?d.includes(w):!1);if(g.length&&g){const w=p.getAttribute("content");if(w)return w}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,u=r();return{description:a,url:c,icons:u,name:o}}vM=u3.getWindowMetadata=bJ;const vJ="1.0.8";let ps=class W5 extends Error{constructor(e,r={}){var o;const n=r.cause instanceof W5?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,i=r.cause instanceof W5&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${vJ}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function Rc(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const EM=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,AM=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,_M=/^\(.+?\).*?$/,XN=/^tuple(?<array>(\[(\d*)\])*)$/;function V5(t){let e=t.type;if(XN.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=V5(s),i<r-1&&(e+=", ")}const n=Rc(XN,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,V5({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function rp(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=V5(i),n!==r-1&&(e+=", ")}return e}function fb(t){var e;return t.type==="function"?`function ${t.name}(${rp(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${rp(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${rp(t.inputs)})`:t.type==="error"?`error ${t.name}(${rp(t.inputs)})`:t.type==="constructor"?`constructor(${rp(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const CM=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function EJ(t){return CM.test(t)}function AJ(t){return Rc(CM,t)}const xM=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _J(t){return xM.test(t)}function CJ(t){return Rc(xM,t)}const SM=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function xJ(t){return SM.test(t)}function SJ(t){return Rc(SM,t)}const IM=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function l3(t){return IM.test(t)}function IJ(t){return Rc(IM,t)}const NM=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function NJ(t){return NM.test(t)}function TJ(t){return Rc(NM,t)}const TM=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function PJ(t){return TM.test(t)}function RJ(t){return Rc(TM,t)}const OJ=/^receive\(\) external payable$/;function kJ(t){return OJ.test(t)}const DJ=new Set(["indexed"]),G5=new Set(["calldata","memory","storage"]);class MJ extends ps{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class BJ extends ps{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UJ extends ps{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class FJ extends ps{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class $J extends ps{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class LJ extends ps{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class jJ extends ps{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class zJ extends ps{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class v0 extends ps{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qJ extends ps{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class HJ extends ps{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class WJ extends ps{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class VJ extends ps{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function GJ(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const Y2=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function K5(t,e={}){if(xJ(t))return KJ(t,e);if(_J(t))return QJ(t,e);if(EJ(t))return YJ(t,e);if(NJ(t))return JJ(t,e);if(PJ(t))return ZJ(t);if(kJ(t))return{type:"receive",stateMutability:"payable"};throw new qJ({signature:t})}function KJ(t,e={}){const r=SJ(t);if(!r)throw new v0({signature:t,type:"function"});const n=bo(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(md(n[a],{modifiers:G5,structs:e,type:"function"}));const o=[];if(r.returns){const a=bo(r.returns),c=a.length;for(let u=0;u<c;u++)o.push(md(a[u],{modifiers:G5,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function QJ(t,e={}){const r=CJ(t);if(!r)throw new v0({signature:t,type:"event"});const n=bo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(md(n[o],{modifiers:DJ,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function YJ(t,e={}){const r=AJ(t);if(!r)throw new v0({signature:t,type:"error"});const n=bo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(md(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function JJ(t,e={}){const r=TJ(t);if(!r)throw new v0({signature:t,type:"constructor"});const n=bo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(md(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function ZJ(t){const e=RJ(t);if(!e)throw new v0({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const XJ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,eZ=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,tZ=/^u?int$/;function md(t,e){var d,f;const r=GJ(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Y2.has(r))return Y2.get(r);const n=_M.test(t),i=Rc(n?eZ:XJ,t);if(!i)throw new FJ({param:t});if(i.name&&nZ(i.name))throw new $J({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,u={};if(n){c="tuple";const h=bo(i.type),p=[],g=h.length;for(let w=0;w<g;w++)p.push(md(h[w],{structs:a}));u={components:p}}else if(i.type in a)c="tuple",u={components:a[i.type]};else if(tZ.test(i.type))c=`${i.type}256`;else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!PM(c))throw new UJ({type:c});if(i.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,i.modifier)))throw new LJ({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(G5.has(i.modifier)&&!iZ(c,!!i.array))throw new jJ({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const l={type:`${c}${i.array??""}`,...s,...o,...u};return Y2.set(r,l),l}function bo(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?bo(a,[...e,r.trim()]):bo(a,e,`${r}${o}`,n);case"(":return bo(a,e,`${r}${o}`,n+1);case")":return bo(a,e,`${r}${o}`,n-1);default:return bo(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new VJ({current:r,depth:n});return e.push(r.trim()),e}function PM(t){return t==="address"||t==="bool"||t==="function"||t==="string"||EM.test(t)||AM.test(t)}const rZ=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function nZ(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||EM.test(t)||AM.test(t)||rZ.test(t)}function iZ(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function RM(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!l3(a))continue;const c=IJ(a);if(!c)throw new v0({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let f=0;f<d;f++){const p=u[f].trim();if(!p)continue;const g=md(p,{type:"struct"});l.push(g)}if(!l.length)throw new HJ({signature:a});e[c.name]=l}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];n[a]=OM(c,e)}return n}const sZ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function OM(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(_M.test(o.type))n.push(o);else{const c=Rc(sZ,o.type);if(!(c!=null&&c.type))throw new zJ({abiParameter:o});const{array:u,type:l}=c;if(l in e){if(r.has(l))throw new WJ({type:l});n.push({...o,type:`tuple${u??""}`,components:OM(e[l]??[],e,new Set([...r,l]))})}else if(PM(l))n.push(o);else throw new BJ({type:l})}}return n}function kM(t){const e=RM(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];l3(s)||r.push(K5(s,e))}return r}function eT(t){let e;if(typeof t=="string")e=K5(t);else{const r=RM(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(!l3(s)){e=K5(s,r);break}}}if(!e)throw new MJ({signature:t});return e}function Ig(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function tT(t){return Ig(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const DM="2.23.2";let np={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${DM}`},Uv=class Q5 extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof Q5?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=(()=>r.cause instanceof Q5&&r.cause.docsPath||r.docsPath)(),s=(a=np.getDocsUrl)==null?void 0:a.call(np,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...np.version?[`Version: ${np.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=DM}walk(e){return MM(this,e)}};function MM(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?MM(t.cause,e):e?null:t}let BM=class extends Uv{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function E0(t,{dir:e,size:r=32}={}){return typeof t=="string"?oZ(t,{dir:e,size:r}):aZ(t,{dir:e,size:r})}function oZ(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new BM({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function aZ(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new BM({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let cZ=class extends Uv{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},uZ=class extends Uv{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function A0(t,{size:e}){if(tT(t)>e)throw new uZ({givenSize:tT(t),maxSize:e})}function Y5(t,e={}){const{signed:r}=e;e.size&&A0(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function lZ(t,e={}){return Number(Y5(t,e))}const dZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function J5(t,e={}){return typeof t=="number"||typeof t=="bigint"?FM(t,e):typeof t=="string"?pZ(t,e):typeof t=="boolean"?fZ(t,e):UM(t,e)}function fZ(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(A0(r,{size:e.size}),E0(r,{size:e.size})):r}function UM(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=dZ[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(A0(n,{size:e.size}),E0(n,{dir:"right",size:e.size})):n}function FM(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new cZ({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?E0(a,{size:n}):a}const hZ=new TextEncoder;function pZ(t,e={}){const r=hZ.encode(t);return UM(r,e)}const gZ=new TextEncoder;function mZ(t,e={}){return typeof t=="number"||typeof t=="bigint"?wZ(t,e):typeof t=="boolean"?yZ(t,e):Ig(t)?$M(t,e):LM(t,e)}function yZ(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(A0(r,{size:e.size}),E0(r,{size:e.size})):r}const Ua={zero:48,nine:57,A:65,F:70,a:97,f:102};function rT(t){if(t>=Ua.zero&&t<=Ua.nine)return t-Ua.zero;if(t>=Ua.A&&t<=Ua.F)return t-(Ua.A-10);if(t>=Ua.a&&t<=Ua.f)return t-(Ua.a-10)}function $M(t,e={}){let r=t;e.size&&(A0(r,{size:e.size}),r=E0(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=rT(n.charCodeAt(a++)),u=rT(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new Uv(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+u}return s}function wZ(t,e){const r=FM(t,e);return $M(r)}function LM(t,e={}){const r=gZ.encode(t);return typeof e.size=="number"?(A0(r,{size:e.size}),E0(r,{dir:"right",size:e.size})):r}function hb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function bZ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fv(t,...e){if(!bZ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function G3e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hb(t.outputLen),hb(t.blockLen)}function nT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vZ(t,e){Fv(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const g1=BigInt(2**32-1),iT=BigInt(32);function EZ(t,e=!1){return e?{h:Number(t&g1),l:Number(t>>iT&g1)}:{h:Number(t>>iT&g1)|0,l:Number(t&g1)|0}}function AZ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=EZ(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const _Z=(t,e,r)=>t<<r|e>>>32-r,CZ=(t,e,r)=>e<<r|t>>>32-r,xZ=(t,e,r)=>e<<r-32|t>>>64-r,SZ=(t,e,r)=>t<<r-32|e>>>64-r,af=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function IZ(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function K3e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Q3e(t,e){return t<<32-e|t>>>e}const sT=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function NZ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function oT(t){for(let e=0;e<t.length;e++)t[e]=NZ(t[e])}function TZ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function jM(t){return typeof t=="string"&&(t=TZ(t)),Fv(t),t}function Y3e(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Fv(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let PZ=class{clone(){return this._cloneInto()}};function RZ(t){const e=n=>t().update(jM(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Z3e(t=32){if(af&&typeof af.getRandomValues=="function")return af.getRandomValues(new Uint8Array(t));if(af&&typeof af.randomBytes=="function")return af.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const zM=[],qM=[],HM=[],OZ=BigInt(0),ip=BigInt(1),kZ=BigInt(2),DZ=BigInt(7),MZ=BigInt(256),BZ=BigInt(113);for(let t=0,e=ip,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],zM.push(2*(5*n+r)),qM.push((t+1)*(t+2)/2%64);let i=OZ;for(let s=0;s<7;s++)e=(e<<ip^(e>>DZ)*BZ)%MZ,e&kZ&&(i^=ip<<(ip<<BigInt(s))-ip);HM.push(i)}const[UZ,FZ]=AZ(HM,!0),aT=(t,e,r)=>r>32?xZ(t,e,r):_Z(t,e,r),cT=(t,e,r)=>r>32?SZ(t,e,r):CZ(t,e,r);function $Z(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=aT(u,l,1)^r[a],f=cT(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=qM[o],c=aT(i,s,a),u=cT(i,s,a),l=zM[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=UZ[n],t[1]^=FZ[n]}r.fill(0)}let LZ=class WM extends PZ{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hb(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=IZ(this.state)}keccak(){sT||oT(this.state32),$Z(this.state32,this.rounds),sT||oT(this.state32),this.posOut=0,this.pos=0}update(e){nT(this);const{blockLen:r,state:n}=this;e=jM(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){nT(this,!1),Fv(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(vZ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new WM(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const jZ=(t,e,r)=>RZ(()=>new LZ(e,t,r)),zZ=jZ(1,136,256/8);function VM(t,e){const r=e||"hex",n=zZ(Ig(t,{strict:!1})?mZ(t):t);return r==="bytes"?n:J5(n)}let qZ=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const J2=new qZ(8192);function HZ(t,e){if(J2.has(`${t}.${e}`))return J2.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=VM(LM(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return J2.set(`${t}.${e}`,s),s}function WZ(t){const e=VM(`0x${t.substring(4)}`).substring(26);return HZ(`0x${e}`)}const VZ="modulepreload",GZ=function(t){return"/synergy-nft-portal/"+t},uT={},Zn=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=GZ(s),s in uT)return;uT[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let l=i.length-1;l>=0;l--){const d=i[l];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":VZ,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((l,d)=>{u.addEventListener("load",l),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};async function KZ({hash:t,signature:e}){const r=Ig(t)?t:J5(t),{secp256k1:n}=await Zn(()=>import("./secp256k1-bea26220.js"),[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:l,v:d,yParity:f}=e,h=Number(f??d),p=lT(h);return new n.Signature(Y5(u),Y5(l)).addRecoveryBit(p)}const o=Ig(e)?e:J5(e),a=lZ(`0x${o.slice(130)}`),c=lT(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function lT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function QZ({hash:t,signature:e}){return WZ(await KZ({hash:t,signature:e}))}function YZ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const l=t.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,f=0;const h=u.length;for(;f!==h&&u[f]===0;)f++,l++;const p=(h-f)*s+1>>>0,g=new Uint8Array(p);for(;f!==h;){let b=u[f],E=0;for(let x=p-1;(b!==0||E<d)&&x!==-1;x--,E++)b+=256*g[x]>>>0,g[x]=b%r>>>0,b=b/r>>>0;if(b!==0)throw new Error("Non-zero carry");d=E,f++}let w=p-d;for(;w!==p&&g[w]===0;)w++;let y=n.repeat(l);for(;w<p;++w)y+=t.charAt(g[w]);return y}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,f=0;for(;u[l]===n;)d++,l++;const h=(u.length-l)*i+1>>>0,p=new Uint8Array(h);for(;l<u.length;){const b=u.charCodeAt(l);if(b>255)return;let E=e[b];if(E===255)return;let x=0;for(let N=h-1;(E!==0||x<f)&&N!==-1;N--,x++)E+=r*p[N]>>>0,p[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");f=x,l++}let g=h-f;for(;g!==h&&p[g]===0;)g++;const w=new Uint8Array(d+(h-g));let y=d;for(;g!==h;)w[y++]=p[g++];return w}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var JZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const GM=YZ(JZ);function KM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Hp(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=KM(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function ZZ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,g++;for(var E=(b-y)*l+1>>>0,x=new Uint8Array(E);y!==b;){for(var N=p[y],O=0,k=E-1;(N!==0||O<w)&&k!==-1;k--,O++)N+=256*x[k]>>>0,x[k]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");w=O,y++}for(var U=E-w;U!==E&&x[U]===0;)U++;for(var D=c.repeat(g);U<E;++U)D+=t.charAt(x[U]);return D}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,y=0;p[g]===c;)w++,g++;for(var b=(p.length-g)*u+1>>>0,E=new Uint8Array(b);p[g];){var x=r[p.charCodeAt(g)];if(x===255)return;for(var N=0,O=b-1;(x!==0||N<y)&&O!==-1;O--,N++)x+=a*E[O]>>>0,E[O]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=N,g++}if(p[g]!==" "){for(var k=b-y;k!==b&&E[k]===0;)k++;for(var U=new Uint8Array(w+(b-k)),D=w;k!==b;)U[D++]=E[k++];return U}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var XZ=ZZ,eX=XZ;const tX=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},rX=t=>new TextEncoder().encode(t),nX=t=>new TextDecoder().decode(t);class iX{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class sX{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return QM(this,e)}}class oX{constructor(e){this.decoders=e}or(e){return QM(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const QM=(t,e)=>new oX({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class aX{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new iX(e,r,n),this.decoder=new sX(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const $v=({name:t,prefix:e,encode:r,decode:n})=>new aX(t,e,r,n),cy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=eX(r,e);return $v({prefix:t,name:e,encode:n,decode:s=>tX(i(s))})},cX=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const d=i[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},uX=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Hn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>$v({prefix:e,name:t,encode(i){return uX(i,n,r)},decode(i){return cX(i,n,r,t)}}),lX=$v({prefix:"\0",name:"identity",encode:t=>nX(t),decode:t=>rX(t)}),dX=Object.freeze(Object.defineProperty({__proto__:null,identity:lX},Symbol.toStringTag,{value:"Module"})),fX=Hn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),hX=Object.freeze(Object.defineProperty({__proto__:null,base2:fX},Symbol.toStringTag,{value:"Module"})),pX=Hn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gX=Object.freeze(Object.defineProperty({__proto__:null,base8:pX},Symbol.toStringTag,{value:"Module"})),mX=cy({prefix:"9",name:"base10",alphabet:"0123456789"}),yX=Object.freeze(Object.defineProperty({__proto__:null,base10:mX},Symbol.toStringTag,{value:"Module"})),wX=Hn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bX=Hn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),vX=Object.freeze(Object.defineProperty({__proto__:null,base16:wX,base16upper:bX},Symbol.toStringTag,{value:"Module"})),EX=Hn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),AX=Hn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_X=Hn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),CX=Hn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xX=Hn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),SX=Hn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),IX=Hn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NX=Hn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),TX=Hn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),PX=Object.freeze(Object.defineProperty({__proto__:null,base32:EX,base32hex:xX,base32hexpad:IX,base32hexpadupper:NX,base32hexupper:SX,base32pad:_X,base32padupper:CX,base32upper:AX,base32z:TX},Symbol.toStringTag,{value:"Module"})),RX=cy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),OX=cy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),kX=Object.freeze(Object.defineProperty({__proto__:null,base36:RX,base36upper:OX},Symbol.toStringTag,{value:"Module"})),DX=cy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),MX=cy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),BX=Object.freeze(Object.defineProperty({__proto__:null,base58btc:DX,base58flickr:MX},Symbol.toStringTag,{value:"Module"})),UX=Hn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),FX=Hn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$X=Hn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),LX=Hn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),jX=Object.freeze(Object.defineProperty({__proto__:null,base64:UX,base64pad:FX,base64url:$X,base64urlpad:LX},Symbol.toStringTag,{value:"Module"})),YM=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),zX=YM.reduce((t,e,r)=>(t[r]=e,t),[]),qX=YM.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function HX(t){return t.reduce((e,r)=>(e+=zX[r],e),"")}function WX(t){const e=[];for(const r of t){const n=qX[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const VX=$v({prefix:"🚀",name:"base256emoji",encode:HX,decode:WX}),GX=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:VX},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const dT={...dX,...hX,...gX,...yX,...vX,...PX,...kX,...BX,...jX,...GX};function JM(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const fT=JM("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Z2=JM("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=KM(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),ZM={utf8:fT,"utf-8":fT,hex:dT.base16,latin1:Z2,ascii:Z2,binary:Z2,...dT};function $s(t,e="utf8"){const r=ZM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Fi(t,e="utf8"){const r=ZM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const KX={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},QX=":";function uh(t){const[e,r]=t.split(QX);return{namespace:e,reference:r}}function XM(t,e){return t.includes(":")?[t]:e.chains||[]}var YX=Object.defineProperty,JX=Object.defineProperties,ZX=Object.getOwnPropertyDescriptors,hT=Object.getOwnPropertySymbols,XX=Object.prototype.hasOwnProperty,eee=Object.prototype.propertyIsEnumerable,pT=(t,e,r)=>e in t?YX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gT=(t,e)=>{for(var r in e||(e={}))XX.call(e,r)&&pT(t,r,e[r]);if(hT)for(var r of hT(e))eee.call(e,r)&&pT(t,r,e[r]);return t},tee=(t,e)=>JX(t,ZX(e));const ree="ReactNative",is={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},nee="js";function pb(){return typeof kr<"u"&&typeof kr.versions<"u"&&typeof kr.versions.node<"u"}function il(){return!ay()&&!!c3()&&navigator.product===ree}function iee(){return il()&&typeof Le<"u"&&typeof(Le==null?void 0:Le.Platform)<"u"&&(Le==null?void 0:Le.Platform.OS)==="android"}function see(){return il()&&typeof Le<"u"&&typeof(Le==null?void 0:Le.Platform)<"u"&&(Le==null?void 0:Le.Platform.OS)==="ios"}function uy(){return!pb()&&!!c3()&&!!ay()}function ly(){return il()?is.reactNative:pb()?is.node:uy()?is.browser:is.unknown}function mT(){var t;try{return il()&&typeof Le<"u"&&typeof(Le==null?void 0:Le.Application)<"u"?(t=Le.Application)==null?void 0:t.applicationId:void 0}catch{return}}function oee(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function aee(t){var e,r;const n=eB();try{return t!=null&&t.url&&n.url&&t.url!==n.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),tee(gT(gT({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function eB(){return vM()||{name:"",description:"",url:"",icons:[""]}}function cee(){if(ly()===is.reactNative&&typeof Le<"u"&&typeof(Le==null?void 0:Le.Platform)<"u"){const{OS:r,Version:n}=Le.Platform;return[r,n].join("-")}const t=iJ();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function uee(){var t;const e=ly();return e===is.browser?[e,((t=bM())==null?void 0:t.host)||"unknown"].join(":"):e}function tB(t,e,r){const n=cee(),i=uee();return[[t,e].join("-"),[nee,r].join("-"),n,i].join("/")}function lee({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=r.split("?"),l=tB(t,e,n),d={auth:i,ua:l,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},f=oee(u[1]||"",d);return u[0]+"?"+f}function Ul(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Z5(t){return Object.fromEntries(t.entries())}function X5(t){return new Map(Object.entries(t))}function Cl(t=ye.FIVE_MINUTES,e){const r=ye.toMiliseconds(t||ye.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},r),n=a,i=c})}}function xu(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function rB(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function dee(t){return rB("topic",t)}function fee(t){return rB("id",t)}function nB(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function en(t,e){return ye.fromMiliseconds((e||Date.now())+ye.toMiliseconds(t))}function nu(t){return Date.now()>=ye.toMiliseconds(t)}function Pt(t,e){return`${t}${e?`:${e}`:""}`}function fw(t=[],e=[]){return[...new Set([...t,...e])]}async function hee({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=pee(s,t,e),a=ly();if(a===is.browser){if(!((n=ay())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}gee(o)}else a===is.reactNative&&typeof(Le==null?void 0:Le.Linking)<"u"&&await Le.Linking.openURL(o)}catch(i){console.error(i)}}function pee(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${bee(n,!0)}`}else i=`${i}/wc?${n}`;return i}function gee(t){let e="_self";wee()?e="_top":(yee()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function mee(t,e){let r="";try{if(uy()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function yT(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function wT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function d3(){return typeof kr<"u"&&{}.IS_VITEST==="true"}function yee(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function wee(){try{return window.self!==window.top}catch{return!1}}function bee(t,e=!1){const r=un.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function iB(t){return un.from(t,"base64").toString("utf-8")}function vee(t){return new Promise(e=>setTimeout(e,t))}function Ng(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Eee(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dy(t,...e){if(!Eee(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function f3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ng(t.outputLen),Ng(t.blockLen)}function jh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sB(t,e){dy(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const m1=BigInt(2**32-1),bT=BigInt(32);function Aee(t,e=!1){return e?{h:Number(t&m1),l:Number(t>>bT&m1)}:{h:Number(t>>bT&m1)|0,l:Number(t&m1)|0}}function _ee(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Aee(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const Cee=(t,e,r)=>t<<r|e>>>32-r,xee=(t,e,r)=>e<<r|t>>>32-r,See=(t,e,r)=>e<<r-32|t>>>64-r,Iee=(t,e,r)=>t<<r-32|e>>>64-r,cf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Nee(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function X2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $o(t,e){return t<<32-e|t>>>e}const vT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tee(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function ET(t){for(let e=0;e<t.length;e++)t[e]=Tee(t[e])}function Pee(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function zh(t){return typeof t=="string"&&(t=Pee(t)),dy(t),t}function Ree(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];dy(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let h3=class{clone(){return this._cloneInto()}};function oB(t){const e=n=>t().update(zh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function _0(t=32){if(cf&&typeof cf.getRandomValues=="function")return cf.getRandomValues(new Uint8Array(t));if(cf&&typeof cf.randomBytes=="function")return cf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const aB=[],cB=[],uB=[],Oee=BigInt(0),sp=BigInt(1),kee=BigInt(2),Dee=BigInt(7),Mee=BigInt(256),Bee=BigInt(113);for(let t=0,e=sp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],aB.push(2*(5*n+r)),cB.push((t+1)*(t+2)/2%64);let i=Oee;for(let s=0;s<7;s++)e=(e<<sp^(e>>Dee)*Bee)%Mee,e&kee&&(i^=sp<<(sp<<BigInt(s))-sp);uB.push(i)}const[Uee,Fee]=_ee(uB,!0),AT=(t,e,r)=>r>32?See(t,e,r):Cee(t,e,r),_T=(t,e,r)=>r>32?Iee(t,e,r):xee(t,e,r);function $ee(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=AT(u,l,1)^r[a],f=_T(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=cB[o],c=AT(i,s,a),u=_T(i,s,a),l=aB[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Uee[n],t[1]^=Fee[n]}r.fill(0)}let Lee=class lB extends h3{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ng(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Nee(this.state)}keccak(){vT||ET(this.state32),$ee(this.state32,this.rounds),vT||ET(this.state32),this.posOut=0,this.pos=0}update(e){jh(this);const{blockLen:r,state:n}=this;e=zh(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){jh(this,!1),dy(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ng(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(sB(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new lB(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const jee=(t,e,r)=>oB(()=>new Lee(e,t,r)),zee=jee(1,136,256/8),qee="https://rpc.walletconnect.org/v1";function dB(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+un.from(zee(r)).toString("hex")}async function Hee(t,e,r,n,i,s){switch(r.t){case"eip191":return await Wee(t,e,r.s);case"eip1271":return await Vee(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function Wee(t,e,r){return(await QZ({hash:dB(e),signature:r})).toLowerCase()===t.toLowerCase()}async function Vee(t,e,r,n,i,s){const o=uh(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),d=dB(e).substring(2),f=a+d+c+u+l,h=await fetch(`${s||qee}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Gee(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Gee(){return Date.now()+Math.floor(Math.random()*1e3)}function Kee(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=un.from(t,"base64").slice(1,65);return GM.encode(s)}var Qee=Object.defineProperty,Yee=Object.defineProperties,Jee=Object.getOwnPropertyDescriptors,CT=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,Xee=Object.prototype.propertyIsEnumerable,xT=(t,e,r)=>e in t?Qee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ete=(t,e)=>{for(var r in e||(e={}))Zee.call(e,r)&&xT(t,r,e[r]);if(CT)for(var r of CT(e))Xee.call(e,r)&&xT(t,r,e[r]);return t},tte=(t,e)=>Yee(t,Jee(e));const rte="did:pkh:",p3=t=>t==null?void 0:t.split(":"),nte=t=>{const e=t&&p3(t);if(e)return t.includes(rte)?e[3]:e[1]},e_=t=>{const e=t&&p3(t);if(e)return e[2]+":"+e[3]},gb=t=>{const e=t&&p3(t);if(e)return e.pop()};async function ST(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=fB(i,i.iss),o=gb(i.iss);return await Hee(o,s,n,e_(i.iss),r)}const fB=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=gb(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${nte(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=hw(t.resources);if(p){const g=Tg(p);i=fte(i,g)}return[r,n,"",i,"",s,o,a,c,u,l,d,f,h].filter(g=>g!=null).join(`
`)};function ite(t){return un.from(JSON.stringify(t)).toString("base64")}function ste(t){return JSON.parse(un.from(t,"base64").toString("utf-8"))}function yd(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function ote(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:ate(e,r,n)}}}function ate(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function hB(t){return yd(t),`urn:recap:${ite(t).replace(/=/g,"")}`}function Tg(t){const e=ste(t.replace("urn:recap:",""));return yd(e),e}function cte(t,e,r){const n=ote(t,e,r);return hB(n)}function ute(t){return t&&t.includes("urn:recap:")}function lte(t,e){const r=Tg(t),n=Tg(e),i=dte(r,n);return hB(i)}function dte(t,e){yd(t),yd(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;n.att[i]=tte(ete({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((u=e.att[i])==null?void 0:u[a])})})}),n}function fte(t="",e){yd(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const u={};c.forEach(d=>{u[d.ability]||(u[d.ability]=[]),u[d.ability].push(d.action)});const l=Object.keys(u).map(d=>(i++,`(${i}) '${d}': '${u[d].join("', '")}' for '${a}'.`));n.push(l.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function IT(t){var e;const r=Tg(t);yd(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function NT(t){const e=Tg(t);yd(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function hw(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return ute(e)?e:void 0}function eA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function pB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zi(t,...e){if(!pB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function TT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hte(t,e){Zi(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function PT(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Uu=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),pte=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),gte=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!gte)throw new Error("Non little-endian hardware is not supported");function mte(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function t_(t){if(typeof t=="string")t=mte(t);else if(pB(t))t=r_(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function yte(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function wte(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const bte=(t,e)=>{function r(n,...i){if(Zi(n),t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?Zi(u):Zi(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Zi(i[1]);const o=e(n,...i),a=(u,l)=>{if(l!==void 0){if(u!==2)throw new Error("cipher output not supported");Zi(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Zi(u),a(o.encrypt.length,l),o.encrypt(u,l)},decrypt(u,l){if(Zi(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,l),o.decrypt(u,l)}}}return Object.assign(r,t),r};function RT(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!vte(e))throw new Error("invalid output, must be aligned");return e}function OT(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function vte(t){return t.byteOffset%4===0}function r_(t){return Uint8Array.from(t)}function qh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const gB=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Ete=gB("expand 16-byte k"),Ate=gB("expand 32-byte k"),_te=Uu(Ete),Cte=Uu(Ate);function Et(t,e){return t<<e|t>>>32-e}function n_(t){return t.byteOffset%4===0}const y1=64,xte=16,mB=2**32-1,kT=new Uint32Array;function Ste(t,e,r,n,i,s,o,a){const c=i.length,u=new Uint8Array(y1),l=Uu(u),d=n_(i)&&n_(s),f=d?Uu(i):kT,h=d?Uu(s):kT;for(let p=0;p<c;o++){if(t(e,r,n,l,o,a),o>=mB)throw new Error("arx: counter overflow");const g=Math.min(y1,c-p);if(d&&g===y1){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<xte;y++)b=w+y,h[b]=f[b]^l[y];p+=y1;continue}for(let w=0,y;w<g;w++)y=p+w,s[y]=i[y]^u[w];p+=g}}function Ite(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=yte({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return eA(i),eA(o),PT(s),PT(r),(a,c,u,l,d=0)=>{Zi(a),Zi(c),Zi(u);const f=u.length;if(l===void 0&&(l=new Uint8Array(f)),Zi(l),eA(d),d<0||d>=mB)throw new Error("arx: counter overflow");if(l.length<f)throw new Error(`arx: output (${l.length}) is shorter than data (${f})`);const h=[];let p=a.length,g,w;if(p===32)h.push(g=r_(a)),w=Cte;else if(p===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),w=_te,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);n_(c)||h.push(c=r_(c));const y=Uu(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(w,y,Uu(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const x=new Uint8Array(12);x.set(c,s?0:12-c.length),c=x,h.push(c)}const E=Uu(c);return Ste(t,w,y,E,u,l,d,o),qh(...h),l}}const Tn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Nte{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=t_(e),Zi(e,32);const r=Tn(e,0),n=Tn(e,2),i=Tn(e,4),s=Tn(e,6),o=Tn(e,8),a=Tn(e,10),c=Tn(e,12),u=Tn(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Tn(e,16+2*l)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],l=o[3],d=o[4],f=o[5],h=o[6],p=o[7],g=o[8],w=o[9],y=Tn(e,r+0),b=Tn(e,r+2),E=Tn(e,r+4),x=Tn(e,r+6),N=Tn(e,r+8),O=Tn(e,r+10),k=Tn(e,r+12),U=Tn(e,r+14);let D=s[0]+(y&8191),W=s[1]+((y>>>13|b<<3)&8191),H=s[2]+((b>>>10|E<<6)&8191),Q=s[3]+((E>>>7|x<<9)&8191),$=s[4]+((x>>>4|N<<12)&8191),m=s[5]+(N>>>1&8191),v=s[6]+((N>>>14|O<<2)&8191),A=s[7]+((O>>>11|k<<5)&8191),T=s[8]+((k>>>8|U<<8)&8191),I=s[9]+(U>>>5|i),R=0,L=R+D*a+W*(5*w)+H*(5*g)+Q*(5*p)+$*(5*h);R=L>>>13,L&=8191,L+=m*(5*f)+v*(5*d)+A*(5*l)+T*(5*u)+I*(5*c),R+=L>>>13,L&=8191;let M=R+D*c+W*a+H*(5*w)+Q*(5*g)+$*(5*p);R=M>>>13,M&=8191,M+=m*(5*h)+v*(5*f)+A*(5*d)+T*(5*l)+I*(5*u),R+=M>>>13,M&=8191;let _=R+D*u+W*c+H*a+Q*(5*w)+$*(5*g);R=_>>>13,_&=8191,_+=m*(5*p)+v*(5*h)+A*(5*f)+T*(5*d)+I*(5*l),R+=_>>>13,_&=8191;let j=R+D*l+W*u+H*c+Q*a+$*(5*w);R=j>>>13,j&=8191,j+=m*(5*g)+v*(5*p)+A*(5*h)+T*(5*f)+I*(5*d),R+=j>>>13,j&=8191;let Z=R+D*d+W*l+H*u+Q*c+$*a;R=Z>>>13,Z&=8191,Z+=m*(5*w)+v*(5*g)+A*(5*p)+T*(5*h)+I*(5*f),R+=Z>>>13,Z&=8191;let P=R+D*f+W*d+H*l+Q*u+$*c;R=P>>>13,P&=8191,P+=m*a+v*(5*w)+A*(5*g)+T*(5*p)+I*(5*h),R+=P>>>13,P&=8191;let K=R+D*h+W*f+H*d+Q*l+$*u;R=K>>>13,K&=8191,K+=m*c+v*a+A*(5*w)+T*(5*g)+I*(5*p),R+=K>>>13,K&=8191;let ee=R+D*p+W*h+H*f+Q*d+$*l;R=ee>>>13,ee&=8191,ee+=m*u+v*c+A*a+T*(5*w)+I*(5*g),R+=ee>>>13,ee&=8191;let X=R+D*g+W*p+H*h+Q*f+$*d;R=X>>>13,X&=8191,X+=m*l+v*u+A*c+T*a+I*(5*w),R+=X>>>13,X&=8191;let ne=R+D*w+W*g+H*p+Q*h+$*f;R=ne>>>13,ne&=8191,ne+=m*d+v*l+A*u+T*c+I*a,R+=ne>>>13,ne&=8191,R=(R<<2)+R|0,R=R+L|0,L=R&8191,R=R>>>13,M+=R,s[0]=L,s[1]=M,s[2]=_,s[3]=j,s[4]=Z,s[5]=P,s[6]=K,s[7]=ee,s[8]=X,s[9]=ne}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;qh(n)}update(e){TT(this);const{buffer:r,blockLen:n}=this;e=t_(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){qh(this.h,this.r,this.buffer,this.pad)}digestInto(e){TT(this),hte(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function Tte(t){const e=(n,i)=>t(i).update(t_(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const Pte=Tte(t=>new Nte(t));function Rte(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],u=t[3],l=e[0],d=e[1],f=e[2],h=e[3],p=e[4],g=e[5],w=e[6],y=e[7],b=i,E=r[0],x=r[1],N=r[2],O=o,k=a,U=c,D=u,W=l,H=d,Q=f,$=h,m=p,v=g,A=w,T=y,I=b,R=E,L=x,M=N;for(let j=0;j<s;j+=2)O=O+W|0,I=Et(I^O,16),m=m+I|0,W=Et(W^m,12),O=O+W|0,I=Et(I^O,8),m=m+I|0,W=Et(W^m,7),k=k+H|0,R=Et(R^k,16),v=v+R|0,H=Et(H^v,12),k=k+H|0,R=Et(R^k,8),v=v+R|0,H=Et(H^v,7),U=U+Q|0,L=Et(L^U,16),A=A+L|0,Q=Et(Q^A,12),U=U+Q|0,L=Et(L^U,8),A=A+L|0,Q=Et(Q^A,7),D=D+$|0,M=Et(M^D,16),T=T+M|0,$=Et($^T,12),D=D+$|0,M=Et(M^D,8),T=T+M|0,$=Et($^T,7),O=O+H|0,M=Et(M^O,16),A=A+M|0,H=Et(H^A,12),O=O+H|0,M=Et(M^O,8),A=A+M|0,H=Et(H^A,7),k=k+Q|0,I=Et(I^k,16),T=T+I|0,Q=Et(Q^T,12),k=k+Q|0,I=Et(I^k,8),T=T+I|0,Q=Et(Q^T,7),U=U+$|0,R=Et(R^U,16),m=m+R|0,$=Et($^m,12),U=U+$|0,R=Et(R^U,8),m=m+R|0,$=Et($^m,7),D=D+W|0,L=Et(L^D,16),v=v+L|0,W=Et(W^v,12),D=D+W|0,L=Et(L^D,8),v=v+L|0,W=Et(W^v,7);let _=0;n[_++]=o+O|0,n[_++]=a+k|0,n[_++]=c+U|0,n[_++]=u+D|0,n[_++]=l+W|0,n[_++]=d+H|0,n[_++]=f+Q|0,n[_++]=h+$|0,n[_++]=p+m|0,n[_++]=g+v|0,n[_++]=w+A|0,n[_++]=y+T|0,n[_++]=b+I|0,n[_++]=E+R|0,n[_++]=x+L|0,n[_++]=N+M|0}const Ote=Ite(Rte,{counterRight:!1,counterLength:4,allowShortKeys:!1}),kte=new Uint8Array(16),DT=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(kte.subarray(r))},Dte=new Uint8Array(32);function MT(t,e,r,n,i){const s=t(e,r,Dte),o=Pte.create(s);i&&DT(o,i),DT(o,n);const a=new Uint8Array(16),c=pte(a);OT(c,0,BigInt(i?i.length:0),!0),OT(c,8,BigInt(n.length),!0),o.update(a);const u=o.digest();return qh(s,a),u}const Mte=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=RT(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=MT(t,e,r,a,n);return s.set(c,o),qh(c),s},decrypt(i,s){s=RT(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=MT(t,e,r,o,n);if(!wte(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),qh(c),s}}),yB=bte({blockSize:64,nonceLength:12,tagLength:16},Mte(Ote));let wB=class extends h3{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,f3(e);const n=zh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return jh(this),this.iHash.update(e),this}digestInto(e){jh(this),dy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Lv=(t,e,r)=>new wB(t,e).update(r).digest();Lv.create=(t,e)=>new wB(t,e);function Bte(t,e,r){return f3(t),r===void 0&&(r=new Uint8Array(t.outputLen)),Lv(t,zh(r),zh(e))}const tA=new Uint8Array([0]),BT=new Uint8Array;function Ute(t,e,r,n=32){if(f3(t),Ng(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/t.outputLen);r===void 0&&(r=BT);const s=new Uint8Array(i*t.outputLen),o=Lv.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)tA[0]=u+1,a.update(u===0?BT:c).update(r).update(tA).digestInto(c),s.set(c,t.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),tA.fill(0),s.slice(0,n)}const Fte=(t,e,r,n,i)=>Ute(t,Bte(t,e,r),n,i);function $te(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function Lte(t,e,r){return t&e^~t&r}function jte(t,e,r){return t&e^t&r^e&r}let zte=class extends h3{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=X2(this.buffer)}update(e){jh(this);const{view:r,buffer:n,blockLen:i}=this;e=zh(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=X2(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jh(this),sB(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;$te(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=X2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const qte=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vc=new Uint32Array(64);class Hte extends zte{constructor(){super(64,32,8,!1),this.A=Wc[0]|0,this.B=Wc[1]|0,this.C=Wc[2]|0,this.D=Wc[3]|0,this.E=Wc[4]|0,this.F=Wc[5]|0,this.G=Wc[6]|0,this.H=Wc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Vc[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=Vc[d-15],h=Vc[d-2],p=$o(f,7)^$o(f,18)^f>>>3,g=$o(h,17)^$o(h,19)^h>>>10;Vc[d]=g+Vc[d-7]+p+Vc[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=$o(a,6)^$o(a,11)^$o(a,25),h=l+f+Lte(a,c,u)+qte[d]+Vc[d]|0,p=($o(n,2)^$o(n,13)^$o(n,22))+jte(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){Vc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const fy=oB(()=>new Hte);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jv=BigInt(0),zv=BigInt(1),Wte=BigInt(2);function wd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hy(t){if(!wd(t))throw new Error("Uint8Array expected")}function Hh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Vte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wh(t){hy(t);let e="";for(let r=0;r<t.length;r++)e+=Vte[t[r]];return e}function Kf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function g3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jv:BigInt("0x"+t)}const Fa={_0:48,_9:57,A:65,F:70,a:97,f:102};function UT(t){if(t>=Fa._0&&t<=Fa._9)return t-Fa._0;if(t>=Fa.A&&t<=Fa.F)return t-(Fa.A-10);if(t>=Fa.a&&t<=Fa.f)return t-(Fa.a-10)}function Vh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=UT(t.charCodeAt(s)),a=UT(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function rd(t){return g3(Wh(t))}function Pg(t){return hy(t),g3(Wh(Uint8Array.from(t).reverse()))}function Gh(t,e){return Vh(t.toString(16).padStart(e*2,"0"))}function qv(t,e){return Gh(t,e).reverse()}function Gte(t){return Vh(Kf(t))}function Ji(t,e,r){let n;if(typeof e=="string")try{n=Vh(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(wd(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function Rg(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];hy(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function Kte(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function Qte(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const rA=t=>typeof t=="bigint"&&jv<=t;function Hv(t,e,r){return rA(t)&&rA(e)&&rA(r)&&e<=t&&t<r}function hc(t,e,r,n){if(!Hv(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function bB(t){let e;for(e=0;t>jv;t>>=zv,e+=1);return e}function Yte(t,e){return t>>BigInt(e)&zv}function Jte(t,e,r){return t|(r?zv:jv)<<BigInt(e)}const m3=t=>(Wte<<BigInt(t-1))-zv,nA=t=>new Uint8Array(t),FT=t=>Uint8Array.from(t);function vB(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=nA(t),i=nA(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...l)=>r(i,n,...l),c=(l=nA())=>{i=a(FT([0]),l),n=a(),l.length!==0&&(i=a(FT([1]),l),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<e;){n=a();const f=n.slice();d.push(f),l+=n.length}return Rg(...d)};return(l,d)=>{o(),c(l);let f;for(;!(f=d(u()));)c();return o(),f}}const Zte={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||wd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function C0(t,e,r={}){const n=(i,s,o)=>{const a=Zte[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const Xte=()=>{throw new Error("not implemented")};function i_(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}var ere=Object.freeze({__proto__:null,isBytes:wd,abytes:hy,abool:Hh,bytesToHex:Wh,numberToHexUnpadded:Kf,hexToNumber:g3,hexToBytes:Vh,bytesToNumberBE:rd,bytesToNumberLE:Pg,numberToBytesBE:Gh,numberToBytesLE:qv,numberToVarBytesBE:Gte,ensureBytes:Ji,concatBytes:Rg,equalBytes:Kte,utf8ToBytes:Qte,inRange:Hv,aInRange:hc,bitLen:bB,bitGet:Yte,bitSet:Jte,bitMask:m3,createHmacDrbg:vB,validateObject:C0,notImplemented:Xte,memoized:i_});const xn=BigInt(0),$r=BigInt(1),Nl=BigInt(2),tre=BigInt(3),s_=BigInt(4),$T=BigInt(5),LT=BigInt(8);function Ri(t,e){const r=t%e;return r>=xn?r:e+r}function EB(t,e,r){if(e<xn)throw new Error("invalid exponent, negatives unsupported");if(r<=xn)throw new Error("invalid modulus");if(r===$r)return xn;let n=$r;for(;e>xn;)e&$r&&(n=n*t%r),t=t*t%r,e>>=$r;return n}function so(t,e,r){let n=t;for(;e-- >xn;)n*=n,n%=r;return n}function o_(t,e){if(t===xn)throw new Error("invert: expected non-zero number");if(e<=xn)throw new Error("invert: expected positive modulus, got "+e);let r=Ri(t,e),n=e,i=xn,s=$r;for(;r!==xn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==$r)throw new Error("invert: does not exist");return Ri(i,e)}function rre(t){const e=(t-$r)/Nl;let r,n,i;for(r=t-$r,n=0;r%Nl===xn;r/=Nl,n++);for(i=Nl;i<t&&EB(i,e,t)!==t-$r;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+$r)/s_;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(r+$r)/Nl;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(a,s),d=o.pow(a,r);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(u,$r<<BigInt(c-f-1));u=o.sqr(h),l=o.mul(l,h),d=o.mul(d,u),c=f}return l}}function nre(t){if(t%s_===tre){const e=(t+$r)/s_;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%LT===$T){const e=(t-$T)/LT;return function(r,n){const i=r.mul(n,Nl),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Nl),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return rre(t)}const ire=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sre(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ire.reduce((n,i)=>(n[i]="function",n),e);return C0(t,r)}function ore(t,e,r){if(r<xn)throw new Error("invalid exponent, negatives unsupported");if(r===xn)return t.ONE;if(r===$r)return e;let n=t.ONE,i=e;for(;r>xn;)r&$r&&(n=t.mul(n,i)),i=t.sqr(i),r>>=$r;return n}function are(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function AB(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function _B(t,e,r=!1,n={}){if(t<=xn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=AB(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:m3(i),ZERO:xn,ONE:$r,create:c=>Ri(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return xn<=c&&c<t},is0:c=>c===xn,isOdd:c=>(c&$r)===$r,neg:c=>Ri(-c,t),eql:(c,u)=>c===u,sqr:c=>Ri(c*c,t),add:(c,u)=>Ri(c+u,t),sub:(c,u)=>Ri(c-u,t),mul:(c,u)=>Ri(c*u,t),pow:(c,u)=>ore(a,c,u),div:(c,u)=>Ri(c*o_(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>o_(c,t),sqrt:n.sqrt||(c=>(o||(o=nre(t)),o(a,c))),invertBatch:c=>are(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?qv(c,s):Gh(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Pg(c):rd(c)}});return Object.freeze(a)}function CB(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function xB(t){const e=CB(t);return e+Math.ceil(e/2)}function cre(t,e,r=!1){const n=t.length,i=CB(e),s=xB(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Pg(t):rd(t),a=Ri(o,e-$r)+$r;return r?qv(a,i):Gh(a,i)}const jT=BigInt(0),w1=BigInt(1);function iA(t,e){const r=e.negate();return t?r:e}function SB(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function sA(t,e){SB(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function ure(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function lre(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const oA=new WeakMap,IB=new WeakMap;function aA(t){return IB.get(t)||1}function dre(t,e){return{constTimeNegate:iA,hasPrecomputes(r){return aA(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>jT;)n&w1&&(i=i.add(s)),s=s.double(),n>>=w1;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=sA(n,e),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=sA(r,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let f=0;f<s;f++){const h=f*o;let p=Number(i&u);i>>=d,p>o&&(p-=l,i+=w1);const g=h,w=h+Math.abs(p)-1,y=f%2!==0,b=p<0;p===0?c=c.add(iA(y,n[g])):a=a.add(iA(b,n[w]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=sA(r,e),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let d=0;d<o;d++){const f=d*a;if(i===jT)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=w1),h===0)continue;let p=n[f+Math.abs(h)-1];h<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(r,n,i){let s=oA.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&oA.set(n,i(s))),s},wNAFCached(r,n,i){const s=aA(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=aA(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){SB(n,e),IB.set(r,n),oA.delete(r)}}}function fre(t,e,r,n){if(ure(r,t),lre(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=bB(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let l=i;for(let d=u;d>=0;d-=o){c.fill(i);for(let h=0;h<n.length;h++){const p=n[h],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(r[h])}let f=i;for(let h=c.length-1,p=i;h>0;h--)p=p.add(c[h]),f=f.add(p);if(l=l.add(f),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function NB(t){return sre(t.Fp),C0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...AB(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const uf=BigInt(0),cA=BigInt(1);function hre(t){return C0(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function pre(t){const e=hre(t),{P:r}=e,n=b=>Ri(b,r),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>EB(b,r-BigInt(2),r));function u(b,E,x){const N=n(b*(E-x));return E=n(E-N),x=n(x+N),[E,x]}const l=(e.a-BigInt(2))/BigInt(4);function d(b,E){hc("u",b,uf,r),hc("scalar",E,uf,r);const x=E,N=b;let O=cA,k=uf,U=b,D=cA,W=uf,H;for(let $=BigInt(i-1);$>=uf;$--){const m=x>>$&cA;W^=m,H=u(W,O,U),O=H[0],U=H[1],H=u(W,k,D),k=H[0],D=H[1],W=m;const v=O+k,A=n(v*v),T=O-k,I=n(T*T),R=A-I,L=U+D,M=U-D,_=n(M*v),j=n(L*T),Z=_+j,P=_-j;U=n(Z*Z),D=n(N*n(P*P)),O=n(A*I),k=n(R*(A+n(l*R)))}H=u(W,O,U),O=H[0],U=H[1],H=u(W,k,D),k=H[0],D=H[1];const Q=c(k);return n(O*Q)}function f(b){return qv(n(b),s)}function h(b){const E=Ji("u coordinate",b,s);return o===32&&(E[31]&=127),Pg(E)}function p(b){const E=Ji("scalar",b),x=E.length;if(x!==s&&x!==o){let N=""+s+" or "+o;throw new Error("invalid scalar, expected "+N+" bytes, got "+x)}return Pg(a(E))}function g(b,E){const x=h(E),N=p(b),O=d(x,N);if(O===uf)throw new Error("invalid private or public key received");return f(O)}const w=f(e.Gu);function y(b){return g(b,w)}return{scalarMult:g,scalarMultBase:y,getSharedSecret:(b,E)=>g(b,E),getPublicKey:b=>y(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:w}}const a_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const gre=BigInt(1),zT=BigInt(2),mre=BigInt(3),yre=BigInt(5);BigInt(8);function wre(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=a_,o=t*t%s*t%s,a=so(o,zT,s)*o%s,c=so(a,gre,s)*t%s,u=so(c,yre,s)*c%s,l=so(u,e,s)*u%s,d=so(l,r,s)*l%s,f=so(d,n,s)*d%s,h=so(f,i,s)*f%s,p=so(h,i,s)*f%s,g=so(p,e,s)*u%s;return{pow_p_5_8:so(g,zT,s)*t%s,b2:o}}function bre(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const c_=pre({P:a_,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=a_,{pow_p_5_8:r,b2:n}=wre(t);return Ri(so(r,mre,e)*n,e)},adjustScalarBytes:bre,randomBytes:_0});function qT(t){t.lowS!==void 0&&Hh("lowS",t.lowS),t.prehash!==void 0&&Hh("prehash",t.prehash)}function vre(t){const e=NB(t);C0(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Ere,hexToBytes:Are}=ere;class _re extends Error{constructor(e=""){super(e)}}const Xa={Err:_re,_tlv:{encode:(t,e)=>{const{Err:r}=Xa;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Kf(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Kf(i.length/2|128):"";return Kf(t)+s+i+e},decode(t,e){const{Err:r}=Xa;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Xa;if(t<ic)throw new e("integer: negative integers are not allowed");let r=Kf(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Xa;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ere(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Xa,i=typeof t=="string"?Are(t):t;hy(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=Xa,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},ic=BigInt(0),yn=BigInt(1);BigInt(2);const HT=BigInt(3);BigInt(4);function Cre(t){const e=vre(t),{Fp:r}=e,n=_B(e.n,e.nBitLength),i=e.toBytes||((g,w,y)=>{const b=w.toAffine();return Rg(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),s=e.fromBytes||(g=>{const w=g.subarray(1),y=r.fromBytes(w.subarray(0,r.BYTES)),b=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:y,y:b}});function o(g){const{a:w,b:y}=e,b=r.sqr(g),E=r.mul(b,g);return r.add(r.add(E,r.mul(g,w)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return Hv(g,yn,e.n)}function c(g){const{allowedPrivateKeyLengths:w,nByteLength:y,wrapPrivateKey:b,n:E}=e;if(w&&typeof g!="bigint"){if(wd(g)&&(g=Wh(g)),typeof g!="string"||!w.includes(g.length))throw new Error("invalid private key");g=g.padStart(y*2,"0")}let x;try{x=typeof g=="bigint"?g:rd(Ji("private key",g,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof g)}return b&&(x=Ri(x,E)),hc("private key",x,yn,E),x}function u(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}const l=i_((g,w)=>{const{px:y,py:b,pz:E}=g;if(r.eql(E,r.ONE))return{x:y,y:b};const x=g.is0();w==null&&(w=x?r.ONE:r.inv(E));const N=r.mul(y,w),O=r.mul(b,w),k=r.mul(E,w);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:N,y:O}}),d=i_(g=>{if(g.is0()){if(e.allowInfinityPoint&&!r.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:w,y}=g.toAffine();if(!r.isValid(w)||!r.isValid(y))throw new Error("bad point: x or y not FE");const b=r.sqr(y),E=o(w);if(!r.eql(b,E))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(w,y,b){if(this.px=w,this.py=y,this.pz=b,w==null||!r.isValid(w))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:y,y:b}=w||{};if(!w||!r.isValid(y)||!r.isValid(b))throw new Error("invalid affine point");if(w instanceof f)throw new Error("projective point not allowed");const E=x=>r.eql(x,r.ZERO);return E(y)&&E(b)?f.ZERO:new f(y,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const y=r.invertBatch(w.map(b=>b.pz));return w.map((b,E)=>b.toAffine(y[E])).map(f.fromAffine)}static fromHex(w){const y=f.fromAffine(s(Ji("pointHex",w)));return y.assertValidity(),y}static fromPrivateKey(w){return f.BASE.multiply(c(w))}static msm(w,y){return fre(f,n,w,y)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){d(this)}hasEvenY(){const{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){u(w);const{px:y,py:b,pz:E}=this,{px:x,py:N,pz:O}=w,k=r.eql(r.mul(y,O),r.mul(x,E)),U=r.eql(r.mul(b,O),r.mul(N,E));return k&&U}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:w,b:y}=e,b=r.mul(y,HT),{px:E,py:x,pz:N}=this;let O=r.ZERO,k=r.ZERO,U=r.ZERO,D=r.mul(E,E),W=r.mul(x,x),H=r.mul(N,N),Q=r.mul(E,x);return Q=r.add(Q,Q),U=r.mul(E,N),U=r.add(U,U),O=r.mul(w,U),k=r.mul(b,H),k=r.add(O,k),O=r.sub(W,k),k=r.add(W,k),k=r.mul(O,k),O=r.mul(Q,O),U=r.mul(b,U),H=r.mul(w,H),Q=r.sub(D,H),Q=r.mul(w,Q),Q=r.add(Q,U),U=r.add(D,D),D=r.add(U,D),D=r.add(D,H),D=r.mul(D,Q),k=r.add(k,D),H=r.mul(x,N),H=r.add(H,H),D=r.mul(H,Q),O=r.sub(O,D),U=r.mul(H,W),U=r.add(U,U),U=r.add(U,U),new f(O,k,U)}add(w){u(w);const{px:y,py:b,pz:E}=this,{px:x,py:N,pz:O}=w;let k=r.ZERO,U=r.ZERO,D=r.ZERO;const W=e.a,H=r.mul(e.b,HT);let Q=r.mul(y,x),$=r.mul(b,N),m=r.mul(E,O),v=r.add(y,b),A=r.add(x,N);v=r.mul(v,A),A=r.add(Q,$),v=r.sub(v,A),A=r.add(y,E);let T=r.add(x,O);return A=r.mul(A,T),T=r.add(Q,m),A=r.sub(A,T),T=r.add(b,E),k=r.add(N,O),T=r.mul(T,k),k=r.add($,m),T=r.sub(T,k),D=r.mul(W,A),k=r.mul(H,m),D=r.add(k,D),k=r.sub($,D),D=r.add($,D),U=r.mul(k,D),$=r.add(Q,Q),$=r.add($,Q),m=r.mul(W,m),A=r.mul(H,A),$=r.add($,m),m=r.sub(Q,m),m=r.mul(W,m),A=r.add(A,m),Q=r.mul($,A),U=r.add(U,Q),Q=r.mul(T,A),k=r.mul(v,k),k=r.sub(k,Q),Q=r.mul(v,$),D=r.mul(T,D),D=r.add(D,Q),new f(k,U,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(f.ZERO)}wNAF(w){return p.wNAFCached(this,w,f.normalizeZ)}multiplyUnsafe(w){const{endo:y,n:b}=e;hc("scalar",w,ic,b);const E=f.ZERO;if(w===ic)return E;if(this.is0()||w===yn)return this;if(!y||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,w,f.normalizeZ);let{k1neg:x,k1:N,k2neg:O,k2:k}=y.splitScalar(w),U=E,D=E,W=this;for(;N>ic||k>ic;)N&yn&&(U=U.add(W)),k&yn&&(D=D.add(W)),W=W.double(),N>>=yn,k>>=yn;return x&&(U=U.negate()),O&&(D=D.negate()),D=new f(r.mul(D.px,y.beta),D.py,D.pz),U.add(D)}multiply(w){const{endo:y,n:b}=e;hc("scalar",w,yn,b);let E,x;if(y){const{k1neg:N,k1:O,k2neg:k,k2:U}=y.splitScalar(w);let{p:D,f:W}=this.wNAF(O),{p:H,f:Q}=this.wNAF(U);D=p.constTimeNegate(N,D),H=p.constTimeNegate(k,H),H=new f(r.mul(H.px,y.beta),H.py,H.pz),E=D.add(H),x=W.add(Q)}else{const{p:N,f:O}=this.wNAF(w);E=N,x=O}return f.normalizeZ([E,x])[0]}multiplyAndAddUnsafe(w,y,b){const E=f.BASE,x=(O,k)=>k===ic||k===yn||!O.equals(E)?O.multiplyUnsafe(k):O.multiply(k),N=x(this,y).add(x(w,b));return N.is0()?void 0:N}toAffine(w){return l(this,w)}isTorsionFree(){const{h:w,isTorsionFree:y}=e;if(w===yn)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:y}=e;return w===yn?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return Hh("isCompressed",w),this.assertValidity(),i(f,this,w)}toHex(w=!0){return Hh("isCompressed",w),Wh(this.toRawBytes(w))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,p=dre(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function xre(t){const e=NB(t);return C0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Sre(t){const e=xre(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(m){return Ri(m,n)}function a(m){return o_(m,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Cre({...e,toBytes(m,v,A){const T=v.toAffine(),I=r.toBytes(T.x),R=Rg;return Hh("isCompressed",A),A?R(Uint8Array.from([v.hasEvenY()?2:3]),I):R(Uint8Array.from([4]),I,r.toBytes(T.y))},fromBytes(m){const v=m.length,A=m[0],T=m.subarray(1);if(v===i&&(A===2||A===3)){const I=rd(T);if(!Hv(I,yn,r.ORDER))throw new Error("Point is not on curve");const R=l(I);let L;try{L=r.sqrt(R)}catch(_){const j=_ instanceof Error?": "+_.message:"";throw new Error("Point is not on curve"+j)}const M=(L&yn)===yn;return(A&1)===1!==M&&(L=r.neg(L)),{x:I,y:L}}else if(v===s&&A===4){const I=r.fromBytes(T.subarray(0,r.BYTES)),R=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:I,y:R}}else{const I=i,R=s;throw new Error("invalid Point, expected length of "+I+", or uncompressed "+R+", got "+v)}}}),f=m=>Wh(Gh(m,e.nByteLength));function h(m){const v=n>>yn;return m>v}function p(m){return h(m)?o(-m):m}const g=(m,v,A)=>rd(m.slice(v,A));class w{constructor(v,A,T){this.r=v,this.s=A,this.recovery=T,this.assertValidity()}static fromCompact(v){const A=e.nByteLength;return v=Ji("compactSignature",v,A*2),new w(g(v,0,A),g(v,A,2*A))}static fromDER(v){const{r:A,s:T}=Xa.toSig(Ji("DER",v));return new w(A,T)}assertValidity(){hc("r",this.r,yn,n),hc("s",this.s,yn,n)}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){const{r:A,s:T,recovery:I}=this,R=O(Ji("msgHash",v));if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");const L=I===2||I===3?A+e.n:A;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=I&1?"03":"02",_=c.fromHex(M+f(L)),j=a(L),Z=o(-R*j),P=o(T*j),K=c.BASE.multiplyAndAddUnsafe(_,Z,P);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Vh(this.toDERHex())}toDERHex(){return Xa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Vh(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(m){try{return u(m),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const m=xB(e.n);return cre(e.randomBytes(m),e.n)},precompute(m=8,v=c.BASE){return v._setWindowSize(m),v.multiply(BigInt(3)),v}};function b(m,v=!0){return c.fromPrivateKey(m).toRawBytes(v)}function E(m){const v=wd(m),A=typeof m=="string",T=(v||A)&&m.length;return v?T===i||T===s:A?T===2*i||T===2*s:m instanceof c}function x(m,v,A=!0){if(E(m))throw new Error("first arg must be private key");if(!E(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(m)).toRawBytes(A)}const N=e.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const v=rd(m),A=m.length*8-e.nBitLength;return A>0?v>>BigInt(A):v},O=e.bits2int_modN||function(m){return o(N(m))},k=m3(e.nBitLength);function U(m){return hc("num < 2^"+e.nBitLength,m,ic,k),Gh(m,e.nByteLength)}function D(m,v,A=W){if(["recovered","canonical"].some(X=>X in A))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:I}=e;let{lowS:R,prehash:L,extraEntropy:M}=A;R==null&&(R=!0),m=Ji("msgHash",m),qT(A),L&&(m=Ji("prehashed msgHash",T(m)));const _=O(m),j=u(v),Z=[U(j),U(_)];if(M!=null&&M!==!1){const X=M===!0?I(r.BYTES):M;Z.push(Ji("extraEntropy",X))}const P=Rg(...Z),K=_;function ee(X){const ne=N(X);if(!d(ne))return;const be=a(ne),ue=c.BASE.multiply(ne).toAffine(),ae=o(ue.x);if(ae===ic)return;const Ke=o(be*o(K+ae*j));if(Ke===ic)return;let me=(ue.x===ae?0:2)|Number(ue.y&yn),Oe=Ke;return R&&h(Ke)&&(Oe=p(Ke),me^=1),new w(ae,Oe,me)}return{seed:P,k2sig:ee}}const W={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function Q(m,v,A=W){const{seed:T,k2sig:I}=D(m,v,A),R=e;return vB(R.hash.outputLen,R.nByteLength,R.hmac)(T,I)}c.BASE._setWindowSize(8);function $(m,v,A,T=H){var Ke;const I=m;v=Ji("msgHash",v),A=Ji("publicKey",A);const{lowS:R,prehash:L,format:M}=T;if(qT(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const _=typeof I=="string"||wd(I),j=!_&&!M&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!_&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,P;try{if(j&&(Z=new w(I.r,I.s)),_){try{M!=="compact"&&(Z=w.fromDER(I))}catch(me){if(!(me instanceof Xa.Err))throw me}!Z&&M!=="der"&&(Z=w.fromCompact(I))}P=c.fromHex(A)}catch{return!1}if(!Z||R&&Z.hasHighS())return!1;L&&(v=e.hash(v));const{r:K,s:ee}=Z,X=O(v),ne=a(ee),be=o(X*ne),ue=o(K*ne),ae=(Ke=c.BASE.multiplyAndAddUnsafe(P,be,ue))==null?void 0:Ke.toAffine();return ae?o(ae.x)===K:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:x,sign:Q,verify:$,ProjectivePoint:c,Signature:w,utils:y}}function Ire(t){return{hash:t,hmac:(e,...r)=>Lv(t,e,Ree(...r)),randomBytes:_0}}function Nre(t,e){const r=n=>Sre({...t,...Ire(n)});return{...r(e),create:r}}const TB=_B(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Tre=TB.create(BigInt("-3")),Pre=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Rre=Nre({a:Tre,b:Pre,Fp:TB,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},fy),PB="base10",gi="base16",Eo="base64pad",uu="base64url",py="utf8",RB=0,pc=1,gy=2,Ore=0,WT=1,Wp=12,y3=32;function kre(){const t=c_.utils.randomPrivateKey(),e=c_.getPublicKey(t);return{privateKey:Fi(t,gi),publicKey:Fi(e,gi)}}function u_(){const t=_0(y3);return Fi(t,gi)}function Dre(t,e){const r=c_.getSharedSecret($s(t,gi),$s(e,gi)),n=Fte(fy,r,void 0,void 0,y3);return Fi(n,gi)}function pw(t){const e=fy($s(t,gi));return Fi(e,gi)}function ra(t){const e=fy($s(t,py));return Fi(e,gi)}function OB(t){return $s(`${t}`,PB)}function bd(t){return Number(Fi(t,PB))}function kB(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function DB(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function Mre(t){const e=OB(typeof t.type<"u"?t.type:RB);if(bd(e)===pc&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?$s(t.senderPublicKey,gi):void 0,n=typeof t.iv<"u"?$s(t.iv,gi):_0(Wp),i=$s(t.symKey,gi),s=yB(i,n).encrypt($s(t.message,py)),o=MB({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===uu?kB(o):o}function Bre(t){const e=$s(t.symKey,gi),{sealed:r,iv:n}=Og({encoded:t.encoded,encoding:t.encoding}),i=yB(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Fi(i,py)}function Ure(t,e){const r=OB(gy),n=_0(Wp),i=$s(t,py),s=MB({type:r,sealed:i,iv:n});return e===uu?kB(s):s}function Fre(t,e){const{sealed:r}=Og({encoded:t,encoding:e});return Fi(r,py)}function MB(t){if(bd(t.type)===gy)return Fi(Hp([t.type,t.sealed]),Eo);if(bd(t.type)===pc){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Fi(Hp([t.type,t.senderPublicKey,t.iv,t.sealed]),Eo)}return Fi(Hp([t.type,t.iv,t.sealed]),Eo)}function Og(t){const e=(t.encoding||Eo)===uu?DB(t.encoded):t.encoded,r=$s(e,Eo),n=r.slice(Ore,WT),i=WT;if(bd(n)===pc){const c=i+y3,u=c+Wp,l=r.slice(i,c),d=r.slice(c,u),f=r.slice(u);return{type:n,sealed:f,iv:d,senderPublicKey:l}}if(bd(n)===gy){const c=r.slice(i),u=_0(Wp);return{type:n,sealed:c,iv:u}}const s=i+Wp,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function $re(t,e){const r=Og({encoded:t,encoding:e==null?void 0:e.encoding});return BB({type:bd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Fi(r.senderPublicKey,gi):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function BB(t){const e=(t==null?void 0:t.type)||RB;if(e===pc){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function VT(t){return t.type===pc&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function GT(t){return t.type===gy}function Lre(t){const e=un.from(t.x,"base64"),r=un.from(t.y,"base64");return Hp([new Uint8Array([4]),e,r])}function jre(t,e){const[r,n,i]=t.split("."),s=un.from(DB(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,u=fy(c),l=Lre(e);if(!Rre.verify(Hp([o,a]),u,l))throw new Error("Invalid signature");return H5(t).payload}const zre="irn";function mb(t){return(t==null?void 0:t.relay)||{protocol:zre}}function Tp(t){const e=KX[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function qre(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function KT(t){if(!t.includes("wc:")){const u=iB(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((u,l)=>{a[l]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Hre(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:qre(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Hre(t){return t.startsWith("//")?t.substring(2):t}function Wre(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function QT(t){const e=new URLSearchParams,r=Wre(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function b1(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function x0(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Vre(t){const e=[];return Object.values(t).forEach(r=>{e.push(...x0(r.accounts))}),e}function Gre(t,e){const r=[];return Object.values(t).forEach(n=>{x0(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Kre(t,e){const r=[];return Object.values(t).forEach(n=>{x0(n.accounts).includes(e)&&r.push(...n.events)}),r}function w3(t){return t.includes(":")}function Pp(t){return w3(t)?t.split(":")[0]:t}function Qre(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function YT(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Qre(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=fw(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const Yre={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Jre={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function we(t,e){const{message:r,code:n}=Jre[t];return{message:e?`${r} ${e}`:r,code:n}}function Lt(t,e){const{message:r,code:n}=Yre[t];return{message:e?`${r} ${e}`:r,code:n}}function Fu(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function kg(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Bn(t){return typeof t>"u"}function Gr(t,e){return e&&Bn(t)?!0:typeof t=="string"&&!!t.trim().length}function b3(t,e){return e&&Bn(t)?!0:typeof t=="number"&&!isNaN(t)}function Zre(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Ul(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],l=x0(a),d=r[o];(!Ul(XM(o,d),l)||!Ul(d.methods,c)||!Ul(d.events,u))&&(s=!1)}),s):!1}function yb(t){return Gr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Xre(t){if(Gr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&yb(r)}}return!1}function ene(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Gr(t,!1)){if(e(t))return!0;const r=iB(t);return e(r)}}catch{}return!1}function tne(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function rne(t){return t==null?void 0:t.topic}function nne(t,e){let r=null;return Gr(t==null?void 0:t.publicKey,!1)||(r=we("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function JT(t){let e=!0;return Fu(t)?t.length&&(e=t.every(r=>Gr(r,!1))):e=!1,e}function ine(t,e,r){let n=null;return Fu(e)&&e.length?e.forEach(i=>{n||yb(i)||(n=Lt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):yb(t)||(n=Lt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function sne(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=ine(i,XM(i,s),`${e} ${r}`);o&&(n=o)}),n}function one(t,e){let r=null;return Fu(t)?t.forEach(n=>{r||Xre(n)||(r=Lt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Lt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function ane(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=one(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function cne(t,e){let r=null;return JT(t==null?void 0:t.methods)?JT(t==null?void 0:t.events)||(r=Lt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Lt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function UB(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=cne(n,`${e}, namespace`);i&&(r=i)}),r}function une(t,e,r){let n=null;if(t&&kg(t)){const i=UB(t,e);i&&(n=i);const s=sne(t,e,r);s&&(n=s)}else n=we("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function uA(t,e){let r=null;if(t&&kg(t)){const n=UB(t,e);n&&(r=n);const i=ane(t,e);i&&(r=i)}else r=we("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function FB(t){return Gr(t.protocol,!0)}function lne(t,e){let r=!1;return e&&!t?r=!0:t&&Fu(t)&&t.length&&t.forEach(n=>{r=FB(n)}),r}function dne(t){return typeof t=="number"}function Ni(t){return typeof t<"u"&&typeof t!==null}function fne(t){return!(!t||typeof t!="object"||!t.code||!b3(t.code,!1)||!t.message||!Gr(t.message,!1))}function hne(t){return!(Bn(t)||!Gr(t.method,!1))}function pne(t){return!(Bn(t)||Bn(t.result)&&Bn(t.error)||!b3(t.id,!1)||!Gr(t.jsonrpc,!1))}function gne(t){return!(Bn(t)||!Gr(t.name,!1))}function ZT(t,e){return!(!yb(e)||!Vre(t).includes(e))}function mne(t,e,r){return Gr(r,!1)?Gre(t,e).includes(r):!1}function yne(t,e,r){return Gr(r,!1)?Kre(t,e).includes(r):!1}function XT(t,e,r){let n=null;const i=wne(t),s=bne(e),o=Object.keys(i),a=Object.keys(s),c=e8(Object.keys(t)),u=e8(Object.keys(e)),l=c.filter(d=>!u.includes(d));return l.length&&(n=we("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),Ul(o,a)||(n=we("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;const f=x0(e[d].accounts);f.includes(d)||(n=we("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{n||(Ul(i[d].methods,s[d].methods)?Ul(i[d].events,s[d].events)||(n=we("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=we("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function wne(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function e8(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function bne(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=x0(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function vne(t,e){return b3(t,!1)&&t<=e.max&&t>=e.min}function t8(){const t=ly();return new Promise(e=>{switch(t){case is.browser:e(Ene());break;case is.reactNative:e(Ane());break;case is.node:e(_ne());break;default:e(!0)}})}function Ene(){return uy()&&(navigator==null?void 0:navigator.onLine)}async function Ane(){if(il()&&typeof Le<"u"&&Le!=null&&Le.NetInfo){const t=await(Le==null?void 0:Le.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function _ne(){return!0}function Cne(t){switch(ly()){case is.browser:xne(t);break;case is.reactNative:Sne(t);break}}function xne(t){!il()&&uy()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Sne(t){il()&&typeof Le<"u"&&Le!=null&&Le.NetInfo&&(Le==null||Le.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const lA={};class op{static get(e){return lA[e]}static set(e,r){lA[e]=r}static delete(e){delete lA[e]}}const Ine="PARSE_ERROR",Nne="INVALID_REQUEST",Tne="METHOD_NOT_FOUND",Pne="INVALID_PARAMS",$B="INTERNAL_ERROR",v3="SERVER_ERROR",Rne=[-32700,-32600,-32601,-32602,-32603],Vp={[Ine]:{code:-32700,message:"Parse error"},[Nne]:{code:-32600,message:"Invalid Request"},[Tne]:{code:-32601,message:"Method not found"},[Pne]:{code:-32602,message:"Invalid params"},[$B]:{code:-32603,message:"Internal error"},[v3]:{code:-32e3,message:"Server error"}},LB=v3;function One(t){return Rne.includes(t)}function r8(t){return Object.keys(Vp).includes(t)?Vp[t]:Vp[LB]}function kne(t){const e=Object.values(Vp).find(r=>r.code===t);return e||Vp[LB]}function jB(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var zB={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l_=function(t,e){return l_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},l_(t,e)};function Dne(t,e){l_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var d_=function(){return d_=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},d_.apply(this,arguments)};function Mne(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Bne(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Une(t,e){return function(r,n){e(r,n,t)}}function Fne(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $ne(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Lne(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function jne(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function zne(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function f_(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qB(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function qne(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qB(arguments[e]));return t}function Hne(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Dg(t){return this instanceof Dg?(this.v=t,this):new Dg(t)}function Wne(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(p){d(s[0][3],p)}}function c(f){f.value instanceof Dg?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Vne(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Dg(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Gne(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof f_=="function"?f_(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function Kne(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Qne(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Yne(t){return t&&t.__esModule?t:{default:t}}function Jne(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Zne(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Xne=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return d_},__asyncDelegator:Vne,__asyncGenerator:Wne,__asyncValues:Gne,__await:Dg,__awaiter:$ne,__classPrivateFieldGet:Jne,__classPrivateFieldSet:Zne,__createBinding:jne,__decorate:Bne,__exportStar:zne,__extends:Dne,__generator:Lne,__importDefault:Yne,__importStar:Qne,__makeTemplateObject:Kne,__metadata:Fne,__param:Une,__read:qB,__rest:Mne,__spread:qne,__spreadArrays:Hne,__values:f_},Symbol.toStringTag,{value:"Module"})),eie=tx(Xne);var $a={},n8;function tie(){if(n8)return $a;n8=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.isBrowserCryptoAvailable=$a.getSubtleCrypto=$a.getBrowerCrypto=void 0;function t(){return(ks==null?void 0:ks.crypto)||(ks==null?void 0:ks.msCrypto)||{}}$a.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}$a.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return $a.isBrowserCryptoAvailable=r,$a}var La={},i8;function rie(){if(i8)return La;i8=1,Object.defineProperty(La,"__esModule",{value:!0}),La.isBrowser=La.isNode=La.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}La.isReactNative=t;function e(){return typeof kr<"u"&&typeof kr.versions<"u"&&typeof kr.versions.node<"u"}La.isNode=e;function r(){return!t()&&!e()}return La.isBrowser=r,La}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=eie;e.__exportStar(tie(),t),e.__exportStar(rie(),t)})(zB);function Go(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Fl(t=6){return BigInt(Go(t))}function Su(t,e,r){return{id:r||Go(),jsonrpc:"2.0",method:t,params:e}}function Wv(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Vv(t,e,r){return{id:t,jsonrpc:"2.0",error:nie(e,r)}}function nie(t,e){return typeof t>"u"?r8($B):(typeof t=="string"&&(t=Object.assign(Object.assign({},r8(v3)),{message:t})),typeof e<"u"&&(t.data=e),One(t.code)&&(t=kne(t.code)),t)}let iie=class{},sie=class extends iie{constructor(){super()}},oie=class extends sie{constructor(e){super()}};const aie="^https?:",cie="^wss?:";function uie(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function HB(t,e){const r=uie(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function s8(t){return HB(t,aie)}function o8(t){return HB(t,cie)}function lie(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function WB(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function E3(t){return WB(t)&&"method"in t}function Gv(t){return WB(t)&&(Ko(t)||Rs(t))}function Ko(t){return"result"in t}function Rs(t){return"error"in t}let Vs=class extends oie{constructor(e){super(e),this.events=new Ws.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Su(e.method,e.params||[],e.id||Fl().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Rs(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Gv(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const die=()=>typeof WebSocket<"u"?WebSocket:typeof Le<"u"&&typeof Le.WebSocket<"u"?Le.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),fie=()=>typeof WebSocket<"u"||typeof Le<"u"&&typeof Le.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a8=t=>t.split("?")[0],c8=10,hie=die();let pie=class{constructor(e){if(this.url=e,this.events=new Ws.EventEmitter,this.registering=!1,!o8(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ac(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!o8(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=zB.isReactNative()?void 0:{rejectUnauthorized:!lie(e)},s=new hie(e,[],i);fie()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?gd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Vv(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return jB(e,a8(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>c8&&this.events.setMaxListeners(c8)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${a8(this.url)}`));return this.events.emit("register_error",r),r}};const VB="wc",GB=2,wb="core",va=`${VB}@2:${wb}:`,gie={name:wb,logger:"error"},mie={database:":memory:"},yie="crypto",u8="client_ed25519_seed",wie=ye.ONE_DAY,bie="keychain",vie="0.3",Eie="messages",Aie="0.3",l8=ye.SIX_HOURS,_ie="publisher",KB="irn",Cie="error",QB="wss://relay.walletconnect.org",xie="relayer",En={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Sie="_subscription",vs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Iie=.1,h_="2.19.2",gr={link_mode:"link_mode",relay:"relay"},gw={inbound:"inbound",outbound:"outbound"},Nie="0.3",Tie="WALLETCONNECT_CLIENT_ID",d8="WALLETCONNECT_LINK_MODE_APPS",Ki={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Pie="subscription",Rie="0.3",Oie="pairing",kie="0.3",ap={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},Tl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},eo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Die="history",Mie="0.3",Bie="expirer",Ns={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Uie="0.3",Fie="verify-api",$ie="https://verify.walletconnect.com",YB="https://verify.walletconnect.org",Gp=YB,Lie=`${Gp}/v3`,jie=[$ie,YB],zie="echo",qie="https://echo.walletconnect.com",Wo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Wa={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},to={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},bl={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},vl={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},cp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Hie=.1,Wie="event-client",Vie=86400,Gie="https://pulse.walletconnect.org/batch";function Kie(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,g++;for(var E=(b-y)*l+1>>>0,x=new Uint8Array(E);y!==b;){for(var N=p[y],O=0,k=E-1;(N!==0||O<w)&&k!==-1;k--,O++)N+=256*x[k]>>>0,x[k]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");w=O,y++}for(var U=E-w;U!==E&&x[U]===0;)U++;for(var D=c.repeat(g);U<E;++U)D+=t.charAt(x[U]);return D}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,y=0;p[g]===c;)w++,g++;for(var b=(p.length-g)*u+1>>>0,E=new Uint8Array(b);p[g];){var x=r[p.charCodeAt(g)];if(x===255)return;for(var N=0,O=b-1;(x!==0||N<y)&&O!==-1;O--,N++)x+=a*E[O]>>>0,E[O]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=N,g++}if(p[g]!==" "){for(var k=b-y;k!==b&&E[k]===0;)k++;for(var U=new Uint8Array(w+(b-k)),D=w;k!==b;)U[D++]=E[k++];return U}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var Qie=Kie,Yie=Qie;const JB=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Jie=t=>new TextEncoder().encode(t),Zie=t=>new TextDecoder().decode(t);class Xie{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ese{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ZB(this,e)}}class tse{constructor(e){this.decoders=e}or(e){return ZB(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ZB=(t,e)=>new tse({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class rse{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Xie(e,r,n),this.decoder=new ese(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Kv=({name:t,prefix:e,encode:r,decode:n})=>new rse(t,e,r,n),my=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Yie(r,e);return Kv({prefix:t,name:e,encode:n,decode:s=>JB(i(s))})},nse=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const d=i[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},ise=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Wn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Kv({prefix:e,name:t,encode(i){return ise(i,n,r)},decode(i){return nse(i,n,r,t)}}),sse=Kv({prefix:"\0",name:"identity",encode:t=>Zie(t),decode:t=>Jie(t)});var ose=Object.freeze({__proto__:null,identity:sse});const ase=Wn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var cse=Object.freeze({__proto__:null,base2:ase});const use=Wn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var lse=Object.freeze({__proto__:null,base8:use});const dse=my({prefix:"9",name:"base10",alphabet:"0123456789"});var fse=Object.freeze({__proto__:null,base10:dse});const hse=Wn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pse=Wn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var gse=Object.freeze({__proto__:null,base16:hse,base16upper:pse});const mse=Wn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),yse=Wn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wse=Wn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bse=Wn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vse=Wn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ese=Wn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ase=Wn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_se=Wn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cse=Wn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var xse=Object.freeze({__proto__:null,base32:mse,base32upper:yse,base32pad:wse,base32padupper:bse,base32hex:vse,base32hexupper:Ese,base32hexpad:Ase,base32hexpadupper:_se,base32z:Cse});const Sse=my({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ise=my({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Nse=Object.freeze({__proto__:null,base36:Sse,base36upper:Ise});const Tse=my({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Pse=my({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Rse=Object.freeze({__proto__:null,base58btc:Tse,base58flickr:Pse});const Ose=Wn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),kse=Wn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Dse=Wn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Mse=Wn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Bse=Object.freeze({__proto__:null,base64:Ose,base64pad:kse,base64url:Dse,base64urlpad:Mse});const XB=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Use=XB.reduce((t,e,r)=>(t[r]=e,t),[]),Fse=XB.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function $se(t){return t.reduce((e,r)=>(e+=Use[r],e),"")}function Lse(t){const e=[];for(const r of t){const n=Fse[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const jse=Kv({prefix:"🚀",name:"base256emoji",encode:$se,decode:Lse});var zse=Object.freeze({__proto__:null,base256emoji:jse}),qse=eU,f8=128,Hse=127,Wse=~Hse,Vse=Math.pow(2,31);function eU(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Vse;)e[r++]=t&255|f8,t/=128;for(;t&Wse;)e[r++]=t&255|f8,t>>>=7;return e[r]=t|0,eU.bytes=r-n+1,e}var Gse=p_,Kse=128,h8=127;function p_(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw p_.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&h8)<<i:(o&h8)*Math.pow(2,i),i+=7}while(o>=Kse);return p_.bytes=s-n,r}var Qse=Math.pow(2,7),Yse=Math.pow(2,14),Jse=Math.pow(2,21),Zse=Math.pow(2,28),Xse=Math.pow(2,35),eoe=Math.pow(2,42),toe=Math.pow(2,49),roe=Math.pow(2,56),noe=Math.pow(2,63),ioe=function(t){return t<Qse?1:t<Yse?2:t<Jse?3:t<Zse?4:t<Xse?5:t<eoe?6:t<toe?7:t<roe?8:t<noe?9:10},soe={encode:qse,decode:Gse,encodingLength:ioe},tU=soe;const p8=(t,e,r=0)=>(tU.encode(t,e,r),e),g8=t=>tU.encodingLength(t),g_=(t,e)=>{const r=e.byteLength,n=g8(t),i=n+g8(r),s=new Uint8Array(i+r);return p8(t,s,0),p8(r,s,n),s.set(e,i),new ooe(t,r,e,s)};let ooe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const rU=({name:t,code:e,encode:r})=>new aoe(t,e,r);class aoe{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?g_(this.code,r):r.then(n=>g_(this.code,n))}else throw Error("Unknown type, must be binary type")}}const nU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),coe=rU({name:"sha2-256",code:18,encode:nU("SHA-256")}),uoe=rU({name:"sha2-512",code:19,encode:nU("SHA-512")});var loe=Object.freeze({__proto__:null,sha256:coe,sha512:uoe});const iU=0,doe="identity",sU=JB,foe=t=>g_(iU,sU(t)),hoe={code:iU,name:doe,encode:sU,digest:foe};var poe=Object.freeze({__proto__:null,identity:hoe});new TextEncoder,new TextDecoder;const m8={...ose,...cse,...lse,...fse,...gse,...xse,...Nse,...Rse,...Bse,...zse};({...loe,...poe});function goe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function oU(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const y8=oU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),dA=oU("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=goe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),moe={utf8:y8,"utf-8":y8,hex:m8.base16,latin1:dA,ascii:dA,binary:dA,...m8};function yoe(t,e="utf8"){const r=moe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var woe=Object.defineProperty,boe=(t,e,r)=>e in t?woe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lo=(t,e,r)=>boe(t,typeof e!="symbol"?e+"":e,r);class voe{constructor(e,r){this.core=e,this.logger=r,Lo(this,"keychain",new Map),Lo(this,"name",bie),Lo(this,"version",vie),Lo(this,"initialized",!1),Lo(this,"storagePrefix",va),Lo(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Lo(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Lo(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Lo(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=we("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Lo(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=ai(r,this.name)}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Z5(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?X5(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Eoe=Object.defineProperty,Aoe=(t,e,r)=>e in t?Eoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pn=(t,e,r)=>Aoe(t,typeof e!="symbol"?e+"":e,r);class _oe{constructor(e,r,n){this.core=e,this.logger=r,Pn(this,"name",yie),Pn(this,"keychain"),Pn(this,"randomSessionIdentifier",u_()),Pn(this,"initialized",!1),Pn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Pn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Pn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=GN(i);return wM(s.publicKey)}),Pn(this,"generateKeyPair",()=>{this.isInitialized();const i=kre();return this.setPrivateKey(i.publicKey,i.privateKey)}),Pn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=GN(s),a=this.randomSessionIdentifier;return await QY(a,i,wie,o)}),Pn(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=Dre(a,s);return this.setSymKey(c,o)}),Pn(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||pw(i);return await this.keychain.set(o,i),o}),Pn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Pn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Pn(this,"encode",async(i,s,o)=>{this.isInitialized();const a=BB(o),c=Ac(s);if(GT(a))return Ure(c,o==null?void 0:o.encoding);if(VT(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(f,h)}const u=this.getSymKey(i),{type:l,senderPublicKey:d}=a;return Mre({type:l,symKey:u,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Pn(this,"decode",async(i,s,o)=>{this.isInitialized();const a=$re(s,o);if(GT(a)){const c=Fre(s,o==null?void 0:o.encoding);return gd(c)}if(VT(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=Bre({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return gd(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Pn(this,"getPayloadType",(i,s=Eo)=>{const o=Og({encoded:i,encoding:s});return bd(o.type)}),Pn(this,"getPayloadSenderPublicKey",(i,s=Eo)=>{const o=Og({encoded:i,encoding:s});return o.senderPublicKey?Fi(o.senderPublicKey,gi):void 0}),this.core=e,this.logger=ai(r,this.name),this.keychain=n||new voe(this.core,this.logger)}get context(){return ji(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(u8)}catch{e=u_(),await this.keychain.set(u8,e)}return yoe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Coe=Object.defineProperty,xoe=Object.defineProperties,Soe=Object.getOwnPropertyDescriptors,w8=Object.getOwnPropertySymbols,Ioe=Object.prototype.hasOwnProperty,Noe=Object.prototype.propertyIsEnumerable,m_=(t,e,r)=>e in t?Coe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Toe=(t,e)=>{for(var r in e||(e={}))Ioe.call(e,r)&&m_(t,r,e[r]);if(w8)for(var r of w8(e))Noe.call(e,r)&&m_(t,r,e[r]);return t},Poe=(t,e)=>xoe(t,Soe(e)),Wi=(t,e,r)=>m_(t,typeof e!="symbol"?e+"":e,r);class Roe extends VG{constructor(e,r){super(e,r),this.logger=e,this.core=r,Wi(this,"messages",new Map),Wi(this,"messagesWithoutClientAck",new Map),Wi(this,"name",Eie),Wi(this,"version",Aie),Wi(this,"initialized",!1),Wi(this,"storagePrefix",va),Wi(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Wi(this,"set",async(n,i,s)=>{this.isInitialized();const o=ra(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===gw.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,Poe(Toe({},c),{[o]:i}))}return await this.persist(),o}),Wi(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Wi(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Wi(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=ra(i);return typeof s[o]<"u"}),Wi(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=ra(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Wi(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=ai(e,this.name),this.core=r}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Z5(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Z5(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?X5(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?X5(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ooe=Object.defineProperty,koe=Object.defineProperties,Doe=Object.getOwnPropertyDescriptors,b8=Object.getOwnPropertySymbols,Moe=Object.prototype.hasOwnProperty,Boe=Object.prototype.propertyIsEnumerable,y_=(t,e,r)=>e in t?Ooe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v1=(t,e)=>{for(var r in e||(e={}))Moe.call(e,r)&&y_(t,r,e[r]);if(b8)for(var r of b8(e))Boe.call(e,r)&&y_(t,r,e[r]);return t},fA=(t,e)=>koe(t,Doe(e)),ro=(t,e,r)=>y_(t,typeof e!="symbol"?e+"":e,r);class Uoe extends GG{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ro(this,"events",new Ws.EventEmitter),ro(this,"name",_ie),ro(this,"queue",new Map),ro(this,"publishTimeout",ye.toMiliseconds(ye.ONE_MINUTE)),ro(this,"initialPublishTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),ro(this,"needsTransportRestart",!1),ro(this,"publish",async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||l8,c=mb(s),u=(s==null?void 0:s.prompt)||!1,l=(s==null?void 0:s.tag)||0,d=(s==null?void 0:s.id)||Fl().toString(),f={topic:n,message:i,opts:{ttl:a,relay:c,prompt:u,tag:l,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},h=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const p=new Promise(async g=>{const w=({id:b})=>{f.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(En.publish,w),g(f))};this.relayer.events.on(En.publish,w);const y=xu(new Promise((b,E)=>{this.rpcPublish({topic:n,message:i,ttl:a,prompt:u,tag:l,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(b).catch(x=>{this.logger.warn(x,x==null?void 0:x.message),E(x)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await y,this.events.removeListener(En.publish,w)}catch(b){this.queue.set(d,fA(v1({},f),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:n,message:i,opts:s}}),await xu(p,this.publishTimeout,h)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),ro(this,"on",(n,i)=>{this.events.on(n,i)}),ro(this,"once",(n,i)=>{this.events.once(n,i)}),ro(this,"off",(n,i)=>{this.events.off(n,i)}),ro(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=ai(r,this.name),this.registerEventListeners()}get context(){return ji(this.logger)}async rpcPublish(e){var r,n,i,s;const{topic:o,message:a,ttl:c=l8,prompt:u,tag:l,id:d,attestation:f,tvf:h}=e,p={method:Tp(mb().protocol).publish,params:v1({topic:o,message:a,ttl:c,prompt:u,tag:l,attestation:f},h),id:d};Bn((r=p.params)==null?void 0:r.prompt)&&((n=p.params)==null||delete n.prompt),Bn((i=p.params)==null?void 0:i.tag)&&((s=p.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(En.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const n=e.attempt+1;this.queue.set(r,fA(v1({},e),{attempt:n}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(fA(v1({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(m0.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(En.connection_stalled);return}this.checkQueue()}),this.relayer.on(En.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Foe=Object.defineProperty,$oe=(t,e,r)=>e in t?Foe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lf=(t,e,r)=>$oe(t,typeof e!="symbol"?e+"":e,r);class Loe{constructor(){lf(this,"map",new Map),lf(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),lf(this,"get",e=>this.map.get(e)||[]),lf(this,"exists",(e,r)=>this.get(e).includes(r)),lf(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),lf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var joe=Object.defineProperty,zoe=Object.defineProperties,qoe=Object.getOwnPropertyDescriptors,v8=Object.getOwnPropertySymbols,Hoe=Object.prototype.hasOwnProperty,Woe=Object.prototype.propertyIsEnumerable,w_=(t,e,r)=>e in t?joe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,up=(t,e)=>{for(var r in e||(e={}))Hoe.call(e,r)&&w_(t,r,e[r]);if(v8)for(var r of v8(e))Woe.call(e,r)&&w_(t,r,e[r]);return t},hA=(t,e)=>zoe(t,qoe(e)),qt=(t,e,r)=>w_(t,typeof e!="symbol"?e+"":e,r);class Voe extends YG{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,qt(this,"subscriptions",new Map),qt(this,"topicMap",new Loe),qt(this,"events",new Ws.EventEmitter),qt(this,"name",Pie),qt(this,"version",Rie),qt(this,"pending",new Map),qt(this,"cached",[]),qt(this,"initialized",!1),qt(this,"storagePrefix",va),qt(this,"subscribeTimeout",ye.toMiliseconds(ye.ONE_MINUTE)),qt(this,"initialSubscribeTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),qt(this,"clientId"),qt(this,"batchSubscribeTopicsLimit",500),qt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),qt(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=mb(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),qt(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),qt(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),qt(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),qt(this,"on",(n,i)=>{this.events.on(n,i)}),qt(this,"once",(n,i)=>{this.events.once(n,i)}),qt(this,"off",(n,i)=>{this.events.off(n,i)}),qt(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),qt(this,"start",async()=>{await this.onConnect()}),qt(this,"stop",async()=>{await this.onDisconnect()}),qt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),qt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),qt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(m0.pulse,async()=>{await this.checkPending()}),this.events.on(Ki.created,async n=>{const i=Ki.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Ki.deleted,async n=>{const i=Ki.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=ai(r,this.name),this.clientId=""}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=mb(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Lt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i;(!n||(n==null?void 0:n.transportType)===gr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const s={method:Tp(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===gr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(l=>this.logger.warn(l))},ye.toMiliseconds(ye.ONE_SECOND)),a;const c=new Promise(async l=>{const d=f=>{f.topic===e&&(this.events.removeListener(Ki.created,d),l(f.id))};this.events.on(Ki.created,d);try{const f=await xu(new Promise((h,p)=>{this.relayer.request(s).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ki.created,d),l(f)}catch{}}),u=await xu(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(En.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Tp(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await xu(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(En.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Tp(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await xu(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(En.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Tp(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,hA(up({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,up({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,up({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ki.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ki.deleted,hA(up({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ki.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ki.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>hA(up({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await vee(ye.toMiliseconds(ye.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ra(e+await this.getClientId())}}var Goe=Object.defineProperty,E8=Object.getOwnPropertySymbols,Koe=Object.prototype.hasOwnProperty,Qoe=Object.prototype.propertyIsEnumerable,b_=(t,e,r)=>e in t?Goe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A8=(t,e)=>{for(var r in e||(e={}))Koe.call(e,r)&&b_(t,r,e[r]);if(E8)for(var r of E8(e))Qoe.call(e,r)&&b_(t,r,e[r]);return t},At=(t,e,r)=>b_(t,typeof e!="symbol"?e+"":e,r);class Yoe extends KG{constructor(e){super(e),At(this,"protocol","wc"),At(this,"version",2),At(this,"core"),At(this,"logger"),At(this,"events",new Ws.EventEmitter),At(this,"provider"),At(this,"messages"),At(this,"subscriber"),At(this,"publisher"),At(this,"name",xie),At(this,"transportExplicitlyClosed",!1),At(this,"initialized",!1),At(this,"connectionAttemptInProgress",!1),At(this,"relayUrl"),At(this,"projectId"),At(this,"packageName"),At(this,"bundleId"),At(this,"hasExperiencedNetworkDisruption",!1),At(this,"pingTimeout"),At(this,"heartBeatTimeout",ye.toMiliseconds(ye.THIRTY_SECONDS+ye.FIVE_SECONDS)),At(this,"reconnectTimeout"),At(this,"connectPromise"),At(this,"reconnectInProgress",!1),At(this,"requestsInFlight",[]),At(this,"connectTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),At(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Fl().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),At(this,"resetPingTimeout",()=>{pb()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),At(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),At(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(En.connect)}),At(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),At(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(En.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),At(this,"registerProviderListeners",()=>{this.provider.on(vs.payload,this.onPayloadHandler),this.provider.on(vs.connect,this.onConnectHandler),this.provider.on(vs.disconnect,this.onDisconnectHandler),this.provider.on(vs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ai(e.logger,this.name):iy(y0({level:e.logger||Cie})),this.messages=new Roe(this.logger,e.core),this.subscriber=new Voe(this,this.logger),this.publisher=new Uoe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||QB,this.projectId=e.projectId,iee()?this.packageName=mT():see()&&(this.bundleId=mT()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return ji(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:gr.relay},gw.outbound)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const u=l=>{l.topic===e&&(this.subscriber.off(Ki.created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(Ki.created,u)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,A8({internal:{throwOnFailedPublish:o}},r)).catch(f=>{o&&d(f)})||a,l()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await xu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await t8())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=en(ye.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(En.message,e),await this.recordMessageEvent(e,gw.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(vs.disconnect,s),await xu(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(vs.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(vs.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(vs.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,ye.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(pb())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Vs(new pie(lee({sdkVersion:h_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),E3(e)){if(!e.method.endsWith(Sie))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:gr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(A8({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Gv(e)&&this.events.emit(En.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,gw.inbound),this.events.emit(En.message,e))}async acknowledgePayload(e){const r=Wv(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(vs.payload,this.onPayloadHandler),this.provider.off(vs.connect,this.onConnectHandler),this.provider.off(vs.disconnect,this.onDisconnectHandler),this.provider.off(vs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await t8();Cne(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(En.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ye.toMiliseconds(Iie)))))}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function Joe(){}function _8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function C8(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function x8(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Zoe="[object RegExp]",Xoe="[object String]",eae="[object Number]",tae="[object Boolean]",S8="[object Arguments]",rae="[object Symbol]",nae="[object Date]",iae="[object Map]",sae="[object Set]",oae="[object Array]",aae="[object Function]",cae="[object ArrayBuffer]",pA="[object Object]",uae="[object Error]",lae="[object DataView]",dae="[object Uint8Array]",fae="[object Uint8ClampedArray]",hae="[object Uint16Array]",pae="[object Uint32Array]",gae="[object BigUint64Array]",mae="[object Int8Array]",yae="[object Int16Array]",wae="[object Int32Array]",bae="[object BigInt64Array]",vae="[object Float32Array]",Eae="[object Float64Array]";function Aae(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function _ae(t,e,r){return Rp(t,e,void 0,void 0,void 0,void 0,r)}function Rp(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Kp(t,e,s,o)}return Kp(t,e,s,o)}function Kp(t,e,r,n){if(Object.is(t,e))return!0;let i=x8(t),s=x8(e);if(i===S8&&(i=pA),s===S8&&(s=pA),i!==s)return!1;switch(i){case Xoe:return t.toString()===e.toString();case eae:{const c=t.valueOf(),u=e.valueOf();return Aae(c,u)}case tae:case nae:case rae:return Object.is(t.valueOf(),e.valueOf());case Zoe:return t.source===e.source&&t.flags===e.flags;case aae:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case iae:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!Rp(u,e.get(c),c,t,e,r,n))return!1;return!0}case sae:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],f=u.findIndex(h=>Rp(d,h,void 0,t,e,r,n));if(f===-1)return!1;u.splice(f,1)}return!0}case oae:case dae:case fae:case hae:case pae:case gae:case mae:case yae:case wae:case bae:case vae:case Eae:{if(typeof un<"u"&&un.isBuffer(t)!==un.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Rp(t[c],e[c],c,t,e,r,n))return!1;return!0}case cae:return t.byteLength!==e.byteLength?!1:Kp(new Uint8Array(t),new Uint8Array(e),r,n);case lae:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Kp(new Uint8Array(t),new Uint8Array(e),r,n);case uae:return t.name===e.name&&t.message===e.message;case pA:{if(!(Kp(t.constructor,e.constructor,r,n)||_8(t)&&_8(e)))return!1;const c=[...Object.keys(t),...C8(t)],u=[...Object.keys(e),...C8(e)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const d=c[l],f=t[d];if(!Object.hasOwn(e,d))return!1;const h=e[d];if(!Rp(f,h,d,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Cae(t,e){return _ae(t,e,Joe)}var xae=Object.defineProperty,I8=Object.getOwnPropertySymbols,Sae=Object.prototype.hasOwnProperty,Iae=Object.prototype.propertyIsEnumerable,v_=(t,e,r)=>e in t?xae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,N8=(t,e)=>{for(var r in e||(e={}))Sae.call(e,r)&&v_(t,r,e[r]);if(I8)for(var r of I8(e))Iae.call(e,r)&&v_(t,r,e[r]);return t},_i=(t,e,r)=>v_(t,typeof e!="symbol"?e+"":e,r);class Wd extends QG{constructor(e,r,n,i=va,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,_i(this,"map",new Map),_i(this,"version",Nie),_i(this,"cached",[]),_i(this,"initialized",!1),_i(this,"getKey"),_i(this,"storagePrefix",va),_i(this,"recentlyDeleted",[]),_i(this,"recentlyDeletedLimit",200),_i(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Bn(o)?this.map.set(this.getKey(o),o):tne(o)?this.map.set(o.id,o):rne(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),_i(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),_i(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),_i(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Cae(a[c],o[c]))):this.values)),_i(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=N8(N8({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),_i(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ai(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=we("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Nae=Object.defineProperty,Tae=(t,e,r)=>e in t?Nae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lt=(t,e,r)=>Tae(t,typeof e!="symbol"?e+"":e,r);class Pae{constructor(e,r){this.core=e,this.logger=r,lt(this,"name",Oie),lt(this,"version",kie),lt(this,"events",new Zx),lt(this,"pairings"),lt(this,"initialized",!1),lt(this,"storagePrefix",va),lt(this,"ignoredPayloadTypes",[pc]),lt(this,"registeredMethods",[]),lt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),lt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),lt(this,"create",async n=>{this.isInitialized();const i=u_(),s=await this.core.crypto.setSymKey(i),o=en(ye.FIVE_MINUTES),a={protocol:KB},c={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},u=QT({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Tl.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:u}}),lt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Wo.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=KT(n.uri);i.props.properties.topic=s,i.addTrace(Wo.pairing_uri_validation_success),i.addTrace(Wo.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(s)){if(l=this.pairings.get(s),i.addTrace(Wo.existing_pairing),l.active)throw i.setError(Wa.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Wo.pairing_not_expired)}const d=c||en(ye.FIVE_MINUTES),f={topic:s,relay:a,expiry:d,active:!1,methods:u};this.core.expirer.set(s,d),await this.pairings.set(s,f),i.addTrace(Wo.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Tl.create,f),i.addTrace(Wo.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Wo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Wa.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(Wa.subscribe_pairing_topic_failure),h}return i.addTrace(Wo.subscribe_pairing_topic_success),f}),lt(this,"activate",async({topic:n})=>{this.isInitialized();const i=en(ye.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),lt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Cl();this.events.once(Pt("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),lt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),lt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),lt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),lt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Lt("USER_DISCONNECTED")),await this.deletePairing(i))}),lt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return QT({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),lt(this,"sendRequest",async(n,i,s)=>{const o=Su(i,s),a=await this.core.crypto.encode(n,o),c=ap[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),lt(this,"sendResult",async(n,i,s)=>{const o=Wv(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=ap[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),lt(this,"sendError",async(n,i,s)=>{const o=Vv(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=ap[c]?ap[c].res:ap.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),lt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Lt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),lt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>nu(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),lt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),lt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),lt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Tl.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),lt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Ko(i)?this.events.emit(Pt("pairing_ping",s),{}):Rs(i)&&this.events.emit(Pt("pairing_ping",s),{error:i.error})},500)}),lt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Tl.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),lt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Lt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),lt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Lt("WC_METHOD_UNSUPPORTED",n))}),lt(this,"isValidPair",(n,i)=>{var s;if(!Ni(n)){const{message:a}=we("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Wa.malformed_pairing_uri),new Error(a)}if(!ene(n.uri)){const{message:a}=we("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Wa.malformed_pairing_uri),new Error(a)}const o=KT(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=we("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Wa.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=we("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Wa.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ye.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Wa.pairing_expired);const{message:a}=we("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),lt(this,"isValidPing",async n=>{if(!Ni(n)){const{message:s}=we("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),lt(this,"isValidDisconnect",async n=>{if(!Ni(n)){const{message:s}=we("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),lt(this,"isValidPairingTopic",async n=>{if(!Gr(n,!1)){const{message:i}=we("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=we("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(nu(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=we("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=ai(r,this.name),this.pairings=new Wd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ji(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(En.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==gr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);E3(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Gv(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ns.expired,async e=>{const{topic:r}=nB(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Tl.expire,{topic:r}))})}}var Rae=Object.defineProperty,Oae=(t,e,r)=>e in t?Rae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rn=(t,e,r)=>Oae(t,typeof e!="symbol"?e+"":e,r);class kae extends WG{constructor(e,r){super(e,r),this.core=e,this.logger=r,Rn(this,"records",new Map),Rn(this,"events",new Ws.EventEmitter),Rn(this,"name",Die),Rn(this,"version",Mie),Rn(this,"cached",[]),Rn(this,"initialized",!1),Rn(this,"storagePrefix",va),Rn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Rn(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:en(ye.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(eo.created,o)}),Rn(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Rs(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(eo.updated,i))}),Rn(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Rn(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(eo.deleted,s)}}),this.persist()}),Rn(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Rn(this,"on",(n,i)=>{this.events.on(n,i)}),Rn(this,"once",(n,i)=>{this.events.once(n,i)}),Rn(this,"off",(n,i)=>{this.events.off(n,i)}),Rn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ai(r,this.name)}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Su(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(eo.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(eo.created,e=>{const r=eo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(eo.updated,e=>{const r=eo.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(eo.deleted,e=>{const r=eo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(m0.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{ye.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(eo.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Dae=Object.defineProperty,Mae=(t,e,r)=>e in t?Dae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yn=(t,e,r)=>Mae(t,typeof e!="symbol"?e+"":e,r);class Bae extends JG{constructor(e,r){super(e,r),this.core=e,this.logger=r,Yn(this,"expirations",new Map),Yn(this,"events",new Ws.EventEmitter),Yn(this,"name",Bie),Yn(this,"version",Uie),Yn(this,"cached",[]),Yn(this,"initialized",!1),Yn(this,"storagePrefix",va),Yn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Yn(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Yn(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ns.created,{target:s,expiration:o})}),Yn(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Yn(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ns.deleted,{target:i,expiration:s})}}),Yn(this,"on",(n,i)=>{this.events.on(n,i)}),Yn(this,"once",(n,i)=>{this.events.once(n,i)}),Yn(this,"off",(n,i)=>{this.events.off(n,i)}),Yn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ai(r,this.name)}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return dee(e);if(typeof e=="number")return fee(e);const{message:r}=we("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ns.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;ye.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Ns.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(m0.pulse,()=>this.checkExpirations()),this.events.on(Ns.created,e=>{const r=Ns.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ns.expired,e=>{const r=Ns.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ns.deleted,e=>{const r=Ns.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Uae=Object.defineProperty,Fae=(t,e,r)=>e in t?Uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hr=(t,e,r)=>Fae(t,typeof e!="symbol"?e+"":e,r);class $ae extends ZG{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Hr(this,"name",Fie),Hr(this,"abortController"),Hr(this,"isDevEnv"),Hr(this,"verifyUrlV3",Lie),Hr(this,"storagePrefix",va),Hr(this,"version",GB),Hr(this,"publicKey"),Hr(this,"fetchPromise"),Hr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ye.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Hr(this,"register",async i=>{if(!uy()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=ay(),l=this.startAbortTimer(ye.ONE_SECOND*5),d=await new Promise((f,h)=>{const p=()=>{window.removeEventListener("message",w),u.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=u.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if(H5(b.attestation).payload.id!==o)return;clearInterval(l),u.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),f(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};u.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(u){this.logger.warn(u)}return""}),Hr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(H5(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),Hr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ye.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Hr(this,"getVerifyUrl",i=>{let s=i||Gp;return jie.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Gp}`),s=Gp),s}),Hr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ye.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Hr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Hr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Hr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Hr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Hr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Hr(this,"validateAttestation",(i,s)=>{const o=jre(i,s.publicKey),a={hasExpired:ye.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ai(r,this.name),this.abortController=new AbortController,this.isDevEnv=d3(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ji(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(e))}}var Lae=Object.defineProperty,jae=(t,e,r)=>e in t?Lae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T8=(t,e,r)=>jae(t,typeof e!="symbol"?e+"":e,r);class zae extends XG{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,T8(this,"context",zie),T8(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${qie}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ai(r,this.context)}}var qae=Object.defineProperty,P8=Object.getOwnPropertySymbols,Hae=Object.prototype.hasOwnProperty,Wae=Object.prototype.propertyIsEnumerable,E_=(t,e,r)=>e in t?qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lp=(t,e)=>{for(var r in e||(e={}))Hae.call(e,r)&&E_(t,r,e[r]);if(P8)for(var r of P8(e))Wae.call(e,r)&&E_(t,r,e[r]);return t},pn=(t,e,r)=>E_(t,typeof e!="symbol"?e+"":e,r);class Vae extends eK{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,pn(this,"context",Wie),pn(this,"storagePrefix",va),pn(this,"storageVersion",Hie),pn(this,"events",new Map),pn(this,"shouldPersist",!1),pn(this,"init",async()=>{if(!d3())try{const i={eventId:wT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:tB(this.core.relayer.protocol,this.core.relayer.version,h_)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),pn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=wT(),l=this.core.projectId||"",d=Date.now(),f=lp({eventId:u,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,f),this.shouldPersist=!0),f}),pn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return lp(lp({},a),this.setMethods(a.eventId))}),pn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),pn(this,"setEventListeners",()=>{this.core.heartbeat.on(m0.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ye.fromMiliseconds(Date.now())-ye.fromMiliseconds(i.timestamp)>Vie&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),pn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),pn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),pn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),pn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),pn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,lp(lp({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),pn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),pn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Gie}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${h_}${s}`,{method:"POST",body:JSON.stringify(i)})}),pn(this,"getAppDomain",()=>eB().url),this.logger=ai(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Gae=Object.defineProperty,R8=Object.getOwnPropertySymbols,Kae=Object.prototype.hasOwnProperty,Qae=Object.prototype.propertyIsEnumerable,A_=(t,e,r)=>e in t?Gae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O8=(t,e)=>{for(var r in e||(e={}))Kae.call(e,r)&&A_(t,r,e[r]);if(R8)for(var r of R8(e))Qae.call(e,r)&&A_(t,r,e[r]);return t},Vt=(t,e,r)=>A_(t,typeof e!="symbol"?e+"":e,r);let Yae=class aU extends jG{constructor(e){var r;super(e),Vt(this,"protocol",VB),Vt(this,"version",GB),Vt(this,"name",wb),Vt(this,"relayUrl"),Vt(this,"projectId"),Vt(this,"customStoragePrefix"),Vt(this,"events",new Ws.EventEmitter),Vt(this,"logger"),Vt(this,"heartbeat"),Vt(this,"relayer"),Vt(this,"crypto"),Vt(this,"storage"),Vt(this,"history"),Vt(this,"expirer"),Vt(this,"pairing"),Vt(this,"verify"),Vt(this,"echoClient"),Vt(this,"linkModeSupportedApps"),Vt(this,"eventClient"),Vt(this,"initialized",!1),Vt(this,"logChunkController"),Vt(this,"on",(a,c)=>this.events.on(a,c)),Vt(this,"once",(a,c)=>this.events.once(a,c)),Vt(this,"off",(a,c)=>this.events.off(a,c)),Vt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Vt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:gr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||QB,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=y0({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:gie.logger,name:wb}),{logger:s,chunkLoggerController:o}=e3({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ai(s,this.name),this.heartbeat=new TV,this.crypto=new _oe(this,this.logger,e==null?void 0:e.keychain),this.history=new kae(this,this.logger),this.expirer=new Bae(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new dG(O8(O8({},mie),e==null?void 0:e.storageOptions)),this.relayer=new Yoe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Pae(this,this.logger),this.verify=new $ae(this,this.logger,this.storage),this.echoClient=new zae(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Vae(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new aU(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Tie,n),r}get context(){return ji(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(d8,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(d8)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof kr<"u"&&{}.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Jae=Yae,cU="wc",uU=2,lU="client",A3=`${cU}@${uU}:${lU}:`,gA={name:lU,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},k8="WALLETCONNECT_DEEPLINK_CHOICE",Zae="proposal",D8="Proposal expired",Xae="session",df=ye.SEVEN_DAYS,ece="engine",gn={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ye.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ye.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1119}}},mA={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},jo={idle:"IDLE",active:"ACTIVE"},M8={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},tce="request",rce=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],nce="wc",ice="auth",sce="authKeys",oce="pairingTopics",ace="requests",Qv=`${nce}@${1.5}:${ice}:`,mw=`${Qv}:PUB_KEY`;var cce=Object.defineProperty,uce=Object.defineProperties,lce=Object.getOwnPropertyDescriptors,B8=Object.getOwnPropertySymbols,dce=Object.prototype.hasOwnProperty,fce=Object.prototype.propertyIsEnumerable,__=(t,e,r)=>e in t?cce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ht=(t,e)=>{for(var r in e||(e={}))dce.call(e,r)&&__(t,r,e[r]);if(B8)for(var r of B8(e))fce.call(e,r)&&__(t,r,e[r]);return t},ci=(t,e)=>uce(t,lce(e)),ce=(t,e,r)=>__(t,typeof e!="symbol"?e+"":e,r);class hce extends iK{constructor(e){super(e),ce(this,"name",ece),ce(this,"events",new Zx),ce(this,"initialized",!1),ce(this,"requestQueue",{state:jo.idle,queue:[]}),ce(this,"sessionRequestQueue",{state:jo.idle,queue:[]}),ce(this,"requestQueueDelay",ye.ONE_SECOND),ce(this,"expectedPairingMethodMap",new Map),ce(this,"recentlyDeletedMap",new Map),ce(this,"recentlyDeletedLimit",200),ce(this,"relayMessageCache",[]),ce(this,"pendingSessions",new Map),ce(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(gn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))}),ce(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ci(Ht({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=n;let l=i,d,f=!1;try{if(l){const O=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),O}if(!l||!f){const{topic:O,uri:k}=await this.client.core.pairing.create();l=O,d=k}if(!l){const{message:O}=we("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(O)}const h=await this.client.core.crypto.generateKeyPair(),p=gn.wc_sessionPropose.req.ttl||ye.FIVE_MINUTES,g=en(p),w=ci(Ht(Ht({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:KB}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:l},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Go()}),y=Pt("session_connect",w.id),{reject:b,resolve:E,done:x}=Cl(p,D8),N=({id:O})=>{O===w.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(w.id),this.events.emit(y,{error:{message:D8,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(y,({error:O,session:k})=>{this.client.events.off("proposal_expire",N),O?b(O):k&&E(k)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:x}}),ce(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ce(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[to.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(D){throw o.setError(bl.no_internet_connection),D}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(D){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(bl.proposal_not_found),D}try{await this.isValidApprove(r)}catch(D){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(bl.session_approve_namespace_validation_failure),D}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:w,optionalNamespaces:y}=h;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:p});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:to.session_approve_started,properties:{topic:p,trace:[to.session_approve_started,to.session_namespaces_validation_success]}}));const E=await this.client.core.crypto.generateKeyPair(),x=g.publicKey,N=await this.client.core.crypto.generateSharedKey(E,x),O=Ht(Ht(Ht({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:E,metadata:this.client.metadata},expiry:en(df)},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),k=gr.relay;b.addTrace(to.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:k})}catch(D){throw b.setError(bl.subscribe_session_topic_failure),D}b.addTrace(to.subscribe_session_topic_success);const U=ci(Ht({},O),{topic:N,requiredNamespaces:w,optionalNamespaces:y,pairingTopic:p,acknowledged:!1,self:O.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:E,transportType:gr.relay});await this.client.session.set(N,U),b.addTrace(to.store_session);try{b.addTrace(to.publishing_session_settle),await this.sendRequest({topic:N,method:"wc_sessionSettle",params:O,throwOnFailedPublish:!0}).catch(D=>{throw b==null||b.setError(bl.session_settle_publish_failure),D}),b.addTrace(to.session_settle_publish_success),b.addTrace(to.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:E},throwOnFailedPublish:!0}).catch(D=>{throw b==null||b.setError(bl.session_approve_publish_failure),D}),b.addTrace(to.session_approve_publish_success)}catch(D){throw this.client.logger.error(D),this.client.session.delete(N,Lt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),D}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.client.proposal.delete(a,Lt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(N,en(df)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),ce(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:gn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Lt("USER_DISCONNECTED")))}),ce(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Cl(),c=Go(),u=Fl().toString(),l=this.client.session.get(n).namespaces;return this.events.once(Pt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:l}),a(d)}),{acknowledged:s}}),ce(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=Go(),{done:s,resolve:o,reject:a}=Cl();return this.events.once(Pt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,en(df)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ce(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:i,topic:s,expiry:o=gn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===gr.relay&&await this.confirmOnlineStateOrThrow();const c=Go(),u=Fl().toString(),{done:l,resolve:d,reject:f}=Cl(o,"Request expired. Please try again.");this.events.once(Pt("session_request",c),({error:y,result:b})=>{y?f(y):d(b)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:{request:ci(Ht({},i),{expiryTimestamp:en(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await l();const g={request:ci(Ht({},i),{expiryTimestamp:en(o)}),chainId:n},w=this.shouldSetTVF(h,g);return await Promise.all([new Promise(async y=>{await this.sendRequest(Ht({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:g,expiry:o,throwOnFailedPublish:!0},w&&{tvf:this.getTVFParams(c,g)})).catch(b=>f(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),y()}),new Promise(async y=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const E=await mee(this.client.core.storage,k8);await hee({id:c,topic:s,wcDeepLink:E})}y()}),l()]).then(y=>y[2])}),ce(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===gr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Ko(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Rs(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),ce(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Go(),s=Fl().toString(),{done:o,resolve:a,reject:c}=Cl();this.events.once(Pt("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ce(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Fl().toString(),a=Go();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ce(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Lt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=we("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),ce(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Zre(n,r)))),ce(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ce(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?gr.link_mode:gr.relay;o===gr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:d,type:f,exp:h,nbf:p,methods:g=[],expiry:w}=r,y=[...r.resources||[]],{topic:b,uri:E}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:E}});const x=await this.client.core.crypto.generateKeyPair(),N=pw(x);if(await Promise.all([this.client.auth.authKeys.set(mw,{responseTopic:N,publicKey:x}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:b})]),await this.client.core.relayer.subscribe(N,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){const{namespace:R}=uh(a[0]);let L=cte(R,"request",g);hw(y)&&(L=lte(L,y.pop())),y.push(L)}const O=w&&w>gn.wc_sessionAuthenticate.req.ttl?w:gn.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:f??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:p,resources:y},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:en(O)},U={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},D={requiredNamespaces:{},optionalNamespaces:U,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:en(gn.wc_sessionPropose.req.ttl),id:Go()},{done:W,resolve:H,reject:Q}=Cl(O,"Request expired"),$=Go(),m=Pt("session_connect",D.id),v=Pt("session_request",$),A=async({error:R,session:L})=>{this.events.off(v,T),R?Q(R):L&&H({session:L})},T=async R=>{var L,M,_;if(await this.deletePendingAuthRequest($,{message:"fulfilled",code:0}),R.error){const ne=Lt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===ne.code?void 0:(this.events.off(m,A),Q(R.error.message))}await this.deleteProposal(D.id),this.events.off(m,A);const{cacaos:j,responder:Z}=R.result,P=[],K=[];for(const ne of j){await ST({cacao:ne,projectId:this.client.core.projectId})||(this.client.logger.error(ne,"Signature verification failed"),Q(Lt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:be}=ne,ue=hw(be.resources),ae=[e_(be.iss)],Ke=gb(be.iss);if(ue){const me=IT(ue),Oe=NT(ue);P.push(...me),ae.push(...Oe)}for(const me of ae)K.push(`${me}:${Ke}`)}const ee=await this.client.core.crypto.generateSharedKey(x,Z.publicKey);let X;P.length>0&&(X={topic:ee,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:Z,controller:Z.publicKey,expiry:en(df),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:YT([...new Set(P)],[...new Set(K)]),transportType:o},await this.client.core.relayer.subscribe(ee,{transportType:o}),await this.client.session.set(ee,X),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:Z.metadata}),X=this.client.session.get(ee)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(M=Z.metadata.redirect)!=null&&M.linkMode&&(_=Z.metadata.redirect)!=null&&_.universal&&n&&(this.client.core.addLinkModeSupportedApp(Z.metadata.redirect.universal),this.client.session.update(ee,{transportType:gr.link_mode})),H({auths:j,session:X})};this.events.once(m,A),this.events.once(v,T);let I;try{if(s){const R=Su("wc_sessionAuthenticate",k,$);this.client.core.history.set(b,R);const L=await this.client.core.crypto.encode("",R,{type:gy,encoding:uu});I=b1(n,b,L)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:k,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:$}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:D,expiry:gn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:D.id})])}catch(R){throw this.events.off(m,A),this.events.off(v,T),R}return await this.setProposal(D.id,D),await this.setAuthRequest($,{request:ci(Ht({},k),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:I??E,response:W}}),ce(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[vl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(cp.no_internet_connection),w}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(cp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||gr.relay;a===gr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=pw(c),d={type:pc,receiverPublicKey:c,senderPublicKey:u},f=[],h=[];for(const w of i){if(!await ST({cacao:w,projectId:this.client.core.projectId})){s.setError(cp.invalid_cacao);const N=Lt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:l,error:N,encodeOpts:d}),new Error(N.message)}s.addTrace(vl.cacaos_verified);const{p:y}=w,b=hw(y.resources),E=[e_(y.iss)],x=gb(y.iss);if(b){const N=IT(b),O=NT(b);f.push(...N),E.push(...O)}for(const N of E)h.push(`${N}:${x}`)}const p=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(vl.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:en(df),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:YT([...new Set(f)],[...new Set(h)]),transportType:a},s.addTrace(vl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw s.setError(cp.subscribe_authenticated_session_topic_failure),w}s.addTrace(vl.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),s.addTrace(vl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(vl.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(cp.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),ce(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===gr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=pw(o),u={type:pc,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:u,rpcOpts:gn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Lt("USER_DISCONNECTED"))}),ce(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return fB(n,i)}),ce(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ce(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ce(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Lt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(k8).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Lt("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=jo.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ce(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(bl.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Lt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ce(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=jo.idle,this.client.events.emit("session_request_expire",{id:r}))}),ce(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),ce(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ce(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,en(gn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ce(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=gr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ce(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||en(gn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),ce(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:d}=r,f=Su(i,s,c);let h;const p=!!l;try{const y=p?uu:Eo;h=await this.client.core.crypto.encode(n,f,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),y}let g;if(rce.includes(i)){const y=ra(JSON.stringify(f)),b=ra(h);g=await this.client.core.verify.register({id:b,decryptedId:y})}const w=gn[i].req;if(w.attestation=g,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(n,f),p){const y=b1(l,n,h);await Le.Linking.openURL(y,this.client.name)}else{const y=gn[i].req;o&&(y.ttl=o),a&&(y.id=a),y.tvf=ci(Ht({},d),{correlationId:f.id}),u?(y.internal=ci(Ht({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,y)):this.client.core.relayer.publish(n,h,y).catch(b=>this.client.logger.error(b))}return f.id}),ce(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,u=Wv(n,s);let l;const d=c&&typeof(Le==null?void 0:Le.Linking)<"u";try{const p=d?uu:Eo;l=await this.client.core.crypto.encode(i,u,ci(Ht({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let f,h;try{f=await this.client.core.history.get(i,n);const p=f.request;try{this.shouldSetTVF(p.method,p.params)&&(h=this.getTVFParams(n,p.params,s))}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),p}if(d){const p=b1(c,i,l);await Le.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=gn[p].res;g.tvf=ci(Ht({},h),{correlationId:n}),o?(g.internal=ci(Ht({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,l,g)):this.client.core.relayer.publish(i,l,g).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(u)}),ce(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,u=Vv(n,s);let l;const d=c&&typeof(Le==null?void 0:Le.Linking)<"u";try{const h=d?uu:Eo;l=await this.client.core.crypto.encode(i,u,ci(Ht({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let f;try{f=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(d){const h=b1(c,i,l);await Le.Linking.openURL(h,this.client.name)}else{const h=f.request.method,p=a||gn[h].res;this.client.core.relayer.publish(i,l,p)}await this.client.core.history.resolve(u)}),ce(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;nu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{nu(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),ce(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ce(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ce(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===jo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=jo.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=jo.idle}),ce(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ce(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ce(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=we("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ce(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ce(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError(Wa.proposal_listener_not_found)),this.isValidConnect(Ht({},i.params));const l=a.expiryTimestamp||en(gn.wc_sessionPropose.req.ttl),d=Ht({id:c,pairingTopic:n,expiryTimestamp:l},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:s,hash:ra(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});u==null||u.addTrace(Wo.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(u){await this.sendError({id:c,topic:n,error:u,rpcOpts:gn.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),ce(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Ko(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:l,pairingTopic:r,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(l,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(Rs(n)){await this.client.proposal.delete(s,Lt("USER_DISCONNECTED"));const o=Pt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ce(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f}=n.params,h=[...this.pendingSessions.values()].find(w=>w.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const p=this.client.proposal.get(h.proposalId),g=ci(Ht(Ht(Ht({topic:r,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:gr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Pt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ce(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Ko(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Pt("session_approve",i),{})):Rs(n)&&(await this.client.session.delete(r,Lt("USER_DISCONNECTED")),this.events.emit(Pt("session_approve",i),{error:n.error}))}),ce(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=op.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Lt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Ht({topic:r},i));try{op.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw op.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ce(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ce(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Pt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ko(n)?this.events.emit(Pt("session_update",i),{}):Rs(n)&&this.events.emit(Pt("session_update",i),{error:n.error})}),ce(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,en(df)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ce(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Pt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ko(n)?this.events.emit(Pt("session_extend",i),{}):Rs(n)&&this.events.emit(Pt("session_extend",i),{error:n.error})}),ce(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ce(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Pt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Ko(n)?this.events.emit(Pt("session_ping",i),{}):Rs(n)&&this.events.emit(Pt("session_ping",i),{error:n.error})},500)}),ce(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(En.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Lt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ce(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:l}=r,{id:d,params:f}=a;try{await this.isValidRequest(Ht({topic:o},f));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:ra(JSON.stringify(Su("wc_sessionRequest",f,d))),encryptedId:u,metadata:h.peer.metadata,transportType:l}),g={id:d,topic:o,params:f,verifyContext:p};await this.setPendingSessionRequest(g),l===gr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),ce(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Pt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ko(n)?this.events.emit(Pt("session_request",i),{result:n.result}):Rs(n)&&this.events.emit(Pt("session_request",i),{error:n.error})}),ce(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=op.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Ht({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),op.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ce(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Ko(n)?this.events.emit(Pt("session_request",i),{result:n.result}):Rs(n)&&this.events.emit(Pt("session_request",i),{error:n.error})}),ce(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:u,authPayload:l,expiryTimestamp:d}=s.params,f=await this.getVerifyContext({attestationId:o,hash:ra(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),h={requester:u,pairingTopic:i,id:s.id,authPayload:l,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===gr.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(u){this.client.logger.error(u);const l=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:pc,receiverPublicKey:l,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:h,rpcOpts:gn.wc_sessionAuthenticate.autoReject,appLink:f})}}),ce(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ce(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=jo.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))}),ce(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Pt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Pt("session_request",s.request.id),{error:n})})}),ce(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===jo.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=jo.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ce(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),ce(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Su("wc_sessionPropose",ci(Ht({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),ce(this,"isValidConnect",async r=>{if(!Ni(r)){const{message:u}=we("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(Bn(n)||await this.isValidPairingTopic(n),!lne(c,!0)){const{message:u}=we("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!Bn(i)&&kg(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Bn(s)&&kg(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Bn(o)||this.validateSessionProps(o,"sessionProperties"),!Bn(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(l=>u.includes(l)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),ce(this,"validateNamespaces",(r,n)=>{const i=une(r,"connect()",n);if(i)throw new Error(i.message)}),ce(this,"isValidApprove",async r=>{if(!Ni(r))throw new Error(we("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),u=uA(i,"approve()");if(u)throw new Error(u.message);const l=XT(c.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!Gr(s,!0)){const{message:d}=we("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(Bn(o)||this.validateSessionProps(o,"sessionProperties"),!Bn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(f=>d.has(f)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ce(this,"isValidReject",async r=>{if(!Ni(r)){const{message:s}=we("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!fne(i)){const{message:s}=we("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ce(this,"isValidSessionSettleRequest",r=>{if(!Ni(r)){const{message:u}=we("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!FB(n)){const{message:u}=we("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=nne(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=uA(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(nu(o)){const{message:u}=we("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),ce(this,"isValidUpdate",async r=>{if(!Ni(r)){const{message:c}=we("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=uA(i,"update()");if(o)throw new Error(o.message);const a=XT(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ce(this,"isValidExtend",async r=>{if(!Ni(r)){const{message:i}=we("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ce(this,"isValidRequest",async r=>{if(!Ni(r)){const{message:c}=we("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!ZT(a,s)){const{message:c}=we("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!hne(i)){const{message:c}=we("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!mne(a,s,i.method)){const{message:c}=we("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!vne(o,mA)){const{message:c}=we("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${mA.min} and ${mA.max}`);throw new Error(c)}}),ce(this,"isValidRespond",async r=>{var n;if(!Ni(r)){const{message:o}=we("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!pne(s)){const{message:o}=we("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ce(this,"isValidPing",async r=>{if(!Ni(r)){const{message:i}=we("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ce(this,"isValidEmit",async r=>{if(!Ni(r)){const{message:a}=we("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!ZT(o,s)){const{message:a}=we("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!gne(i)){const{message:a}=we("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!yne(o,s,i.name)){const{message:a}=we("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ce(this,"isValidDisconnect",async r=>{if(!Ni(r)){const{message:i}=we("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ce(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Gr(i,!1))throw new Error("uri is required parameter");if(!Gr(s,!1))throw new Error("domain is required parameter");if(!Gr(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>uh(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=uh(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ce(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||Gp,validation:"UNKNOWN",origin:o.url||""}};try{if(a===gr.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ce(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=we("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),ce(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ce(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ce(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=we("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),ce(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,u,l,d,f;return!r||n!==gr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((l=r==null?void 0:r.redirect)==null?void 0:l.universal)!==void 0&&((d=r==null?void 0:r.redirect)==null?void 0:d.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(Le==null?void 0:Le.Linking)<"u"}),ce(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),ce(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=yT(r,"topic")||"",i=decodeURIComponent(yT(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:gr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),ce(this,"registerLinkModeListeners",async()=>{var r;if(d3()||il()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=Le==null?void 0:Le.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ce(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys(M8).includes(i.method)}),ce(this,"getTVFParams",(r,n,i)=>{var s,o;try{const a=n.request.method,c=this.extractTxHashesFromResult(a,i);return ci(Ht({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(s=n.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),ce(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ce(this,"extractTxHashesFromResult",(r,n)=>{try{const i=M8[r];if(typeof n=="string")return[n];const s=n[i.key];if(Fu(s))return r==="solana_signAllTransactions"?s.map(o=>Kee(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(En.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(mw)?this.client.auth.authKeys.get(mw):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===gr.link_mode?uu:Eo});E3(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:ra(n)})):Gv(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ns.expired,async e=>{const{topic:r,id:n}=nB(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,we("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,we("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Tl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Tl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Gr(e,!1)){const{message:r}=we("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=we("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(nu(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=we("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Gr(e,!1)){const{message:r}=we("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=we("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(nu(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=we("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=we("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Gr(e,!1)){const{message:r}=we("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=we("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!dne(e)){const{message:r}=we("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=we("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(nu(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=we("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class pce extends Wd{constructor(e,r){super(e,r,Zae,A3),this.core=e,this.logger=r}}let gce=class extends Wd{constructor(e,r){super(e,r,Xae,A3),this.core=e,this.logger=r}};class mce extends Wd{constructor(e,r){super(e,r,tce,A3,n=>n.id),this.core=e,this.logger=r}}class yce extends Wd{constructor(e,r){super(e,r,sce,Qv,()=>mw),this.core=e,this.logger=r}}class wce extends Wd{constructor(e,r){super(e,r,oce,Qv),this.core=e,this.logger=r}}class bce extends Wd{constructor(e,r){super(e,r,ace,Qv,n=>n.id),this.core=e,this.logger=r}}var vce=Object.defineProperty,Ece=(t,e,r)=>e in t?vce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yA=(t,e,r)=>Ece(t,typeof e!="symbol"?e+"":e,r);class Ace{constructor(e,r){this.core=e,this.logger=r,yA(this,"authKeys"),yA(this,"pairingTopics"),yA(this,"requests"),this.authKeys=new yce(this.core,this.logger),this.pairingTopics=new wce(this.core,this.logger),this.requests=new bce(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var _ce=Object.defineProperty,Cce=(t,e,r)=>e in t?_ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dt=(t,e,r)=>Cce(t,typeof e!="symbol"?e+"":e,r);let xce=class dU extends nK{constructor(e){super(e),dt(this,"protocol",cU),dt(this,"version",uU),dt(this,"name",gA.name),dt(this,"metadata"),dt(this,"core"),dt(this,"logger"),dt(this,"events",new Ws.EventEmitter),dt(this,"engine"),dt(this,"session"),dt(this,"proposal"),dt(this,"pendingRequest"),dt(this,"auth"),dt(this,"signConfig"),dt(this,"on",(n,i)=>this.events.on(n,i)),dt(this,"once",(n,i)=>this.events.once(n,i)),dt(this,"off",(n,i)=>this.events.off(n,i)),dt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),dt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),dt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),dt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||gA.name,this.metadata=aee(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:iy(y0({level:(e==null?void 0:e.logger)||gA.logger}));this.core=(e==null?void 0:e.core)||new Jae(e),this.logger=ai(r,this.name),this.session=new gce(this.core,this.logger),this.proposal=new pce(this.core,this.logger),this.pendingRequest=new mce(this.core,this.logger),this.engine=new hce(this),this.auth=new Ace(this.core,this.logger)}static async init(e){const r=new dU(e);return await r.initialize(),r}get context(){return ji(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ye.toMiliseconds(ye.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var C_={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ks<"u"&&ks,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof ks<"u"&&ks||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(v){return v&&DataView.prototype.isPrototypeOf(v)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(v){return v&&l.indexOf(Object.prototype.toString.call(v))>-1};function f(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function h(v){return typeof v!="string"&&(v=String(v)),v}function p(v){var A={next:function(){var T=v.shift();return{done:T===void 0,value:T}}};return c.iterable&&(A[Symbol.iterator]=function(){return A}),A}function g(v){this.map={},v instanceof g?v.forEach(function(A,T){this.append(T,A)},this):Array.isArray(v)?v.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(A){this.append(A,v[A])},this)}g.prototype.append=function(v,A){v=f(v),A=h(A);var T=this.map[v];this.map[v]=T?T+", "+A:A},g.prototype.delete=function(v){delete this.map[f(v)]},g.prototype.get=function(v){return v=f(v),this.has(v)?this.map[v]:null},g.prototype.has=function(v){return this.map.hasOwnProperty(f(v))},g.prototype.set=function(v,A){this.map[f(v)]=h(A)},g.prototype.forEach=function(v,A){for(var T in this.map)this.map.hasOwnProperty(T)&&v.call(A,this.map[T],T,this)},g.prototype.keys=function(){var v=[];return this.forEach(function(A,T){v.push(T)}),p(v)},g.prototype.values=function(){var v=[];return this.forEach(function(A){v.push(A)}),p(v)},g.prototype.entries=function(){var v=[];return this.forEach(function(A,T){v.push([T,A])}),p(v)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function y(v){return new Promise(function(A,T){v.onload=function(){A(v.result)},v.onerror=function(){T(v.error)}})}function b(v){var A=new FileReader,T=y(A);return A.readAsArrayBuffer(v),T}function E(v){var A=new FileReader,T=y(A),I=/charset=([A-Za-z0-9_-]+)/.exec(v.type),R=I?I[1]:"utf-8";return A.readAsText(v,R),T}function x(v){for(var A=new Uint8Array(v),T=new Array(A.length),I=0;I<A.length;I++)T[I]=String.fromCharCode(A[I]);return T.join("")}function N(v){if(v.slice)return v.slice(0);var A=new Uint8Array(v.byteLength);return A.set(new Uint8Array(v)),A.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:c.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:c.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():c.arrayBuffer&&c.blob&&u(v)?(this._bodyArrayBuffer=N(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||d(v))?this._bodyArrayBuffer=N(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var v=w(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=w(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=w(this);if(v)return v;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function U(v){var A=v.toUpperCase();return k.indexOf(A)>-1?A:v}function D(v,A){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var T=A.body;if(v instanceof D){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,A.headers||(this.headers=new g(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!T&&v._bodyInit!=null&&(T=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new g(A.headers)),this.method=U(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in a){var L=new AbortController;return L.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function W(v){var A=new FormData;return v.trim().split("&").forEach(function(T){if(T){var I=T.split("="),R=I.shift().replace(/\+/g," "),L=I.join("=").replace(/\+/g," ");A.append(decodeURIComponent(R),decodeURIComponent(L))}}),A}function H(v){var A=new g,T=v.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var R=I.split(":"),L=R.shift().trim();if(L){var M=R.join(":").trim();try{A.append(L,M)}catch(_){console.warn("Response "+_.message)}}}),A}O.call(D.prototype);function Q(v,A){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new g(A.headers),this.url=A.url||"",this._initBody(v)}O.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},Q.error=function(){var v=new Q(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var $=[301,302,303,307,308];Q.redirect=function(v,A){if($.indexOf(A)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:A,headers:{location:v}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(A,T){this.message=A,this.name=T;var I=Error(A);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function m(v,A){return new Promise(function(T,I){var R=new D(v,A);if(R.signal&&R.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function M(){L.abort()}L.onload=function(){var Z={statusText:L.statusText,headers:H(L.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(L.status<200||L.status>599)?Z.status=200:Z.status=L.status,Z.url="responseURL"in L?L.responseURL:Z.headers.get("X-Request-URL");var P="response"in L?L.response:L.responseText;setTimeout(function(){T(new Q(P,Z))},0)},L.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},L.onabort=function(){setTimeout(function(){I(new o.DOMException("Aborted","AbortError"))},0)};function _(Z){try{return Z===""&&a.location.href?a.location.href:Z}catch{return Z}}if(L.open(R.method,_(R.url),!0),R.credentials==="include"?L.withCredentials=!0:R.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(c.blob?L.responseType="blob":c.arrayBuffer&&(L.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof g||a.Headers&&A.headers instanceof a.Headers)){var j=[];Object.getOwnPropertyNames(A.headers).forEach(function(Z){j.push(f(Z)),L.setRequestHeader(Z,h(A.headers[Z]))}),R.headers.forEach(function(Z,P){j.indexOf(P)===-1&&L.setRequestHeader(P,Z)})}else R.headers.forEach(function(Z,P){L.setRequestHeader(P,Z)});R.signal&&(R.signal.addEventListener("abort",M),L.onreadystatechange=function(){L.readyState===4&&R.signal.removeEventListener("abort",M)}),L.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return m.polyfill=!0,a.fetch||(a.fetch=m,a.Headers=g,a.Request=D,a.Response=Q),o.Headers=g,o.Request=D,o.Response=Q,o.fetch=m,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(C_,C_.exports);var Sce=C_.exports;const U8=Pa(Sce);var Ice=Object.defineProperty,Nce=Object.defineProperties,Tce=Object.getOwnPropertyDescriptors,F8=Object.getOwnPropertySymbols,Pce=Object.prototype.hasOwnProperty,Rce=Object.prototype.propertyIsEnumerable,$8=(t,e,r)=>e in t?Ice(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L8=(t,e)=>{for(var r in e||(e={}))Pce.call(e,r)&&$8(t,r,e[r]);if(F8)for(var r of F8(e))Rce.call(e,r)&&$8(t,r,e[r]);return t},j8=(t,e)=>Nce(t,Tce(e));const Oce={Accept:"application/json","Content-Type":"application/json"},kce="POST",z8={headers:Oce,method:kce},q8=10;let Bo=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Ws.EventEmitter,this.isAvailable=!1,this.registering=!1,!s8(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Ac(e),n=await(await U8(this.url,j8(L8({},z8),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!s8(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Ac({id:1,jsonrpc:"2.0",method:"test",params:[]});await U8(e,j8(L8({},z8),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?gd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Vv(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return jB(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>q8&&this.events.setMaxListeners(q8)}};const H8="error",Dce="wss://relay.walletconnect.org",Mce="wc",Bce="universal_provider",E1=`${Mce}@2:${Bce}:`,fU="https://rpc.walletconnect.org/v1/",Rf="generic",Uce=`${fU}bundler`,Gs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function Fce(){}function _3(t){return t==null||typeof t!="object"&&typeof t!="function"}function C3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $ce(t){if(_3(t))return t;if(Array.isArray(t)||C3(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function W8(t){return typeof t=="object"&&t!==null}function hU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function pU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Lce="[object RegExp]",gU="[object String]",mU="[object Number]",yU="[object Boolean]",wU="[object Arguments]",jce="[object Symbol]",zce="[object Date]",qce="[object Map]",Hce="[object Set]",Wce="[object Array]",Vce="[object ArrayBuffer]",Gce="[object Object]",Kce="[object DataView]",Qce="[object Uint8Array]",Yce="[object Uint8ClampedArray]",Jce="[object Uint16Array]",Zce="[object Uint32Array]",Xce="[object Int8Array]",eue="[object Int16Array]",tue="[object Int32Array]",rue="[object Float32Array]",nue="[object Float64Array]";function iue(t,e){return Qf(t,void 0,t,new Map,e)}function Qf(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(_3(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Qf(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Qf(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Qf(a,void 0,r,n,i));return o}if(typeof un<"u"&&un.isBuffer(t))return t.subarray();if(C3(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Qf(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Pl(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Pl(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Pl(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Pl(o,t,r,n,i),o}if(typeof t=="object"&&sue(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Pl(o,t,r,n,i),o}return t}function Pl(t,e,r=t,n,i){const s=[...Object.keys(e),...hU(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Qf(e[a],a,r,n,i))}}function sue(t){switch(pU(t)){case wU:case Wce:case Vce:case Kce:case yU:case zce:case rue:case nue:case Xce:case eue:case tue:case qce:case mU:case Gce:case Lce:case Hce:case gU:case jce:case Qce:case Yce:case Jce:case Zce:return!0;default:return!1}}function oue(t,e){return iue(t,(r,n,i,s)=>{const o=e==null?void 0:e(r,n,i,s);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case mU:case gU:case yU:{const a=new t.constructor(t==null?void 0:t.valueOf());return Pl(a,t),a}case wU:{const a={};return Pl(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function V8(t){return oue(t)}function G8(t){return t!==null&&typeof t=="object"&&pU(t)==="[object Arguments]"}function aue(t){return C3(t)}function cue(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function uue(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=x_(i,o,n,new Map)}return i}function x_(t,e,r,n){if(_3(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return $ce(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...hU(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(G8(a)&&(a={...a}),G8(c)&&(c={...c}),typeof un<"u"&&un.isBuffer(a)&&(a=V8(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];l[h]=c[h]}c=l}else c=[];const u=r(c,a,o,t,e,n);u!=null?t[o]=u:Array.isArray(a)||W8(c)&&W8(a)?t[o]=x_(c,a,r,n):c==null&&cue(a)?t[o]=x_({},a,r,n):c==null&&aue(a)?t[o]=V8(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function lue(t,...e){return uue(t,...e,Fce)}var due=Object.defineProperty,fue=Object.defineProperties,hue=Object.getOwnPropertyDescriptors,K8=Object.getOwnPropertySymbols,pue=Object.prototype.hasOwnProperty,gue=Object.prototype.propertyIsEnumerable,Q8=(t,e,r)=>e in t?due(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A1=(t,e)=>{for(var r in e||(e={}))pue.call(e,r)&&Q8(t,r,e[r]);if(K8)for(var r of K8(e))gue.call(e,r)&&Q8(t,r,e[r]);return t},mue=(t,e)=>fue(t,hue(e));function cs(t,e,r){var n;const i=uh(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${fU}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Vd(t){return t.includes(":")?t.split(":")[1]:t}function bU(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function yue(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function wA(t={},e={}){const r=Y8(t),n=Y8(e);return lue(r,n)}function Y8(t){var e,r,n,i;const s={};if(!kg(t))return s;for(const[o,a]of Object.entries(t)){const c=w3(o)?[o]:a.chains,u=a.methods||[],l=a.events||[],d=a.rpcMap||{},f=Pp(o);s[f]=mue(A1(A1({},s[f]),a),{chains:fw(c,(e=s[f])==null?void 0:e.chains),methods:fw(u,(r=s[f])==null?void 0:r.methods),events:fw(l,(n=s[f])==null?void 0:n.events),rpcMap:A1(A1({},d),(i=s[f])==null?void 0:i.rpcMap)})}return s}function J8(t){return t.includes(":")?t.split(":")[2]:t}function Z8(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=w3(r)?[r]:n.chains?n.chains:bU(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function bA(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const vU={},xt=t=>vU[t],vA=(t,e)=>{vU[t]=e};var wue=Object.defineProperty,bue=(t,e,r)=>e in t?wue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ff=(t,e,r)=>bue(t,typeof e!="symbol"?e+"":e,r);class vue{constructor(e){ff(this,"name","polkadot"),ff(this,"client"),ff(this,"httpProviders"),ff(this,"events"),ff(this,"namespace"),ff(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}}var Eue=Object.defineProperty,Aue=Object.defineProperties,_ue=Object.getOwnPropertyDescriptors,X8=Object.getOwnPropertySymbols,Cue=Object.prototype.hasOwnProperty,xue=Object.prototype.propertyIsEnumerable,S_=(t,e,r)=>e in t?Eue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eP=(t,e)=>{for(var r in e||(e={}))Cue.call(e,r)&&S_(t,r,e[r]);if(X8)for(var r of X8(e))xue.call(e,r)&&S_(t,r,e[r]);return t},tP=(t,e)=>Aue(t,_ue(e)),hf=(t,e,r)=>S_(t,typeof e!="symbol"?e+"":e,r);class Sue{constructor(e){hf(this,"name","eip155"),hf(this,"client"),hf(this,"chainId"),hf(this,"namespace"),hf(this,"httpProviders"),hf(this,"events"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||cs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Vd(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i;const s=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:tP(eP({},o.sessionProperties||{}),{capabilities:tP(eP({},a||{}),{[s]:c})})})}catch(u){console.warn("Failed to update session with capabilities",u)}return c}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Su("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${Uce}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var Iue=Object.defineProperty,Nue=(t,e,r)=>e in t?Iue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pf=(t,e,r)=>Nue(t,typeof e!="symbol"?e+"":e,r);class Tue{constructor(e){pf(this,"name","solana"),pf(this,"client"),pf(this,"httpProviders"),pf(this,"events"),pf(this,"namespace"),pf(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}}var Pue=Object.defineProperty,Rue=(t,e,r)=>e in t?Pue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gf=(t,e,r)=>Rue(t,typeof e!="symbol"?e+"":e,r);class Oue{constructor(e){gf(this,"name","cosmos"),gf(this,"client"),gf(this,"httpProviders"),gf(this,"events"),gf(this,"namespace"),gf(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}}var kue=Object.defineProperty,Due=(t,e,r)=>e in t?kue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mf=(t,e,r)=>Due(t,typeof e!="symbol"?e+"":e,r);class Mue{constructor(e){mf(this,"name","algorand"),mf(this,"client"),mf(this,"httpProviders"),mf(this,"events"),mf(this,"namespace"),mf(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||cs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Vs(new Bo(n,xt("disableProviderPing")))}}var Bue=Object.defineProperty,Uue=(t,e,r)=>e in t?Bue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yf=(t,e,r)=>Uue(t,typeof e!="symbol"?e+"":e,r);class Fue{constructor(e){yf(this,"name","cip34"),yf(this,"client"),yf(this,"httpProviders"),yf(this,"events"),yf(this,"namespace"),yf(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Vd(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}}var $ue=Object.defineProperty,Lue=(t,e,r)=>e in t?$ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wf=(t,e,r)=>Lue(t,typeof e!="symbol"?e+"":e,r);class jue{constructor(e){wf(this,"name","elrond"),wf(this,"client"),wf(this,"httpProviders"),wf(this,"events"),wf(this,"namespace"),wf(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}}var zue=Object.defineProperty,que=(t,e,r)=>e in t?zue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bf=(t,e,r)=>que(t,typeof e!="symbol"?e+"":e,r);class Hue{constructor(e){bf(this,"name","multiversx"),bf(this,"client"),bf(this,"httpProviders"),bf(this,"events"),bf(this,"namespace"),bf(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}}var Wue=Object.defineProperty,Vue=(t,e,r)=>e in t?Wue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vf=(t,e,r)=>Vue(t,typeof e!="symbol"?e+"":e,r);class Gue{constructor(e){vf(this,"name","near"),vf(this,"client"),vf(this,"httpProviders"),vf(this,"events"),vf(this,"namespace"),vf(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||cs(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace);return typeof n>"u"?void 0:new Vs(new Bo(n,xt("disableProviderPing")))}}var Kue=Object.defineProperty,Que=(t,e,r)=>e in t?Kue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ef=(t,e,r)=>Que(t,typeof e!="symbol"?e+"":e,r);class Yue{constructor(e){Ef(this,"name","tezos"),Ef(this,"client"),Ef(this,"httpProviders"),Ef(this,"events"),Ef(this,"namespace"),Ef(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||cs(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace);return typeof n>"u"?void 0:new Vs(new Bo(n))}}var Jue=Object.defineProperty,Zue=(t,e,r)=>e in t?Jue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Af=(t,e,r)=>Zue(t,typeof e!="symbol"?e+"":e,r);class Xue{constructor(e){Af(this,"name",Rf),Af(this,"client"),Af(this,"httpProviders"),Af(this,"events"),Af(this,"namespace"),Af(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Gs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=uh(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||cs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vs(new Bo(n,xt("disableProviderPing")))}}var ele=Object.defineProperty,tle=Object.defineProperties,rle=Object.getOwnPropertyDescriptors,rP=Object.getOwnPropertySymbols,nle=Object.prototype.hasOwnProperty,ile=Object.prototype.propertyIsEnumerable,I_=(t,e,r)=>e in t?ele(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_1=(t,e)=>{for(var r in e||(e={}))nle.call(e,r)&&I_(t,r,e[r]);if(rP)for(var r of rP(e))ile.call(e,r)&&I_(t,r,e[r]);return t},EA=(t,e)=>tle(t,rle(e)),Es=(t,e,r)=>I_(t,typeof e!="symbol"?e+"":e,r);let sle=class EU{constructor(e){Es(this,"client"),Es(this,"namespaces"),Es(this,"optionalNamespaces"),Es(this,"sessionProperties"),Es(this,"scopedProperties"),Es(this,"events",new Zx),Es(this,"rpcProviders",{}),Es(this,"session"),Es(this,"providerOpts"),Es(this,"logger"),Es(this,"uri"),Es(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:iy(y0({level:(e==null?void 0:e.logger)||H8})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new EU(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:_1({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,Wv(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Lt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=Z8(this.session.namespaces);this.namespaces=wA(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=Z8(i.namespaces);return this.namespaces=wA(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e),s=this.getProvider(n);s.name===Rf?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Fu(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await xce.init({core:this.providerOpts.core,logger:this.providerOpts.logger||H8,relayUrl:this.providerOpts.relayUrl||Dce,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Pp(r)))];vA("client",this.client),vA("events",this.events),vA("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=yue(r,this.session),i=bU(n),s=wA(this.namespaces,this.optionalNamespaces),o=EA(_1({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new Sue({namespace:o});break;case"algorand":this.rpcProviders[r]=new Mue({namespace:o});break;case"solana":this.rpcProviders[r]=new Tue({namespace:o});break;case"cosmos":this.rpcProviders[r]=new Oue({namespace:o});break;case"polkadot":this.rpcProviders[r]=new vue({namespace:o});break;case"cip34":this.rpcProviders[r]=new Fue({namespace:o});break;case"elrond":this.rpcProviders[r]=new jue({namespace:o});break;case"multiversx":this.rpcProviders[r]=new Hue({namespace:o});break;case"near":this.rpcProviders[r]=new Gue({namespace:o});break;case"tezos":this.rpcProviders[r]=new Yue({namespace:o});break;default:this.rpcProviders[Rf]?this.rpcProviders[Rf].updateNamespace(o):this.rpcProviders[Rf]=new Xue({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Fu(o)&&this.events.emit("accountsChanged",o.map(J8))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Pp(o),u=bA(o)!==bA(a)?`${c}:${bA(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=EA(_1({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",EA(_1({},Lt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Gs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Rf]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s}=e;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Pp(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Pp(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i),this.events.emit("chainChanged",i);const s=this.getProvider(n).getDefaultChain();r||this.getProvider(n).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(J8);if(!Fu(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${E1}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${E1}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${E1}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(E1)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const ole="https://secure.walletconnect.org/sdk",ale=(typeof kr<"u"&&typeof{}<"u"?{}.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||ole,cle=(typeof kr<"u"&&typeof{}<"u"?{}.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",ule=(typeof kr<"u"&&typeof{}<"u"?{}.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Re={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Kr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},xl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Zr=vr({...xl}),Un={state:Zr,subscribeKey(t,e){return Ei(Zr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ge.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Zr.message=xl.message,Zr.variant=xl.variant,Zr.svg=xl.svg,Zr.open=xl.open,Zr.autoClose=xl.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=xl.autoClose}){Zr.open?(Zr.open=!1,setTimeout(()=>{Zr.message=t,Zr.variant=r,Zr.svg=e,Zr.open=!0,Zr.autoClose=n},150)):(Zr.message=t,Zr.variant=r,Zr.svg=e,Zr.open=!0,Zr.autoClose=n)}},Qp={getSIWX(){return pe.state.siwx},async initializeIfEnabled(){var s;const t=pe.state.siwx,e=V.getActiveCaipAddress();if(!(t&&e))return;const[r,n,i]=e.split(":");if(V.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${n}`,i)).length)return;await jr.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Wt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Yt._getClient())==null?void 0:s.disconnect().catch(console.error)),Bt.reset("Connect"),Un.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=pe.state.siwx,e=Ge.getPlainAddress(V.getActiveCaipAddress()),r=V.getActiveCaipNetwork(),n=Yt._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();tt.getConnectorId(r.chainNamespace)===fe.CONNECTOR_ID.AUTH&&Bt.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),jr.close(),Wt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!jr.state.open||Bt.state.view==="ApproveTransaction")&&await jr.open({view:"SIWXSignMessage"}),s.isSmartAccount?Un.showError("This application might not support Smart Accounts"):Un.showError("Signature declined"),Wt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Yt.disconnect():jr.close(),Bt.reset("Connect"),Wt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=pe.state.siwx,e=Ge.getPlainAddress(V.getActiveCaipAddress()),r=V.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=Bt.state.view==="ApproveTransaction",n=Bt.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var a,c,u;const n=Qp.getSIWX(),i=new Set(e.map(l=>l.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const s=await n.createMessage({chainId:((a=V.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:r,chains:[s.chainId,...e.filter(l=>l!==s.chainId)]});if(Un.showLoading("Authenticating...",{autoClose:!1}),Ne.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(u=o==null?void 0:o.auths)!=null&&u.length){const l=o.auths.map(d=>{const f=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||s.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:f,signature:d.s.s,cacao:d}});try{await n.setSessions(l),Wt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Qp.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),Wt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Qp.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{Un.hide()}}return!0},getSIWXEventProperties(){var e,r;const t=V.state.activeChain;return{network:((e=V.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((r=Ne.state.preferredAccountTypes)==null?void 0:r[t])===Kr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Gt=vr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),lle={state:Gt,subscribe(t){return yi(Gt,()=>t(Gt))},setLastNetworkInView(t){Gt.lastNetworkInView=t},async fetchTransactions(t,e){var r,n;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Gt.loading=!0;try{const i=await He.fetchTransactions({account:t,cursor:Gt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=V.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),s=this.filterSpamTransactions(i.data),o=this.filterByConnectedChain(s),a=[...Gt.transactions,...o];Gt.loading=!1,e==="coinbase"?Gt.coinbaseTransactions=this.groupTransactionsByYearAndMonth(Gt.coinbaseTransactions,i.data):(Gt.transactions=a,Gt.transactionsByYear=this.groupTransactionsByYearAndMonth(Gt.transactionsByYear,o)),Gt.empty=a.length===0,Gt.next=i.next?i.next:void 0}catch{const s=V.state.activeChain;Wt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:pe.state.projectId,cursor:Gt.next,isSmartAccount:((n=Ne.state.preferredAccountTypes)==null?void 0:n[s])===Kr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Un.showError("Failed to fetch transactions"),Gt.loading=!1,Gt.empty=!0,Gt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(u=>u.id!==n.id);r[i]={...o,[s]:[...c,n].sort((u,l)=>new Date(l.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>{var i;return((i=n.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var n;const e=(n=V.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){Gt.next=void 0},resetTransactions(){Gt.transactions=[],Gt.transactionsByYear={},Gt.lastNetworkInView=void 0,Gt.loading=!1,Gt.empty=!1,Gt.next=void 0}},Kt=vr({wcError:!1,buffering:!1,status:"disconnected"});let _f;const Yt={state:Kt,subscribeKey(t,e){return Ei(Kt,t,e)},_getClient(){return Kt._client},setClient(t){Kt._client=hd(t)},async connectWalletConnect(){var t,e,r,n;if(Ge.isTelegram()||Ge.isSafari()&&Ge.isIos()){if(_f){await _f,_f=void 0;return}if(!Ge.isPairingExpired(Kt==null?void 0:Kt.wcPairingExpiry)){const i=Kt.wcUri;Kt.wcUri=i;return}_f=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await _f,_f=void 0,Kt.wcPairingExpiry=void 0,this.state.status="connected"}else await((n=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r))},async connectExternal(t,e,r=!0){var n,i;await((i=(n=this._getClient())==null?void 0:n.connectExternal)==null?void 0:i.call(n,t)),r&&V.setActiveNamespace(e)},async reconnectExternal(t){var r,n;await((n=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||V.state.activeChain;e&&tt.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var n;jr.setLoading(!0,V.state.activeChain);const r=tt.getAuthConnector();r&&(Ne.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),_e.setPreferredAccountTypes(Ne.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(r),jr.setLoading(!1,V.state.activeChain),Wt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((n=V.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){Kt.wcUri=void 0,Kt.wcPairingExpiry=void 0,Kt.wcLinking=void 0,Kt.recentWallet=void 0,Kt.status="disconnected",lle.resetTransactions(),_e.deleteWalletConnectDeepLink()},resetUri(){Kt.wcUri=void 0,Kt.wcPairingExpiry=void 0},finalizeWcConnection(){var r,n;const{wcLinking:t,recentWallet:e}=Yt.state;t&&_e.setWalletConnectDeepLink(t),e&&_e.setAppKitRecent(e),Wt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((n=(r=Bt.state.data)==null?void 0:r.wallet)==null?void 0:n.name)||"Unknown"}})},setWcBasic(t){Kt.wcBasic=t},setUri(t){Kt.wcUri=t,Kt.wcPairingExpiry=Ge.getPairingExpiry()},setWcLinking(t){Kt.wcLinking=t},setWcError(t){Kt.wcError=t,Kt.buffering=!1},setRecentWallet(t){Kt.recentWallet=t},setBuffering(t){Kt.buffering=t},setStatus(t){Kt.status=t},async disconnect(t){try{jr.setLoading(!0,t),await Qp.clearSessions(),await V.disconnect(t),jr.setLoading(!1,t),tt.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},Cf=vr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ga={state:Cf,subscribe(t){return yi(Cf,()=>t(Cf))},subscribeOpen(t){return Ei(Cf,"open",t)},set(t){Object.assign(Cf,{...Cf,...t})}};function ke(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}function Po(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new _le(t.type);return`${t.name}(${Yv(t.inputs,{includeName:e})})`}function Yv(t,{includeName:e=!1}={}){return t?t.map(r=>dle(r,{includeName:e})).join(e?", ":","):""}function dle(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Yv(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Ea(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Or(t){return Ea(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const AU="2.28.1";let dp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${AU}`},se=class N_ extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof N_?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=(()=>r.cause instanceof N_&&r.cause.docsPath||r.docsPath)(),s=(a=dp.getDocsUrl)==null?void 0:a.call(dp,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...dp.version?[`Version: ${dp.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=AU}walk(e){return _U(this,e)}};function _U(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?_U(t.cause,e):e?null:t}class fle extends se{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class nP extends se{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class CU extends se{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Yv(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class yy extends se{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class hle extends se{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ple extends se{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Or(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class gle extends se{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class mle extends se{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class iP extends se{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class xU extends se{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class yle extends se{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class SU extends se{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class sP extends se{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class Kh extends se{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class IU extends se{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class wle extends se{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class ble extends se{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Po(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Po(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let vle=class extends se{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class Mg extends se{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Yv(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class Jv extends se{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Po(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Ele extends se{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class Ale extends se{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let NU=class extends se{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class _le extends se{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Cle extends se{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let TU=class extends se{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},PU=class extends se{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class oP extends se{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function S0(t,{dir:e,size:r=32}={}){return typeof t=="string"?$u(t,{dir:e,size:r}):xle(t,{dir:e,size:r})}function $u(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new PU({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function xle(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new PU({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let RU=class extends se{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}};class Sle extends se{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Ile extends se{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Nle=class extends se{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function gc(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Ks(t,{size:e}){if(Or(t)>e)throw new Nle({givenSize:Or(t),maxSize:e})}function ySe(t,e){const r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?Ro(t,r):n==="bigint"?us(t,r):n==="string"?x3(t,r):n==="boolean"?OU(t,r):ds(t,r)}function us(t,e={}){const{signed:r}=e;e.size&&Ks(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function OU(t,e={}){let r=t;if(e.size&&(Ks(r,{size:e.size}),r=gc(r)),gc(r)==="0x00")return!1;if(gc(r)==="0x01")return!0;throw new Ile(r)}function Ro(t,e={}){return Number(us(t,e))}function x3(t,e={}){let r=ds(t);return e.size&&(Ks(r,{size:e.size}),r=gc(r,{dir:"right"})),new TextDecoder().decode(r)}const Tle=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ls(t,e={}){return typeof t=="number"||typeof t=="bigint"?De(t,e):typeof t=="string"?Qh(t,e):typeof t=="boolean"?kU(t,e):dn(t,e)}function kU(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Ks(r,{size:e.size}),S0(r,{size:e.size})):r}function dn(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Tle[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Ks(n,{size:e.size}),S0(n,{dir:"right",size:e.size})):n}function De(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new RU({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?S0(a,{size:n}):a}const Ple=new TextEncoder;function Qh(t,e={}){const r=Ple.encode(t);return dn(r,e)}const Rle=new TextEncoder;function I0(t,e={}){return typeof t=="number"||typeof t=="bigint"?kle(t,e):typeof t=="boolean"?Ole(t,e):Ea(t)?ds(t,e):nd(t,e)}function Ole(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Ks(r,{size:e.size}),S0(r,{size:e.size})):r}const ja={zero:48,nine:57,A:65,F:70,a:97,f:102};function aP(t){if(t>=ja.zero&&t<=ja.nine)return t-ja.zero;if(t>=ja.A&&t<=ja.F)return t-(ja.A-10);if(t>=ja.a&&t<=ja.f)return t-(ja.a-10)}function ds(t,e={}){let r=t;e.size&&(Ks(r,{size:e.size}),r=S0(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=aP(n.charCodeAt(a++)),u=aP(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new se(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+u}return s}function kle(t,e){const r=De(t,e);return ds(r)}function nd(t,e={}){const r=Rle.encode(t);return typeof e.size=="number"?(Ks(r,{size:e.size}),S0(r,{dir:"right",size:e.size})):r}function bb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Dle(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wy(t,...e){if(!Dle(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Mle(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bb(t.outputLen),bb(t.blockLen)}function Yh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function DU(t,e){wy(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const C1=BigInt(2**32-1),cP=BigInt(32);function Ble(t,e=!1){return e?{h:Number(t&C1),l:Number(t>>cP&C1)}:{h:Number(t>>cP&C1)|0,l:Number(t&C1)|0}}function Ule(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Ble(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const Fle=(t,e,r)=>t<<r|e>>>32-r,$le=(t,e,r)=>e<<r|t>>>32-r,Lle=(t,e,r)=>e<<r-32|t>>>64-r,jle=(t,e,r)=>t<<r-32|e>>>64-r,xf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zle(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function AA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function zo(t,e){return t<<32-e|t>>>e}const uP=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function qle(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function lP(t){for(let e=0;e<t.length;e++)t[e]=qle(t[e])}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function Hle(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Zv(t){return typeof t=="string"&&(t=Hle(t)),wy(t),t}function Wle(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];wy(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let S3=class{clone(){return this._cloneInto()}};function MU(t){const e=n=>t().update(Zv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function BU(t=32){if(xf&&typeof xf.getRandomValues=="function")return xf.getRandomValues(new Uint8Array(t));if(xf&&typeof xf.randomBytes=="function")return Uint8Array.from(xf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const UU=[],FU=[],$U=[],Vle=BigInt(0),fp=BigInt(1),Gle=BigInt(2),Kle=BigInt(7),Qle=BigInt(256),Yle=BigInt(113);for(let t=0,e=fp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],UU.push(2*(5*n+r)),FU.push((t+1)*(t+2)/2%64);let i=Vle;for(let s=0;s<7;s++)e=(e<<fp^(e>>Kle)*Yle)%Qle,e&Gle&&(i^=fp<<(fp<<BigInt(s))-fp);$U.push(i)}const[Jle,Zle]=Ule($U,!0),dP=(t,e,r)=>r>32?Lle(t,e,r):Fle(t,e,r),fP=(t,e,r)=>r>32?jle(t,e,r):$le(t,e,r);function Xle(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=dP(u,l,1)^r[a],f=fP(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=FU[o],c=dP(i,s,a),u=fP(i,s,a),l=UU[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Jle[n],t[1]^=Zle[n]}r.fill(0)}let ede=class LU extends S3{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,bb(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zle(this.state)}keccak(){uP||lP(this.state32),Xle(this.state32,this.rounds),uP||lP(this.state32),this.posOut=0,this.pos=0}update(e){Yh(this);const{blockLen:r,state:n}=this;e=Zv(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Yh(this,!1),wy(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return bb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(DU(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new LU(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const tde=(t,e,r)=>MU(()=>new ede(e,t,r)),rde=tde(1,136,256/8);function $n(t,e){const r=e||"hex",n=rde(Ea(t,{strict:!1})?I0(t):t);return r==="bytes"?n:ls(n)}const nde=t=>$n(I0(t));function ide(t){return nde(t)}function sde(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new se("Unable to normalize signature.");return i}const ode=t=>{const e=(()=>typeof t=="string"?t:fb(t))();return sde(e)};function jU(t){return ide(ode(t))}const Xv=jU;let Gu=class extends se{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},eE=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const _A=new eE(8192);function by(t,e){if(_A.has(`${t}.${e}`))return _A.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=$n(nd(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return _A.set(`${t}.${e}`,s),s}function lc(t,e){if(!Oo(t,{strict:!1}))throw new Gu({address:t});return by(t,e)}const ade=/^0x[a-fA-F0-9]{40}$/,CA=new eE(8192);function Oo(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(CA.has(n))return CA.get(n);const i=(()=>ade.test(t)?t.toLowerCase()===t?!0:r?by(t)===t:!0:!1)();return CA.set(n,i),i}function _c(t){return typeof t[0]=="string"?N0(t):cde(t)}function cde(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function N0(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Jh(t,e,r,{strict:n}={}){return Ea(t,{strict:!1})?WU(t,e,r,{strict:n}):HU(t,e,r,{strict:n})}function zU(t,e){if(typeof e=="number"&&e>0&&e>Or(t)-1)throw new TU({offset:e,position:"start",size:Or(t)})}function qU(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Or(t)!==r-e)throw new TU({offset:r,position:"end",size:Or(t)})}function HU(t,e,r,{strict:n}={}){zU(t,e);const i=t.slice(e,r);return n&&qU(i,e,r),i}function WU(t,e,r,{strict:n}={}){zU(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&qU(i,e,r),i}const ude=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,VU=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function sl(t,e){if(t.length!==e.length)throw new gle({expectedLength:t.length,givenLength:e.length});const r=lde({params:t,values:e}),n=N3(r);return n.length===0?"0x":n}function lde({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(I3({param:t[n],value:e[n]}));return r}function I3({param:t,value:e}){const r=T3(t.type);if(r){const[n,i]=r;return fde(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return yde(e,{param:t});if(t.type==="address")return dde(e);if(t.type==="bool")return pde(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=VU.exec(t.type)??[];return gde(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return hde(e,{param:t});if(t.type==="string")return mde(e);throw new Ele(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function N3(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Or(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(De(e+i,{size:32})),n.push(a),i+=Or(a)):r.push(a)}return _c([...r,...n])}function dde(t){if(!Oo(t))throw new Gu({address:t});return{dynamic:!1,encoded:$u(t.toLowerCase())}}function fde(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new NU(t);if(!n&&t.length!==e)throw new hle({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=I3({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=N3(s);if(n){const a=De(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?_c([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:_c(s.map(({encoded:o})=>o))}}function hde(t,{param:e}){const[,r]=e.type.split("bytes"),n=Or(t);if(!r){let i=t;return n%32!==0&&(i=$u(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:_c([$u(De(n,{size:32})),i])}}if(n!==Number.parseInt(r))throw new ple({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:$u(t,{dir:"right"})}}function pde(t){if(typeof t!="boolean")throw new se(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:$u(kU(t))}}function gde(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new RU({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:De(t,{size:32,signed:e})}}function mde(t){const e=Qh(t),r=Math.ceil(Or(e)/32),n=[];for(let i=0;i<r;i++)n.push($u(Jh(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:_c([$u(De(Or(e),{size:32})),...n])}}function yde(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=I3({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?N3(n):_c(n.map(({encoded:i})=>i))}}function T3(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const vy=t=>Jh(jU(t),0,4);function Gd(t){const{abi:e,args:r=[],name:n}=t,i=Ea(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?vy(a)===n:a.type==="event"?Xv(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((u,l)=>{const d="inputs"in a&&a.inputs[l];return d?T_(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=GU(a.inputs,o.inputs,r);if(u)throw new ble({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||s[0]}function T_(t,e){const r=typeof t,n=e.type;switch(n){case"address":return Oo(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>T_(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>T_(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function GU(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return GU(i.components,s.components,r[n]);const o=[i.type,s.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Oo(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?Oo(r[n],{strict:!1}):!1)())return o}}const hP="/docs/contract/encodeEventTopics";function Ey(t){var c;const{abi:e,eventName:r,args:n}=t;let i=e[0];if(r){const u=Gd({abi:e,name:r});if(!u)throw new sP(r,{docsPath:hP});i=u}if(i.type!=="event")throw new sP(void 0,{docsPath:hP});const s=Po(i),o=Xv(s);let a=[];if(n&&"inputs"in i){const u=(c=i.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(n)?n:Object.values(n).length>0?(u==null?void 0:u.map(d=>n[d.name]))??[]:[];l.length>0&&(a=(u==null?void 0:u.map((d,f)=>Array.isArray(l[f])?l[f].map((h,p)=>pP({param:d,value:l[f][p]})):typeof l[f]<"u"&&l[f]!==null?pP({param:d,value:l[f]}):null))??[])}return[o,...a]}function pP({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return $n(I0(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Cle(t.type);return sl([t],[e])}function tE(t,{method:e}){var n,i;const r={};return t.transport.type==="fallback"&&((i=(n=t.transport).onResponse)==null||i.call(n,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(r[o]=c.request)})),s=>r[s]||t.request}async function P3(t,e){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=e,u=tE(t,{method:"eth_newFilter"}),l=s?Ey({abi:n,args:i,eventName:s}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?De(o):o,toBlock:typeof c=="bigint"?De(c):c,topics:l}]});return{abi:n,args:i,eventName:s,id:d,request:u(d),strict:!!a,type:"event"}}function Dr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const gP="/docs/contract/encodeFunctionData";function wde(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=Gd({abi:e,args:r,name:n});if(!s)throw new Kh(n,{docsPath:gP});i=s}if(i.type!=="function")throw new Kh(void 0,{docsPath:gP});return{abi:[i],functionName:vy(Po(i))}}function Qs(t){const{args:e}=t,{abi:r,functionName:n}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:wde(t)})(),i=r[0],s=n,o="inputs"in i&&i.inputs?sl(i.inputs,e??[]):void 0;return N0([s,o??"0x"])}const KU={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},QU={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},bde={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class mP extends se{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class YU extends se{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class vde extends se{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Ede={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new vde({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new YU({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new mP({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new mP({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function R3(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(Ede);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function Ade(t,e={}){typeof e.size<"u"&&Ks(t,{size:e.size});const r=dn(t,e);return us(r,e)}function _de(t,e={}){let r=t;if(typeof e.size<"u"&&(Ks(r,{size:e.size}),r=gc(r)),r.length>1||r[0]>1)throw new Sle(r);return!!r[0]}function mc(t,e={}){typeof e.size<"u"&&Ks(t,{size:e.size});const r=dn(t,e);return Ro(r,e)}function Cde(t,e={}){let r=t;return typeof e.size<"u"&&(Ks(r,{size:e.size}),r=gc(r,{dir:"right"})),new TextDecoder().decode(r)}function Ay(t,e){const r=typeof e=="string"?ds(e):e,n=R3(r);if(Or(r)===0&&t.length>0)throw new yy;if(Or(e)&&Or(e)<32)throw new CU({data:typeof e=="string"?e:dn(e),params:t,size:Or(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[c,u]=lh(n,a,{staticPosition:0});i+=u,s.push(c)}return s}function lh(t,e,{staticPosition:r}){const n=T3(e.type);if(n){const[i,s]=n;return Sde(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return Pde(t,e,{staticPosition:r});if(e.type==="address")return xde(t);if(e.type==="bool")return Ide(t);if(e.type.startsWith("bytes"))return Nde(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Tde(t,e);if(e.type==="string")return Rde(t,{staticPosition:r});throw new Ale(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const yP=32,P_=32;function xde(t){const e=t.readBytes(32);return[by(dn(HU(e,-20))),32]}function Sde(t,e,{length:r,staticPosition:n}){if(!r){const o=mc(t.readBytes(P_)),a=n+o,c=a+yP;t.setPosition(a);const u=mc(t.readBytes(yP)),l=Bg(e);let d=0;const f=[];for(let h=0;h<u;++h){t.setPosition(c+(l?h*32:d));const[p,g]=lh(t,e,{staticPosition:c});d+=g,f.push(p)}return t.setPosition(n+32),[f,32]}if(Bg(e)){const o=mc(t.readBytes(P_)),a=n+o,c=[];for(let u=0;u<r;++u){t.setPosition(a+u*32);const[l]=lh(t,e,{staticPosition:a});c.push(l)}return t.setPosition(n+32),[c,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,c]=lh(t,e,{staticPosition:n+i});i+=c,s.push(a)}return[s,i]}function Ide(t){return[_de(t.readBytes(32),{size:32}),32]}function Nde(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=mc(t.readBytes(32));t.setPosition(r+o);const a=mc(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const c=t.readBytes(a);return t.setPosition(r+32),[dn(c),32]}return[dn(t.readBytes(Number.parseInt(i),32)),32]}function Tde(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[n>48?Ade(i,{signed:r}):mc(i,{signed:r}),32]}function Pde(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(Bg(e)){const o=mc(t.readBytes(P_)),a=r+o;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(a+s);const[l,d]=lh(t,u,{staticPosition:a});s+=d,i[n?c:u==null?void 0:u.name]=l}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,u]=lh(t,a,{staticPosition:r});i[n?o:a==null?void 0:a.name]=c,s+=u}return[i,s]}function Rde(t,{staticPosition:e}){const r=mc(t.readBytes(32)),n=e+r;t.setPosition(n);const i=mc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=Cde(gc(s));return t.setPosition(e+32),[o,32]}function Bg(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(Bg);const r=T3(t.type);return!!(r&&Bg({...t,type:r[1]}))}function Ode(t){const{abi:e,data:r}=t,n=Jh(r,0,4);if(n==="0x")throw new yy;const s=[...e||[],QU,bde].find(o=>o.type==="error"&&n===vy(Po(o)));if(!s)throw new xU(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ay(s.inputs,Jh(r,4)):void 0,errorName:s.name}}const ln=(t,e,r)=>JSON.stringify(t,(n,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,s):s},r);function JU({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?ln(e[s]):e[s]}`).join(", ")})`}const ZU={gwei:9,wei:18},kde={ether:-9,wei:9},Dde={ether:-18,gwei:-9};function T0(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function rE(t,e="wei"){return T0(t,ZU[e])}function $i(t,e="wei"){return T0(t,kde[e])}class Mde extends se{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Bde extends se{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function wP(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function Ude(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=wP(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=wP(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}function _y(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Fde extends se{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class $de extends se{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",_y(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Lde extends se{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var p;const h=_y({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:r==null?void 0:r.address,to:d,value:typeof f<"u"&&`${rE(f)} ${((p=i==null?void 0:i.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${$i(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${$i(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$i(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class XU extends se{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class eF extends se{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class jde extends se{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const zde=t=>t,O3=t=>t;class tF extends se{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f,stateOverride:h}){var w;const p=r?Dr(r):void 0;let g=_y({from:p==null?void 0:p.address,to:d,value:typeof f<"u"&&`${rE(f)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${$i(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${$i(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$i(u)} gwei`,nonce:l});h&&(g+=`
${Ude(h)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class rF extends se{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=Gd({abi:r,args:n,name:o}),u=c?JU({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,l=c?Po(c,{includeName:!0}):void 0,d=_y({address:i&&zde(i),function:l,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class R_ extends se{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,c;if(r&&r!=="0x")try{o=Ode({abi:e,data:r});const{abiItem:l,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=KU[h]}else{const h=l?Po(l,{includeName:!0}):void 0,p=l&&f?JU({abiItem:l,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(l){s=l}else i&&(c=i);let u;s instanceof xU&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=c,this.signature=u}}class qde extends se{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Hde extends se{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class nE extends se{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Yp extends se{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${O3(o)}`,e&&`Request body: ${ln(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class k3 extends se{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${O3(n)}`,`Request body: ${ln(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class bP extends se{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${O3(r)}`,`Request body: ${ln(e)}`],name:"TimeoutError"})}}const Wde=-1;class zi extends se{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof k3?e.code:r??Wde}}class gs extends zi{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Ug extends zi{constructor(e){super(e,{code:Ug.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Fg extends zi{constructor(e){super(e,{code:Fg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class $g extends zi{constructor(e,{method:r}={}){super(e,{code:$g.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty($g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Lg extends zi{constructor(e){super(e,{code:Lg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class vd extends zi{constructor(e){super(e,{code:vd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ed extends zi{constructor(e){super(e,{code:Ed.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class jg extends zi{constructor(e){super(e,{code:jg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Lu extends zi{constructor(e){super(e,{code:Lu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Lu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Zh extends zi{constructor(e){super(e,{code:Zh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class $l extends zi{constructor(e,{method:r}={}){super(e,{code:$l.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty($l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Xh extends zi{constructor(e){super(e,{code:Xh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class zg extends zi{constructor(e){super(e,{code:zg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class tn extends gs{constructor(e){super(e,{code:tn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class qg extends gs{constructor(e){super(e,{code:qg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hg extends gs{constructor(e,{method:r}={}){super(e,{code:Hg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Wg extends gs{constructor(e){super(e,{code:Wg.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vg extends gs{constructor(e){super(e,{code:Vg.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Aa extends gs{constructor(e){super(e,{code:Aa.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Gg extends gs{constructor(e){super(e,{code:Gg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Kg extends gs{constructor(e){super(e,{code:Kg.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Qg extends gs{constructor(e){super(e,{code:Qg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Yg extends gs{constructor(e){super(e,{code:Yg.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Jg extends gs{constructor(e){super(e,{code:Jg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Zg extends gs{constructor(e){super(e,{code:Zg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xg extends gs{constructor(e){super(e,{code:Xg.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Vde extends zi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Gde=3;function Ad(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof nE?t:t instanceof se?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:u,details:l,message:d,shortMessage:f}=a,h=(()=>t instanceof yy?new qde({functionName:s}):[Gde,vd.code].includes(c)&&(u||l||d||f)?new R_({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof k3?l:f??d}):t)();return new rF(h,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}function Kde(t){const e=$n(`0x${t.substring(4)}`).substring(26);return by(`0x${e}`)}async function Qde({hash:t,signature:e}){const r=Ea(t)?t:ls(t),{secp256k1:n}=await Zn(()=>Promise.resolve().then(()=>pge),void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:l,v:d,yParity:f}=e,h=Number(f??d),p=vP(h);return new n.Signature(us(u),us(l)).addRecoveryBit(p)}const o=Ea(e)?e:ls(e);if(Or(o)!==65)throw new Error("invalid signature length");const a=Ro(`0x${o.slice(130)}`),c=vP(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function vP(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function nF({hash:t,signature:e}){return Kde(await Qde({hash:t,signature:e}))}function Yde(t,e="hex"){const r=iF(t),n=R3(new Uint8Array(r.length));return r.encode(n),e==="hex"?dn(n.bytes):n.bytes}function iF(t){return Array.isArray(t)?Jde(t.map(e=>iF(e))):Zde(t)}function Jde(t){const e=t.reduce((i,s)=>i+s.length,0),r=sF(e);return{length:(()=>e<=55?1+e:1+r+e)(),encode(i){e<=55?i.pushByte(192+e):(i.pushByte(192+55+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Zde(t){const e=typeof t=="string"?ds(t):t,r=sF(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length)(),encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(128+55+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function sF(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new se("Length is too large.")}function Xde(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=$n(N0(["0x05",Yde([e?De(e):"0x",i,r?De(r):"0x"])]));return n==="bytes"?ds(s):s}async function oF(t){const{authorization:e,signature:r}=t;return nF({hash:Xde(e),signature:r??e})}class efe extends se{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var p;const h=_y({from:r==null?void 0:r.address,to:d,value:typeof f<"u"&&`${rE(f)} ${((p=i==null?void 0:i.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${$i(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${$i(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${$i(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Ll extends se{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Ll,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ll,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class vb extends se{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${$i(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(vb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class O_ extends se{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${$i(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(O_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class k_ extends se{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(k_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class D_ extends se{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(D_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class M_ extends se{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(M_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class B_ extends se{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(B_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class U_ extends se{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(U_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class F_ extends se{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(F_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class $_ extends se{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty($_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Eb extends se{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${$i(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${$i(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Eb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Cy extends se{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function iE(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof se?t.walk(i=>(i==null?void 0:i.code)===Ll.code):t;return n instanceof se?new Ll({cause:t,message:n.details}):Ll.nodeMessage.test(r)?new Ll({cause:t,message:t.details}):vb.nodeMessage.test(r)?new vb({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):O_.nodeMessage.test(r)?new O_({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):k_.nodeMessage.test(r)?new k_({cause:t,nonce:e==null?void 0:e.nonce}):D_.nodeMessage.test(r)?new D_({cause:t,nonce:e==null?void 0:e.nonce}):M_.nodeMessage.test(r)?new M_({cause:t,nonce:e==null?void 0:e.nonce}):B_.nodeMessage.test(r)?new B_({cause:t}):U_.nodeMessage.test(r)?new U_({cause:t,gas:e==null?void 0:e.gas}):F_.nodeMessage.test(r)?new F_({cause:t,gas:e==null?void 0:e.gas}):$_.nodeMessage.test(r)?new $_({cause:t}):Eb.nodeMessage.test(r)?new Eb({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Cy({cause:t})}function tfe(t,{docsPath:e,...r}){const n=(()=>{const i=iE(t,r);return i instanceof Cy?t:i})();return new efe(n,{docsPath:e,...r})}function sE(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}const rfe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function P0(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=nfe(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>dn(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=De(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=De(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=De(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=De(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=De(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=De(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=rfe[t.type]),typeof t.value<"u"&&(e.value=De(t.value)),e}function nfe(t){return t.map(e=>({address:e.address,r:e.r?De(BigInt(e.r)):e.r,s:e.s?De(BigInt(e.s)):e.s,chainId:De(e.chainId),nonce:De(e.nonce),...typeof e.yParity<"u"?{yParity:De(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:De(e.v)}:{}}))}function EP(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new oP({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new oP({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function ife(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=De(e)),r!==void 0&&(o.nonce=De(r)),n!==void 0&&(o.state=EP(n)),i!==void 0){if(o.state)throw new Bde;o.stateDiff=EP(i)}return o}function D3(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!Oo(r,{strict:!1}))throw new Gu({address:r});if(e[r])throw new Mde({address:r});e[r]=ife(n)}return e}const sfe=2n**256n-1n;function Kd(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=t,o=e?Dr(e):void 0;if(o&&!Oo(o.address))throw new Gu({address:o.address});if(s&&!Oo(s))throw new Gu({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Fde;if(n&&n>sfe)throw new vb({maxFeePerGas:n});if(i&&n&&i>n)throw new Eb({maxFeePerGas:n,maxPriorityFeePerGas:i})}class ofe extends se{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class M3 extends se{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class afe extends se{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${$i(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class aF extends se{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const cF={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function uF(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ro(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ro(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?cF[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=cfe(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function cfe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function lF(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:uF(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function ua(t,{blockHash:e,blockNumber:r,blockTag:n,includeTransactions:i}={}){var l,d,f;const s=n??"latest",o=i??!1,a=r!==void 0?De(r):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!c)throw new aF({blockHash:e,blockNumber:r});return(((f=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:f.format)||lF)(c)}async function B3(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function ufe(t,e){return dF(t,e)}async function dF(t,e){var s,o;const{block:r,chain:n=t.chain,request:i}=e||{};try{const a=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=r||await ke(t,ua,"getBlock")({}),l=await a({block:u,client:t,request:i});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return us(c)}catch{const[a,c]=await Promise.all([r?Promise.resolve(r):ke(t,ua,"getBlock")({}),ke(t,B3,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new M3;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function lfe(t,e){return L_(t,e)}async function L_(t,e){var f,h;const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=n==null?void 0:n.fees)==null?void 0:p.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):((g=n==null?void 0:n.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new ofe;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),u=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),l=r||await ke(t,ua,"getBlock")({});if(typeof((h=n==null?void 0:n.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:u,request:i,type:s});if(p!==null)return p}if(s==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new M3;const p=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await dF(t,{block:l,chain:n,request:i}),g=u(l.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(i==null?void 0:i.gasPrice)??u(await ke(t,B3,"getGasPrice")({}))}}async function U3(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,n?De(n):r]},{dedupe:!!n});return Ro(i)}function fF(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>ds(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>dn(s))}function hF(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>ds(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>ds(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?s:s.map(o=>dn(o))}function dfe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function ffe(t,e,r){return t&e^~t&r}function hfe(t,e,r){return t&e^t&r^e&r}class pfe extends S3{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=AA(this.buffer)}update(e){Yh(this);const{view:r,buffer:n,blockLen:i}=this;e=Zv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=AA(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Yh(this),DU(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;dfe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=AA(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const gfe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kc=new Uint32Array(64);let mfe=class extends pfe{constructor(e=32){super(64,e,8,!1),this.A=Gc[0]|0,this.B=Gc[1]|0,this.C=Gc[2]|0,this.D=Gc[3]|0,this.E=Gc[4]|0,this.F=Gc[5]|0,this.G=Gc[6]|0,this.H=Gc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Kc[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=Kc[d-15],h=Kc[d-2],p=zo(f,7)^zo(f,18)^f>>>3,g=zo(h,17)^zo(h,19)^h>>>10;Kc[d]=g+Kc[d-7]+p+Kc[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=zo(a,6)^zo(a,11)^zo(a,25),h=l+f+ffe(a,c,u)+gfe[d]+Kc[d]|0,g=(zo(n,2)^zo(n,13)^zo(n,22))+hfe(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){Kc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const em=MU(()=>new mfe);function yfe(t,e){const r=e||"hex",n=em(Ea(t,{strict:!1})?I0(t):t);return r==="bytes"?n:ls(n)}function wfe(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=yfe(e,"bytes");return i.set([r],0),n==="bytes"?i:dn(i)}function bfe(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(wfe({commitment:s,to:n,version:r}));return i}const AP=6,pF=32,F3=4096,gF=pF*F3,_P=gF*AP-1-1*F3*AP;class vfe extends se{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class Efe extends se{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Afe(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?ds(t.data):t.data,n=Or(r);if(!n)throw new Efe;if(n>_P)throw new vfe({maxSize:_P,size:n});const i=[];let s=!0,o=0;for(;s;){const a=R3(new Uint8Array(gF));let c=0;for(;c<F3;){const u=r.slice(o,o+(pF-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>dn(a.bytes))}function _fe(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??Afe({data:e,to:n}),s=t.commitments??fF({blobs:i,kzg:r,to:n}),o=t.proofs??hF({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function Cfe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new $de({transaction:t})}async function R0(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ro(e)}const mF=["blobVersionedHashes","chainId","fees","gas","nonce","type"],CP=new Map;async function xy(t,e){const{account:r=t.account,blobs:n,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:u=mF,type:l}=e,d=r&&Dr(r),f={...e,...d?{from:d==null?void 0:d.address}:{}};let h;async function p(){return h||(h=await ke(t,ua,"getBlock")({blockTag:"latest"}),h)}let g;async function w(){return g||(i?i.id:typeof e.chainId<"u"?e.chainId:(g=await ke(t,R0,"getChainId")({}),g))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const y=await w();f.nonce=await c.consume({address:d.address,chainId:y,client:t})}else f.nonce=await ke(t,U3,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&n&&o){const y=fF({blobs:n,kzg:o});if(u.includes("blobVersionedHashes")){const b=bfe({commitments:y,to:"hex"});f.blobVersionedHashes=b}if(u.includes("sidecars")){const b=hF({blobs:n,commitments:y,kzg:o}),E=_fe({blobs:n,commitments:y,proofs:b,to:"hex"});f.sidecars=E}}if(u.includes("chainId")&&(f.chainId=await w()),(u.includes("fees")||u.includes("type"))&&typeof l>"u")try{f.type=Cfe(f)}catch{let y=CP.get(t.uid);if(typeof y>"u"){const b=await p();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",CP.set(t.uid,y)}f.type=y?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const y=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:E}=await L_(t,{block:y,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<E)throw new afe({maxPriorityFeePerGas:E});f.maxPriorityFeePerGas=E,f.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new M3;if(typeof e.gasPrice>"u"){const y=await p(),{gasPrice:b}=await L_(t,{block:y,chain:i,request:f,type:"legacy"});f.gasPrice=b}}return u.includes("gas")&&typeof s>"u"&&(f.gas=await ke(t,oE,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Kd(f),delete f.parameters,f}async function $3(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r?De(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function oE(t,e){var i,s,o;const{account:r=t.account}=e,n=r?Dr(r):void 0;try{let m=function(A){const{block:T,request:I,rpcStateOverride:R}=A;return t.request({method:"eth_estimateGas",params:R?[I,T??"latest",R]:T?[I,T]:[I]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,blockNumber:d,blockTag:f,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:E,value:x,stateOverride:N,...O}=await xy(t,{...e,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),U=(d?De(d):void 0)||f,D=D3(N),W=await(async()=>{if(O.to)return O.to;if(c&&c.length>0)return await oF({authorization:c[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`")})})();Kd(e);const H=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,$=(H||P0)({...sE(O,{format:H}),from:n==null?void 0:n.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:E,to:W,value:x});let v=BigInt(await m({block:U,request:$,rpcStateOverride:D}));if(c){const A=await $3(t,{address:$.from}),T=await Promise.all(c.map(async I=>{const{address:R}=I,L=await m({block:U,request:{authorizationList:void 0,data:h,from:n==null?void 0:n.address,to:R,value:De(A)},rpcStateOverride:D}).catch(()=>100000n);return 2n*BigInt(L)}));v+=T.reduce((I,R)=>I+R,0n)}return v}catch(a){throw tfe(a,{...e,account:n,chain:t.chain})}}async function yF(t,e){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=e,c=Qs({abi:r,args:i,functionName:s});try{return await ke(t,oE,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:n,...a})}catch(u){const l=a.account?Dr(a.account):void 0;throw Ad(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}function aE(t,e){if(!Oo(t,{strict:!1}))throw new Gu({address:t});if(!Oo(e,{strict:!1}))throw new Gu({address:e});return t.toLowerCase()===e.toLowerCase()}const xP="/docs/contract/decodeEventLog";function L3(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new yle({docsPath:xP});const c=(()=>e.length===1?e[0]:e.find(g=>g.type==="event"&&o===Xv(Po(g))))();if(!(c&&"name"in c)||c.type!=="event")throw new SU(o,{docsPath:xP});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(g=>!("name"in g&&g.name));let f=d?[]:{};const h=l.filter(g=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const w=h[g],y=a[g];if(!y)throw new Jv({abiItem:c,param:w});f[d?g:w.name||g]=xfe({param:w,value:y})}const p=l.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(r&&r!=="0x")try{const g=Ay(p,r);if(g)if(d)f=[...f,...g];else for(let w=0;w<p.length;w++)f[p[w].name]=g[w]}catch(g){if(s)throw g instanceof CU||g instanceof YU?new Mg({abiItem:c,data:r,params:p,size:Or(r)}):g}else if(s)throw new Mg({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function xfe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Ay([t],e)||[])[0]}function j3(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{var a;try{const c=e.find(l=>l.type==="event"&&o.topics[0]===Xv(l));if(!c)return null;const u=L3({...o,abi:[c],strict:i});return s&&!s.includes(u.eventName)||!Sfe({args:u.args,inputs:c.inputs,matchArgs:r})?null:{...u,...o}}catch(c){let u,l;if(c instanceof SU)return null;if(c instanceof Mg||c instanceof Jv){if(i)return null;u=c.abiItem.name,l=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:l?[]:{},eventName:u}}}).filter(Boolean)}function Sfe(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?aE(o,a):s.type==="string"||s.type==="bytes"?$n(I0(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(u=>i(a,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(u=>u.name===s);return a?(Array.isArray(o)?o:[o]).some(u=>i(a,u,e[s])):!1}):!1}function Cc(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function z3(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:c}={}){const u=c??!1,l=o??(s?[s]:void 0);let d=[];l&&(d=[l.flatMap(g=>Ey({abi:[g],eventName:g.name,args:o?void 0:a}))],s&&(d=d[0]));let f;r?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:r}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof n=="bigint"?De(n):n,toBlock:typeof i=="bigint"?De(i):i}]});const h=f.map(p=>Cc(p));return l?j3({abi:l,args:a,logs:h,strict:u}):h}async function q3(t,e){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:u}=e,l=o?Gd({abi:r,name:o}):void 0,d=l?void 0:r.filter(f=>f.type==="event");return ke(t,z3,"getLogs")({address:n,args:i,blockHash:s,event:l,events:d,fromBlock:a,toBlock:c,strict:u})}const xA="/docs/contract/decodeFunctionResult";function Qd(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=Gd({abi:e,args:r,name:n});if(!a)throw new Kh(n,{docsPath:xA});s=a}if(s.type!=="function")throw new Kh(void 0,{docsPath:xA});if(!s.outputs)throw new IU(s.name,{docsPath:xA});const o=Ay(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const j_=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],z_=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],wF=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],bF=[...wF,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ife=[...wF,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],SP=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],IP=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],NP=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Nfe="0x82ad56cb",vF="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Tfe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Pfe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class q_ extends se{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Rfe extends se{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class Ofe extends se{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class EF extends se{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const SA="/docs/contract/encodeDeployData";function cE(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new fle({docsPath:SA});if(!("inputs"in i))throw new nP({docsPath:SA});if(!i.inputs||i.inputs.length===0)throw new nP({docsPath:SA});const s=sl(i.inputs,r);return N0([n,s])}function O0({blockNumber:t,chain:e,contract:r}){var i;const n=(i=e==null?void 0:e.contracts)==null?void 0:i[r];if(!n)throw new q_({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new q_({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function AF(t,{docsPath:e,...r}){const n=(()=>{const i=iE(t,r);return i instanceof Cy?t:i})();return new tF(n,{docsPath:e,...r})}function H3(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const IA=new Map;function _F({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const l=c();o();const d=l.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<l.length;h++){const{resolve:p}=l[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<l.length;h++){const{reject:p}=l[h];p==null||p(f)}})},o=()=>IA.delete(e),a=()=>c().map(({args:l})=>l),c=()=>IA.get(e)||[],u=l=>IA.set(e,[...c(),l]);return{flush:o,async schedule(l){const{promise:d,resolve:f,reject:h}=H3();return(r==null?void 0:r([...a(),l]))&&s(),c().length>0?(u({args:l,resolve:f,reject:h}),d):(u({args:l,resolve:f,reject:h}),setTimeout(s,n),d)}}}async function Sy(t,e){var H,Q,$,m;const{account:r=t.account,batch:n=!!((H=t.batch)!=null&&H.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:c,data:u,factory:l,factoryData:d,gas:f,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:y,to:b,value:E,stateOverride:x,...N}=e,O=r?Dr(r):void 0;if(c&&(l||d))throw new se("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&b)throw new se("Cannot provide both `code` & `to` as parameters.");const k=c&&u,U=l&&d&&b&&u,D=k||U,W=(()=>k?Mfe({code:c,data:u}):U?Bfe({data:u,factory:l,factoryData:d,to:b}):u)();try{Kd(e);const A=(i?De(i):void 0)||s,T=D3(x),I=(m=($=(Q=t.chain)==null?void 0:Q.formatters)==null?void 0:$.transactionRequest)==null?void 0:m.format,L=(I||P0)({...sE(N,{format:I}),from:O==null?void 0:O.address,accessList:o,blobs:a,data:W,gas:f,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:y,to:D?void 0:b,value:E});if(n&&kfe({request:L})&&!T)try{return await Dfe(t,{...L,blockNumber:i,blockTag:s})}catch(_){if(!(_ instanceof EF)&&!(_ instanceof q_))throw _}const M=await t.request({method:"eth_call",params:T?[L,A,T]:[L,A]});return M==="0x"?{data:void 0}:{data:M}}catch(v){const A=Ufe(v),{offchainLookup:T,offchainLookupSignature:I}=await Zn(()=>import("./ccip-24de7485.js"),[]);if(t.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===I&&b)return{data:await T(t,{data:A,to:b})};throw D&&(A==null?void 0:A.slice(0,10))==="0x101bb98d"?new Hde({factory:l}):AF(v,{...e,account:O,chain:t.chain})}}function kfe({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(Nfe)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function Dfe(t,e){var g;const{batchSize:r=1024,wait:n=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:c}=e;let u=a;if(!u){if(!t.chain)throw new EF;u=O0({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=(i?De(i):void 0)||s,{schedule:f}=_F({id:`${t.uid}.${d}`,wait:n,shouldSplitBatch(w){return w.reduce((b,{data:E})=>b+(E.length-2),0)>r*2},fn:async w=>{const y=w.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),b=Qs({abi:j_,args:[y],functionName:"aggregate3"}),E=await t.request({method:"eth_call",params:[{data:b,to:u},d]});return Qd({abi:j_,args:[y],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:h,success:p}]=await f({data:o,to:c});if(!p)throw new nE({data:h});return h==="0x"?{data:void 0}:{data:h}}function Mfe(t){const{code:e,data:r}=t;return cE({abi:kM(["constructor(bytes, bytes)"]),bytecode:vF,args:[e,r]})}function Bfe(t){const{data:e,factory:r,factoryData:n,to:i}=t;return cE({abi:kM(["constructor(address, bytes, address, bytes)"]),bytecode:Tfe,args:[i,e,r,n]})}function Ufe(t){var r;if(!(t instanceof se))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function ko(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=Qs({abi:r,args:i,functionName:s});try{const{data:c}=await ke(t,Sy,"call")({...o,data:a,to:n});return Qd({abi:r,args:i,functionName:s,data:c||"0x"})}catch(c){throw Ad(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function CF(t,e){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=e,c=a.account?Dr(a.account):t.account,u=Qs({abi:r,args:i,functionName:o});try{const{data:l}=await ke(t,Sy,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:n,...a,account:c}),d=Qd({abi:r,args:i,functionName:o,data:l||"0x"}),f=r.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:n,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(l){throw Ad(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const NA=new Map,TP=new Map;let Ffe=0;function xc(t,e,r){const n=++Ffe,i=()=>NA.get(t)||[],s=()=>{const l=i();NA.set(t,l.filter(d=>d.id!==n))},o=()=>{const l=i();if(!l.some(f=>f.id===n))return;const d=TP.get(t);l.length===1&&d&&d(),s()},a=i();if(NA.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const c={};for(const l in e)c[l]=(...d)=>{var h,p;const f=i();if(f.length!==0)for(const g of f)(p=(h=g.fns)[l])==null||p.call(h,...d)};const u=r(c);return typeof u=="function"&&TP.set(t,u),o}async function Ab(t){return new Promise(e=>setTimeout(e,t))}function k0(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(r==null?void 0:r(a))??n;await Ab(c);const u=async()=>{i&&(await t({unpoll:s}),await Ab(n),u())};u()})(),s}const $fe=new Map,Lfe=new Map;function jfe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,$fe),n=e(t,Lfe);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function zfe(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=jfe(e),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const qfe=t=>`blockNumber.${t}`;async function Iy(t,{cacheTime:e=t.cacheTime}={}){const r=await zfe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:qfe(t.uid),cacheTime:e});return BigInt(r)}async function uE(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>Cc(s));return!("abi"in e)||!e.abi?i:j3({abi:e.abi,logs:i,strict:r})}async function lE(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function xF(t,e){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:d=t.pollingInterval,strict:f}=e;return(()=>typeof l<"u"?l:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))()?(()=>{const w=f??!1,y=ln(["watchContractEvent",n,i,s,t.uid,o,d,w,a]);return xc(y,{onLogs:u,onError:c},b=>{let E;a!==void 0&&(E=a-1n);let x,N=!1;const O=k0(async()=>{var k;if(!N){try{x=await ke(t,P3,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:w,fromBlock:a})}catch{}N=!0;return}try{let U;if(x)U=await ke(t,uE,"getFilterChanges")({filter:x});else{const D=await ke(t,Iy,"getBlockNumber")({});E&&E<D?U=await ke(t,q3,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:E+1n,toBlock:D,strict:w}):U=[],E=D}if(U.length===0)return;if(s)b.onLogs(U);else for(const D of U)b.onLogs([D])}catch(U){x&&U instanceof Ed&&(N=!1),(k=b.onError)==null||k.call(b,U)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await ke(t,lE,"uninstallFilter")({filter:x}),O()}})})():(()=>{const w=f??!1,y=ln(["watchContractEvent",n,i,s,t.uid,o,d,w]);let b=!0,E=()=>b=!1;return xc(y,{onLogs:u,onError:c},x=>((async()=>{try{const N=(()=>{if(t.transport.type==="fallback"){const U=t.transport.transports.find(D=>D.config.type==="webSocket");return U?U.value:t.transport}return t.transport})(),O=o?Ey({abi:r,eventName:o,args:i}):[],{unsubscribe:k}=await N.subscribe({params:["logs",{address:n,topics:O}],onData(U){var W;if(!b)return;const D=U.result;try{const{eventName:H,args:Q}=L3({abi:r,data:D.data,topics:D.topics,strict:f}),$=Cc(D,{args:Q,eventName:H});x.onLogs([$])}catch(H){let Q,$;if(H instanceof Mg||H instanceof Jv){if(f)return;Q=H.abiItem.name,$=(W=H.abiItem.inputs)==null?void 0:W.some(v=>!("name"in v&&v.name))}const m=Cc(D,{args:$?[]:{},eventName:Q});x.onLogs([m])}},onError(U){var D;(D=x.onError)==null||D.call(x,U)}});E=k,b||E()}catch(N){c==null||c(N)}})(),()=>E()))})()}class ol extends se{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class yw extends se{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function SF({chain:t,currentChainId:e}){if(!t)throw new Ofe;if(e!==t.id)throw new Rfe({chain:t,currentChainId:e})}function IF(t,{docsPath:e,...r}){const n=(()=>{const i=iE(t,r);return i instanceof Cy?t:i})();return new Lde(n,{docsPath:e,...r})}async function W3(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const TA=new eE(128);async function dE(t,e){var y,b,E,x;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,value:p,...g}=e;if(typeof r>"u")throw new ol({docsPath:"/docs/actions/wallet/sendTransaction"});const w=r?Dr(r):null;try{Kd(e);const N=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await oF({authorization:s[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let O;n!==null&&(O=await ke(t,R0,"getChainId")({}),SF({currentChainId:O,chain:n}));const k=(E=(b=(y=t.chain)==null?void 0:y.formatters)==null?void 0:b.transactionRequest)==null?void 0:E.format,D=(k||P0)({...sE(g,{format:k}),accessList:i,authorizationList:s,blobs:o,chainId:O,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:N,value:p}),W=TA.get(t.uid),H=W?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:H,params:[D]},{retryCount:0})}catch(Q){if(W===!1)throw Q;const $=Q;if($.name==="InvalidInputRpcError"||$.name==="InvalidParamsRpcError"||$.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[D]},{retryCount:0}).then(m=>(TA.set(t.uid,!0),m)).catch(m=>{const v=m;throw v.name==="MethodNotFoundRpcError"||v.name==="MethodNotSupportedRpcError"?(TA.set(t.uid,!1),$):v});throw $}}if((w==null?void 0:w.type)==="local"){const O=await ke(t,xy,"prepareTransactionRequest")({account:w,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:w.nonceManager,parameters:[...mF,"sidecars"],value:p,...g,to:N}),k=(x=n==null?void 0:n.serializers)==null?void 0:x.transaction,U=await w.signTransaction(O,{serializer:k});return await ke(t,W3,"sendRawTransaction")({serializedTransaction:U})}throw(w==null?void 0:w.type)==="smart"?new yw({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new yw({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(N){throw N instanceof yw?N:IF(N,{...e,account:w,chain:e.chain||void 0})}}async function V3(t,e){const{abi:r,account:n=t.account,address:i,args:s,dataSuffix:o,functionName:a,...c}=e;if(typeof n>"u")throw new ol({docsPath:"/docs/contract/writeContract"});const u=n?Dr(n):null,l=Qs({abi:r,args:s,functionName:a});try{return await ke(t,dE,"sendTransaction")({data:`${l}${o?o.replace("0x",""):""}`,to:i,account:u,...c})}catch(d){throw Ad(d,{abi:r,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:u==null?void 0:u.address})}}function Hfe({abi:t,address:e,client:r}){const n=r,[i,s]=(()=>n?"public"in n&&"wallet"in n?[n.public,n.wallet]:"public"in n?[n.public,void 0]:"wallet"in n?[void 0,n.wallet]:[n,n]:[void 0,void 0])(),o=i!=null,a=s!=null,c={};let u=!1,l=!1,d=!1;for(const f of t)if(f.type==="function"?f.stateMutability==="view"||f.stateMutability==="pure"?u=!0:l=!0:f.type==="event"&&(d=!0),u&&l&&d)break;return o&&(u&&(c.read=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=x1(p);return ke(i,ko,"readContract")({abi:t,address:e,functionName:h,args:g,...w})}}})),l&&(c.simulate=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=x1(p);return ke(i,CF,"simulateContract")({abi:t,address:e,functionName:h,args:g,...w})}}})),d&&(c.createEventFilter=new Proxy({},{get(f,h){return(...p)=>{const g=t.find(b=>b.type==="event"&&b.name===h),{args:w,options:y}=PA(p,g);return ke(i,P3,"createContractEventFilter")({abi:t,address:e,eventName:h,args:w,...y})}}}),c.getEvents=new Proxy({},{get(f,h){return(...p)=>{const g=t.find(b=>b.type==="event"&&b.name===h),{args:w,options:y}=PA(p,g);return ke(i,q3,"getContractEvents")({abi:t,address:e,eventName:h,args:w,...y})}}}),c.watchEvent=new Proxy({},{get(f,h){return(...p)=>{const g=t.find(b=>b.type==="event"&&b.name===h),{args:w,options:y}=PA(p,g);return ke(i,xF,"watchContractEvent")({abi:t,address:e,eventName:h,args:w,...y})}}}))),a&&l&&(c.write=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=x1(p);return ke(s,V3,"writeContract")({abi:t,address:e,functionName:h,args:g,...w})}}})),(o||a)&&l&&(c.estimateGas=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=x1(p);return ke(i??s,yF,"estimateContractGas")({abi:t,address:e,functionName:h,args:g,...w,account:w.account??s.account})}}})),c.address=e,c.abi=t,c}function x1(t){const e=t.length&&Array.isArray(t[0]),r=e?t[0]:[],n=(e?t[1]:t[0])??{};return{args:r,options:n}}function PA(t,e){let r=!1;Array.isArray(t[0])?r=!0:t.length===1?r=e.inputs.some(s=>s.indexed):t.length===2&&(r=!0);const n=r?t[0]:void 0,i=(r?t[1]:t[0])??{};return{args:n,options:i}}const NF={"0x0":"reverted","0x1":"success"};function Wfe(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Cc(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ro(t.transactionIndex):null,status:t.status?NF[t.status]:null,type:t.type?cF[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function TF(t,e){const{atomic:r=!1,chainId:n,receipts:i,version:s="2.0.0",...o}=await t.request({method:"wallet_getCallsStatus",params:[e.id]}),[a,c]=(()=>{const u=o.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...o,atomic:r,chainId:n?Ro(n):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:us(u.blockNumber),gasUsed:us(u.gasUsed),status:NF[u.status]})))??[],statusCode:c,status:a,version:s}}async function Vfe(t,e){const{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:f})=>f>=200,timeout:s=6e4}=e,o=ln(["waitForCallsStatus",t.uid,r]),{promise:a,resolve:c,reject:u}=H3();let l;const d=xc(o,{resolve:c,reject:u},f=>{const h=k0(async()=>{const p=g=>{clearTimeout(l),h(),g(),d()};try{const g=await TF(t,{id:r});if(!i(g))return;p(()=>f.resolve(g))}catch(g){p(()=>f.reject(g))}},{interval:n,emitOnBegin:!0});return h});return l=s?setTimeout(()=>{d(),clearTimeout(l),u(new Gfe({id:r}))},s):void 0,await a}class Gfe extends se{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const H_=256;let S1=H_,I1;function PF(t=11){if(!I1||S1+t>H_*2){I1="",S1=0;for(let e=0;e<H_;e++)I1+=(256+Math.random()*256|0).toString(16).substring(1)}return I1.substring(S1,S1+++t)}function RF(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,ccipRead:n,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,c=t.chain,u=t.account?Dr(t.account):void 0,{config:l,request:d,value:f}=t.transport({chain:c,pollingInterval:o}),h={...l,...f},p={account:u,batch:e,cacheTime:r,ccipRead:n,chain:c,key:i,name:s,pollingInterval:o,request:d,transport:h,type:a,uid:PF()};function g(w){return y=>{const b=y(w);for(const x in p)delete b[x];const E={...w,...b};return Object.assign(E,{extend:g(E)})}}return Object.assign(p,{extend:g(p)})}const N1=new eE(8192);function Kfe(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(N1.get(r))return N1.get(r);const n=t().finally(()=>N1.delete(r));return N1.set(r,n),n}function _b(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof e=="function"?e({count:a,error:u}):e;l&&await Ab(l),o({count:a+1})};try{const u=await t();i(u)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});s(u)}};o()})}function Qfe(t,e={}){return async(r,n={})=>{var d;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:u}=r;if((d=s==null?void 0:s.exclude)!=null&&d.includes(u))throw new $l(new Error("method not supported"),{method:u});if(s!=null&&s.include&&!s.include.includes(u))throw new $l(new Error("method not supported"),{method:u});const l=i?Qh(`${c}.${ln(r)}`):void 0;return Kfe(()=>_b(async()=>{try{return await t(r)}catch(f){const h=f;switch(h.code){case Ug.code:throw new Ug(h);case Fg.code:throw new Fg(h);case $g.code:throw new $g(h,{method:r.method});case Lg.code:throw new Lg(h);case vd.code:throw new vd(h);case Ed.code:throw new Ed(h);case jg.code:throw new jg(h);case Lu.code:throw new Lu(h);case Zh.code:throw new Zh(h);case $l.code:throw new $l(h,{method:r.method});case Xh.code:throw new Xh(h);case zg.code:throw new zg(h);case tn.code:throw new tn(h);case qg.code:throw new qg(h);case Hg.code:throw new Hg(h);case Wg.code:throw new Wg(h);case Vg.code:throw new Vg(h);case Aa.code:throw new Aa(h);case Gg.code:throw new Gg(h);case Kg.code:throw new Kg(h);case Qg.code:throw new Qg(h);case Yg.code:throw new Yg(h);case Jg.code:throw new Jg(h);case Zg.code:throw new Zg(h);case Xg.code:throw new Xg(h);case 5e3:throw new tn(h);default:throw f instanceof se?f:new Vde(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof Yp){const g=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Yfe(f)}),{enabled:i,id:l})}}function Yfe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Xh.code||t.code===vd.code:t instanceof Yp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function G3({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=PF();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:Qfe(n,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:c}}function Jfe(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>G3({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function PP(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=Zfe,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:u=4e3,timeout:l,...d})=>{let f=t,h=()=>{};const p=G3({key:r,name:n,async request({method:g,params:w}){let y;const b=async(E=0)=>{const x=f[E]({...d,chain:c,retryCount:0,timeout:l});try{const N=await x.request({method:g,params:w});return h({method:g,params:w,response:N,transport:x,status:"success"}),N}catch(N){if(h({error:N,method:g,params:w,transport:x,status:"error"}),s(N)||E===f.length-1||(y??(y=f.slice(E+1).some(O=>{const{include:k,exclude:U}=O({chain:c}).config.methods||{};return k?k.includes(g):U?!U.includes(g):!0})),!y))throw N;return b(E+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:f.map(g=>g({chain:c,retryCount:0}))});if(i){const g=typeof i=="object"?i:{};Xfe({chain:c,interval:g.interval??u,onTransports:w=>f=w,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:f,weights:g.weights})}return p}}function Zfe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Zh.code||t.code===tn.code||Ll.nodeMessage.test(t.message)||t.code===5e3))}function Xfe({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],d=async()=>{const f=await Promise.all(o.map(async g=>{const w=g({chain:t,retryCount:0,timeout:s}),y=Date.now();let b,E;try{await(n?n({transport:w}):w.request({method:"net_listening"})),E=1}catch{E=0}finally{b=Date.now()}return{latency:b-y,success:E}}));l.push(f),l.length>i&&l.shift();const h=Math.max(...l.map(g=>Math.max(...g.map(({latency:w})=>w)))),p=o.map((g,w)=>{const y=l.map(O=>O[w].latency),E=1-y.reduce((O,k)=>O+k,0)/y.length/h,x=l.map(O=>O[w].success),N=x.reduce((O,k)=>O+k,0)/x.length;return N===0?[0,w]:[u*E+c*N,w]}).sort((g,w)=>w[0]-g[0]);r(p.map(([,g])=>o[g])),await Ab(e),d()};d()}class ehe extends se{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function OF(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function the(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const RP=the();function rhe(t,e={}){return{async request(r){var d;const{body:n,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:u,signal:l}=a;try{const f=await OF(async({signal:p})=>{const g={...a,body:Array.isArray(n)?ln(n.map(E=>({jsonrpc:"2.0",id:E.id??RP.take(),...E}))):ln({jsonrpc:"2.0",id:n.id??RP.take(),...n}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:l||(o>0?p:null)},w=new Request(t,g),y=await(i==null?void 0:i(w,g))??{...g,url:t};return await fetch(y.url??t,y)},{errorInstance:new bP({body:n,url:t}),timeout:o,signal:!0});s&&await s(f);let h;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))h=await f.json();else{h=await f.text();try{h=JSON.parse(h||"{}")}catch(p){if(f.ok)throw p;h={error:h}}}if(!f.ok)throw new Yp({body:n,details:ln(h.error)||f.statusText,headers:f.headers,status:f.status,url:t});return h}catch(f){throw f instanceof Yp||f instanceof bP?f:new Yp({body:n,cause:f,url:t})}}}}function T1(t,e={}){const{batch:r,fetchOptions:n,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:l}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:p=1e3,wait:g=0}=typeof r=="object"?r:{},w=e.retryCount??f,y=h??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new ehe;const E=rhe(b,{fetchOptions:n,onRequest:a,onResponse:c,timeout:y});return G3({key:i,methods:s,name:o,async request({method:x,params:N}){const O={method:x,params:N},{schedule:k}=_F({id:b,wait:g,shouldSplitBatch(H){return H.length>p},fn:H=>E.request({body:H}),sort:(H,Q)=>H.id-Q.id}),U=async H=>r?k(H):[await E.request({body:H})],[{error:D,result:W}]=await U(O);if(l)return{error:D,result:W};if(D)throw new k3({body:O,error:D,url:b});return W},retryCount:w,retryDelay:u,timeout:y,type:"http"},{fetchOptions:n,url:b})}}function K3(t,e){var n,i,s,o,a,c;if(!(t instanceof se))return!1;const r=t.walk(u=>u instanceof R_);return r instanceof R_?!!(((n=r.data)==null?void 0:n.errorName)==="ResolverNotFound"||((i=r.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=r.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=r.data)==null?void 0:o.errorName)==="ResolverError"||((a=r.data)==null?void 0:a.errorName)==="HttpError"||(c=r.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&r.reason===KU[50]):!1}function nhe(t){const{abi:e,data:r}=t,n=Jh(r,0,4),i=e.find(s=>s.type==="function"&&n===vy(Po(s)));if(!i)throw new wle(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Ay(i.inputs,Jh(r,4)):void 0}}const RA="/docs/contract/encodeErrorResult";function OP(t){const{abi:e,errorName:r,args:n}=t;let i=e[0];if(r){const c=Gd({abi:e,args:n,name:r});if(!c)throw new iP(r,{docsPath:RA});i=c}if(i.type!=="error")throw new iP(void 0,{docsPath:RA});const s=Po(i),o=vy(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new mle(i.name,{docsPath:RA});a=sl(i.inputs,n)}return N0([o,a])}const OA="/docs/contract/encodeFunctionResult";function ihe(t){const{abi:e,functionName:r,result:n}=t;let i=e[0];if(r){const o=Gd({abi:e,name:r});if(!o)throw new Kh(r,{docsPath:OA});i=o}if(i.type!=="function")throw new Kh(void 0,{docsPath:OA});if(!i.outputs)throw new IU(i.name,{docsPath:OA});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new NU(n)})();return sl(i.outputs,s)}const kF="x-batch-gateway:true";async function ASe(t){const{data:e,ccipRequest:r}=t,{args:[n]}=nhe({abi:z_,data:e}),i=[],s=[];return await Promise.all(n.map(async(o,a)=>{try{s[a]=await r(o),i[a]=!1}catch(c){i[a]=!0,s[a]=she(c)}})),ihe({abi:z_,functionName:"query",result:[i,s]})}function she(t){return t.name==="HttpRequestError"&&t.status?OP({abi:z_,errorName:"HttpError",args:[t.status,t.shortMessage]}):OP({abi:[QU],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function DF(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ea(e)?e:null}function ww(t){let e=new Uint8Array(32).fill(0);if(!t)return dn(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=DF(r[n]),s=i?I0(i):$n(nd(r[n]),"bytes");e=$n(_c([e,s]),"bytes")}return dn(e)}function ohe(t){return`[${t.slice(2)}]`}function ahe(t){const e=new Uint8Array(32).fill(0);return t?DF(t)||$n(nd(t)):dn(e)}function fE(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(nd(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=nd(i[s]);o.byteLength>255&&(o=nd(ohe(ahe(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function MF(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return O0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(d=>s.endsWith(d)))return null;try{const d=Qs({abi:IP,functionName:"addr",...i!=null?{args:[ww(s),BigInt(i)]}:{args:[ww(s)]}}),f={address:u,abi:bF,functionName:"resolve",args:[ls(fE(s)),d,o??[kF]],blockNumber:r,blockTag:n},p=await ke(t,ko,"readContract")(f);if(p[0]==="0x")return null;const g=Qd({abi:IP,args:i!=null?[ww(s),BigInt(i)]:void 0,functionName:"addr",data:p[0]});return g==="0x"||gc(g)==="0x00"?null:g}catch(d){if(a)throw d;if(K3(d,"resolve"))return null;throw d}}class che extends se{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class hp extends se{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Q3 extends se{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class uhe extends se{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const lhe=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,dhe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,fhe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,hhe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function phe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function kP(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function BF({uri:t,gatewayUrls:e}){const r=fhe.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=kP(e==null?void 0:e.ipfs,"https://ipfs.io"),i=kP(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(lhe),{protocol:o,subpath:a,target:c,subtarget:u=""}=(s==null?void 0:s.groups)||{},l=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||dhe.test(t);if(t.startsWith("http")&&!l&&!d){let h=t;return e!=null&&e.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${n}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(hhe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Q3({uri:t})}function UF(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new che({data:t});return t.image||t.image_url||t.image_data}async function ghe({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await Y3({gatewayUrls:t,uri:UF(r)})}catch{throw new Q3({uri:e})}}async function Y3({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=BF({uri:e,gatewayUrls:t});if(n||await phe(r))return r;throw new Q3({uri:e})}function mhe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,c]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new hp({reason:"Only EIP-155 supported"});if(!o)throw new hp({reason:"Chain ID not found"});if(!c)throw new hp({reason:"Contract address not found"});if(!i)throw new hp({reason:"Token ID not found"});if(!a)throw new hp({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function yhe(t,{nft:e}){if(e.namespace==="erc721")return ko(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ko(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new uhe({namespace:e.namespace})}async function whe(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?bhe(t,{gatewayUrls:e,record:r}):Y3({uri:r,gatewayUrls:e})}async function bhe(t,{gatewayUrls:e,record:r}){const n=mhe(r),i=await yhe(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=BF({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=a?atob(s.replace("data:application/json;base64,","")):s,l=JSON.parse(u);return Y3({uri:UF(l),gatewayUrls:e})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),ghe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function FF(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return O0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(d=>s.endsWith(d)))return null;try{const d={address:u,abi:bF,functionName:"resolve",args:[ls(fE(s)),Qs({abi:SP,functionName:"text",args:[ww(s),i]}),o??[kF]],blockNumber:r,blockTag:n},h=await ke(t,ko,"readContract")(d);if(h[0]==="0x")return null;const p=Qd({abi:SP,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(a)throw d;if(K3(d,"resolve"))return null;throw d}}async function $F(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await ke(t,FF,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await whe(t,{record:c,gatewayUrls:n})}catch{return null}}async function LF(t,{address:e,blockNumber:r,blockTag:n,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=O0({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:Ife,functionName:"reverse",args:[ls(fE(c))],blockNumber:r,blockTag:n},l=ke(t,ko,"readContract"),[d,f]=i?await l({...u,args:[...u.args,i]}):await l(u);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(u){if(s)throw u;if(K3(u,"reverse"))return null;throw u}}async function vhe(t,e){const{blockNumber:r,blockTag:n,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return O0({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(u=>i.endsWith(u)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await ke(t,ko,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ls(fE(i))],blockNumber:r,blockTag:n});return c}async function jF(t,e){var w,y,b;const{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:f,value:h,...p}=e,g=r?Dr(r):void 0;try{Kd(e);const x=(n?De(n):void 0)||i,N=(b=(y=(w=t.chain)==null?void 0:w.formatters)==null?void 0:y.transactionRequest)==null?void 0:b.format,k=(N||P0)({...sE(p,{format:N}),from:g==null?void 0:g.address,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:f,value:h}),U=await t.request({method:"eth_createAccessList",params:[k,x]});return{accessList:U.accessList,gasUsed:BigInt(U.gasUsed)}}catch(E){throw AF(E,{...e,account:g,chain:t.chain})}}async function Ehe(t){const e=tE(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function zF(t,{address:e,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(n?[n]:void 0),u=tE(t,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>Ey({abi:[h],eventName:h.name,args:r}))],n&&(l=l[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?De(s):s,toBlock:typeof a=="bigint"?De(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function qF(t){const e=tE(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function Ahe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function _he(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?De(r):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),Ro(s)}async function DP(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?De(r):void 0,s=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(s!=="0x")return s}class Che extends se{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function xhe(t,e){const{address:r,factory:n,factoryData:i}=e;try{const[s,o,a,c,u,l,d]=await ke(t,ko,"readContract")({abi:She,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:d,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Che({address:r}):o}}const She=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Ihe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}async function Nhe(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=r?De(r):void 0,o=await t.request({method:"eth_feeHistory",params:[De(e),s||n,i]},{dedupe:!!s});return Ihe(o)}async function The(t,{filter:e}){const r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Cc(s));return e.abi?j3({abi:e.abi,logs:i,strict:r}):i}class Phe extends se{constructor({domain:e}){super(`Invalid domain "${ln(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Rhe extends se{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ohe extends se{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function khe(t){const{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:QF({domain:e}),...t.types};KF({domain:e,message:r,primaryType:n,types:i});const s=["0x1901"];return e&&s.push(Dhe({domain:e,types:i})),n!=="EIP712Domain"&&s.push(HF({data:r,primaryType:n,types:i})),$n(_c(s))}function Dhe({domain:t,types:e}){return HF({data:t,primaryType:"EIP712Domain",types:e})}function HF({data:t,primaryType:e,types:r}){const n=WF({data:t,primaryType:e,types:r});return $n(n)}function WF({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[Mhe({primaryType:e,types:r})];for(const s of r[e]){const[o,a]=GF({types:r,name:s.name,type:s.type,value:t[s.name]});n.push(o),i.push(a)}return sl(n,i)}function Mhe({primaryType:t,types:e}){const r=ls(Bhe({primaryType:t,types:e}));return $n(r)}function Bhe({primaryType:t,types:e}){let r="";const n=VF({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const s of i)r+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function VF({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),i=n==null?void 0:n[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const s of e[i])VF({primaryType:s.type,types:e},r);return r}function GF({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},$n(WF({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},$n(n)];if(r==="string")return[{type:"bytes32"},$n(ls(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>GF({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},$n(sl(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}function Uhe(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(c,u)=>{const l={...u};for(const d of c){const{name:f,type:h}=d;h==="address"&&(l[f]=l[f].toLowerCase())}return l},o=(()=>i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{})(),a=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return ln({domain:o,message:a,primaryType:n,types:i})}function KF(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(o,a)=>{for(const c of o){const{name:u,type:l}=c,d=a[u],f=l.match(VU);if(f&&(typeof d=="number"||typeof d=="bigint")){const[g,w,y]=f;De(d,{signed:w==="int",size:Number.parseInt(y)/8})}if(l==="address"&&typeof d=="string"&&!Oo(d))throw new Gu({address:d});const h=l.match(ude);if(h){const[g,w]=h;if(w&&Or(d)!==Number.parseInt(w))throw new vle({expectedSize:Number.parseInt(w),givenSize:Or(d)})}const p=i[l];p&&(Fhe(l),s(p,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Phe({domain:e});s(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new Rhe({primaryType:n,types:i})}function QF({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Fhe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Ohe({type:t})}const $he=`Ethereum Signed Message:
`;function Lhe(t){const e=(()=>typeof t=="string"?Qh(t):typeof t.raw=="string"?t.raw:dn(t.raw))(),r=Qh(`${$he}${Or(e)}`);return _c([r,e])}function YF(t,e){return $n(Lhe(t),e)}const JF="0x6492649264926492649264926492649264926492649264926492649264926492";function jhe(t){return WU(t,-32)===JF}function zhe(t){const{address:e,data:r,signature:n,to:i="hex"}=t,s=N0([sl([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,r,n]),JF]);return i==="hex"?s:ds(s)}class qhe extends se{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function ZF(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new qhe({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],c=Math.round(+`${o}.${a}`);c>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${c}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function kA(t,e="wei"){return ZF(t,ZU[e])}function Hhe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Whe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Ro(t.nonce):void 0,storageProof:t.storageProof?Hhe(t.storageProof):void 0}}async function Vhe(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=r!==void 0?De(r):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return Whe(a)}async function Ghe(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?De(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||n]})}async function hE(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){var l,d,f;const o=n||"latest",a=r!==void 0?De(r):void 0;let c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,De(s)]},{dedupe:!0}):(a||o)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,De(s)]},{dedupe:!!a})),!c)throw new XU({blockHash:e,blockNumber:r,blockTag:o,hash:i,index:s});return(((f=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||uF)(c)}async function Khe(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([ke(t,Iy,"getBlockNumber")({}),e?ke(t,hE,"getTransaction")({hash:e}):void 0]),s=(r==null?void 0:r.blockNumber)||(i==null?void 0:i.blockNumber);return s?n-s+1n:0n}async function W_(t,{hash:e}){var i,s,o;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new eF({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||Wfe)(r)}async function XF(t,e){var w;const{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,c=e.contracts,u=n??(typeof((w=t.batch)==null?void 0:w.multicall)=="object"&&t.batch.multicall.batchSize||1024);let l=o;if(!l){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");l=O0({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=[[]];let f=0,h=0;for(let y=0;y<c.length;y++){const{abi:b,address:E,args:x,functionName:N}=c[y];try{const O=Qs({abi:b,args:x,functionName:N});h+=(O.length-2)/2,u>0&&h>u&&d[f].length>0&&(f++,h=(O.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:O,target:E}]}catch(O){const k=Ad(O,{abi:b,address:E,args:x,docsPath:"/docs/contract/multicall",functionName:N});if(!r)throw k;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:E}]}}const p=await Promise.allSettled(d.map(y=>ke(t,ko,"readContract")({abi:j_,address:l,args:[y],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),g=[];for(let y=0;y<p.length;y++){const b=p[y];if(b.status==="rejected"){if(!r)throw b.reason;for(let x=0;x<d[y].length;x++)g.push({status:"failure",error:b.reason,result:void 0});continue}const E=b.value;for(let x=0;x<E.length;x++){const{returnData:N,success:O}=E[x],{callData:k}=d[y][x],{abi:U,address:D,functionName:W,args:H}=c[g.length];try{if(k==="0x")throw new yy;if(!O)throw new nE({data:N});const Q=Qd({abi:U,args:H,data:N,functionName:W});g.push(r?{result:Q,status:"success"}:Q)}catch(Q){const $=Ad(Q,{abi:U,address:D,args:H,docsPath:"/docs/contract/multicall",functionName:W});if(!r)throw $;g.push({error:$,result:void 0,status:"failure"})}}}if(g.length!==c.length)throw new se("multicall results mismatch");return g}const Qhe="0.1.1";function Yhe(){return Qhe}let qr=class V_ extends Error{constructor(e,r={}){const n=(()=>{var c;if(r.cause instanceof V_){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=(()=>r.cause instanceof V_&&r.cause.docsPath||r.docsPath)(),o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Yhe()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return e7(this,e)}};function e7(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?e7(t.cause,e):e?null:t}const Jhe="#__bigint";function Zhe(t,e,r){return JSON.stringify(t,(n,i)=>typeof e=="function"?e(n,i):typeof i=="bigint"?i.toString()+Jhe:i,r)}function Xhe(t,e){if(BP(t)>e)throw new u0e({givenSize:BP(t),maxSize:e})}const za={zero:48,nine:57,A:65,F:70,a:97,f:102};function MP(t){if(t>=za.zero&&t<=za.nine)return t-za.zero;if(t>=za.A&&t<=za.F)return t-(za.A-10);if(t>=za.a&&t<=za.f)return t-(za.a-10)}function e0e(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new l0e({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function J3(t,e){if(qs(t)>e)throw new g0e({givenSize:qs(t),maxSize:e})}function t0e(t,e){if(typeof e=="number"&&e>0&&e>qs(t)-1)throw new s7({offset:e,position:"start",size:qs(t)})}function r0e(t,e,r){if(typeof e=="number"&&typeof r=="number"&&qs(t)!==r-e)throw new s7({offset:r,position:"end",size:qs(t)})}function t7(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new m0e({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const n0e=new TextEncoder;function i0e(t){return t instanceof Uint8Array?t:typeof t=="string"?o0e(t):s0e(t)}function s0e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function o0e(t,e={}){const{size:r}=e;let n=t;r&&(J3(t,r),n=Cd(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const u=MP(i.charCodeAt(c++)),l=MP(i.charCodeAt(c++));if(u===void 0||l===void 0)throw new qr(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=u*16+l}return o}function a0e(t,e={}){const{size:r}=e,n=n0e.encode(t);return typeof r=="number"?(Xhe(n,r),c0e(n,r)):n}function c0e(t,e){return e0e(t,{dir:"right",size:e})}function BP(t){return t.length}let u0e=class extends qr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},l0e=class extends qr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const d0e=new TextEncoder,f0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function h0e(t,e={}){const{strict:r=!1}=e;if(!t)throw new UP(t);if(typeof t!="string")throw new UP(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new FP(t);if(!t.startsWith("0x"))throw new FP(t)}function _a(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function r7(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(J3(r,e.size),_d(r,e.size)):r}function n7(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=f0e[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(J3(n,e.size),Cd(n,e.size)):n}function fi(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new i7({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${t}${u}`})}const c=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?_d(c,n):c}function Z3(t,e={}){return n7(d0e.encode(t),e)}function _d(t,e){return t7(t,{dir:"left",size:e})}function Cd(t,e){return t7(t,{dir:"right",size:e})}function X3(t,e,r,n={}){const{strict:i}=n;t0e(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&r0e(s,e,r),s}function qs(t){return Math.ceil((t.length-2)/2)}function p0e(t,e={}){const{strict:r=!1}=e;try{return h0e(t,{strict:r}),!0}catch{return!1}}class i7 extends qr{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class UP extends qr{constructor(e){super(`Value \`${typeof e=="object"?Zhe(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class FP extends qr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class g0e extends qr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class s7 extends qr{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class m0e extends qr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function y0e(t){return{address:t.address,amount:fi(t.amount),index:fi(t.index),validatorIndex:fi(t.validatorIndex)}}function w0e(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:fi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:fi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:fi(t.gasLimit)},...typeof t.number=="bigint"&&{number:fi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:fi(t.prevRandao)},...typeof t.time=="bigint"&&{time:fi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(y0e)}}}async function G_(t,e){const{blockNumber:r,blockTag:n="latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const c=[];for(const f of i){const h=f.blockOverrides?w0e(f.blockOverrides):void 0,p=f.calls.map(w=>{const y=w,b=y.account?Dr(y.account):void 0,E={...y,data:y.abi?Qs(y):y.data,from:y.from??(b==null?void 0:b.address)};return Kd(E),P0(E)}),g=f.stateOverrides?D3(f.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:g})}const l=(r?De(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},l]})).map((f,h)=>({...lF(f),calls:f.calls.map((p,g)=>{var W,H;const{abi:w,args:y,functionName:b,to:E}=i[h].calls[g],x=((W=p.error)==null?void 0:W.data)??p.returnData,N=BigInt(p.gasUsed),O=(H=p.logs)==null?void 0:H.map(Q=>Cc(Q)),k=p.status==="0x1"?"success":"failure",U=w&&k==="success"&&x!=="0x"?Qd({abi:w,data:x,functionName:b}):null,D=(()=>{var $;if(k==="success")return;let Q;if((($=p.error)==null?void 0:$.data)==="0x"?Q=new yy:p.error&&(Q=new nE(p.error)),!!Q)return Ad(Q,{abi:w??[],address:E,args:y,functionName:b??"<unknown>"})})();return{data:x,gasUsed:N,logs:O,status:k,...k==="success"?{result:U}:{error:D}}})}))}catch(c){const u=c,l=iE(u,{});throw l instanceof Cy?u:l}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function b0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $P(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function tm(t,...e){if(!b0e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function LP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function v0e(t,e){tm(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function E0e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function o7(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function xSe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function SSe(t,e){return t<<32-e|t>>>e}const A0e=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function _0e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function C0e(t){for(let e=0;e<t.length;e++)t[e]=_0e(t[e]);return t}const jP=A0e?t=>t:C0e,x0e=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),S0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ISe(t){if(tm(t),x0e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=S0e[t[r]];return e}function I0e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function eS(t){return typeof t=="string"&&(t=I0e(t)),tm(t),t}class N0e{}function T0e(t){const e=n=>t().update(eS(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function P0e(t){const e=(n,i)=>t(i).update(eS(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const P1=BigInt(2**32-1),zP=BigInt(32);function R0e(t,e=!1){return e?{h:Number(t&P1),l:Number(t>>zP&P1)}:{h:Number(t>>zP&P1)|0,l:Number(t&P1)|0}}function O0e(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=R0e(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const k0e=(t,e,r)=>t<<r|e>>>32-r,D0e=(t,e,r)=>e<<r|t>>>32-r,M0e=(t,e,r)=>e<<r-32|t>>>64-r,B0e=(t,e,r)=>t<<r-32|e>>>64-r,U0e=BigInt(0),pp=BigInt(1),F0e=BigInt(2),$0e=BigInt(7),L0e=BigInt(256),j0e=BigInt(113),a7=[],c7=[],u7=[];for(let t=0,e=pp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],a7.push(2*(5*n+r)),c7.push((t+1)*(t+2)/2%64);let i=U0e;for(let s=0;s<7;s++)e=(e<<pp^(e>>$0e)*j0e)%L0e,e&F0e&&(i^=pp<<(pp<<BigInt(s))-pp);u7.push(i)}const l7=O0e(u7,!0),z0e=l7[0],q0e=l7[1],qP=(t,e,r)=>r>32?M0e(t,e,r):k0e(t,e,r),HP=(t,e,r)=>r>32?B0e(t,e,r):D0e(t,e,r);function d7(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=qP(u,l,1)^r[a],f=HP(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=c7[o],c=qP(i,s,a),u=HP(i,s,a),l=a7[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=z0e[n],t[1]^=q0e[n]}o7(r)}class Ny extends N0e{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,$P(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=E0e(this.state)}clone(){return this._cloneInto()}keccak(){jP(this.state32),d7(this.state32,this.rounds),jP(this.state32),this.posOut=0,this.pos=0}update(e){LP(this),e=eS(e),tm(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){LP(this,!1),tm(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $P(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(v0e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,o7(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Ny(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const al=(t,e,r)=>T0e(()=>new Ny(e,t,r)),H0e=(()=>al(6,144,224/8))(),W0e=(()=>al(6,136,256/8))(),V0e=(()=>al(6,104,384/8))(),G0e=(()=>al(6,72,512/8))(),K0e=(()=>al(1,144,224/8))(),f7=(()=>al(1,136,256/8))(),Q0e=(()=>al(1,104,384/8))(),Y0e=(()=>al(1,72,512/8))(),h7=(t,e,r)=>P0e((n={})=>new Ny(e,t,n.dkLen===void 0?r:n.dkLen,!0)),J0e=(()=>h7(31,168,128/8))(),Z0e=(()=>h7(31,136,256/8))(),NSe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Ny,keccakP:d7,keccak_224:K0e,keccak_256:f7,keccak_384:Q0e,keccak_512:Y0e,sha3_224:H0e,sha3_256:W0e,sha3_384:V0e,sha3_512:G0e,shake128:J0e,shake256:Z0e},Symbol.toStringTag,{value:"Module"}));function p7(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=f7(i0e(t));return r==="Bytes"?n:n7(n)}class X0e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const epe={checksum:new X0e(8192)},DA=epe.checksum,tpe=/^0x[a-fA-F0-9]{40}$/;function pE(t,e={}){const{strict:r=!0}=e;if(!tpe.test(t))throw new WP({address:t,cause:new npe});if(r){if(t.toLowerCase()===t)return;if(rpe(t)!==t)throw new WP({address:t,cause:new ipe})}}function rpe(t){if(DA.has(t))return DA.get(t);pE(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=p7(a0e(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return DA.set(t,i),i}function K_(t,e={}){const{strict:r=!0}=e??{};try{return pE(t,{strict:r}),!0}catch{return!1}}class WP extends qr{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class npe extends qr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class ipe extends qr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Q_(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new qr("Unable to normalize signature.");return i}function Y_(t,e){const r=typeof t,n=e.type;switch(n){case"address":return K_(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>Y_(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>Y_(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function g7(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return g7(i.components,s.components,r[n]);const o=[i.type,s.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?K_(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?K_(r[n],{strict:!1}):!1)())return o}}function m7(t,e={}){const{prepare:r=!0}=e,n=(()=>Array.isArray(t)||typeof t=="string"?eT(t):t)();return{...n,...r?{hash:Yf(n)}:{}}}function spe(t,e,r){const{args:n=[],prepare:i=!0}=r??{},s=p0e(e,{strict:!1}),o=t.filter(u=>s?u.type==="function"||u.type==="error"?y7(u)===X3(e,0,4):u.type==="event"?Yf(u)===e:!1:"name"in u&&u.name===e);if(o.length===0)throw new J_({name:e});if(o.length===1)return{...o[0],...i?{hash:Yf(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...i?{hash:Yf(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((d,f)=>{const h="inputs"in u&&u.inputs[f];return h?Y_(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=g7(u.inputs,a.inputs,n);if(d)throw new ape({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...l]=o;return{...u,overloads:l}})();if(!c)throw new J_({name:e});return{...c,...i?{hash:Yf(c)}:{}}}function y7(t){return X3(Yf(t),0,4)}function ope(t){const e=(()=>typeof t=="string"?t:fb(t))();return Q_(e)}function Yf(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:p7(Z3(ope(t)))}class ape extends qr{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Q_(fb(e.abiItem))}\`, and`,`\`${r.type}\` in \`${Q_(fb(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class J_ extends qr{constructor({name:e,data:r,type:n="item"}){const i=(()=>e?` with name "${e}"`:r?` with data "${r}"`:"")();super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const cpe=/^(.*)\[([0-9]*)\]$/,upe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,w7=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function lpe({checksumAddress:t,parameters:e,values:r}){const n=[];for(let i=0;i<e.length;i++)n.push(tS({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function tS({checksumAddress:t=!1,parameter:e,value:r}){const n=e,i=wpe(n.type);if(i){const[s,o]=i;return fpe(r,{checksumAddress:t,length:s,parameter:{...n,type:o}})}if(n.type==="tuple")return ype(r,{checksumAddress:t,parameter:n});if(n.type==="address")return dpe(r,{checksum:t});if(n.type==="bool")return ppe(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,o="256"]=w7.exec(n.type)??[];return gpe(r,{signed:s,size:Number(o)})}if(n.type.startsWith("bytes"))return hpe(r,{type:n.type});if(n.type==="string")return mpe(r);throw new A7(n.type)}function rS(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=qs(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(fi(e+i,{size:32})),n.push(a),i+=qs(a)):r.push(a)}return _a(...r,...n)}function dpe(t,e){const{checksum:r=!1}=e;return pE(t,{strict:r}),{dynamic:!1,encoded:_d(t.toLowerCase())}}function fpe(t,e){const{checksumAddress:r,length:n,parameter:i}=e,s=n===null;if(!Array.isArray(t))throw new vpe(t);if(!s&&t.length!==n)throw new bpe({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const u=tS({checksumAddress:r,parameter:i,value:t[c]});u.dynamic&&(o=!0),a.push(u)}if(s||o){const c=rS(a);if(s){const u=fi(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?_a(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:_a(...a.map(({encoded:c})=>c))}}function hpe(t,{type:e}){const[,r]=e.split("bytes"),n=qs(t);if(!r){let i=t;return n%32!==0&&(i=Cd(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:_a(_d(fi(n,{size:32})),i)}}if(n!==Number.parseInt(r))throw new v7({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:Cd(t)}}function ppe(t){if(typeof t!="boolean")throw new qr(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_d(r7(t))}}function gpe(t,{signed:e,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new i7({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:fi(t,{size:32,signed:e})}}function mpe(t){const e=Z3(t),r=Math.ceil(qs(e)/32),n=[];for(let i=0;i<r;i++)n.push(Cd(X3(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:_a(Cd(fi(qs(e),{size:32})),...n)}}function ype(t,e){const{checksumAddress:r,parameter:n}=e;let i=!1;const s=[];for(let o=0;o<n.components.length;o++){const a=n.components[o],c=Array.isArray(t)?o:a.name,u=tS({checksumAddress:r,parameter:a,value:t[c]});s.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?rS(s):_a(...s.map(({encoded:o})=>o))}}function wpe(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function b7(t,e,r){const{checksumAddress:n=!1}=r??{};if(t.length!==e.length)throw new E7({expectedLength:t.length,givenLength:e.length});const i=lpe({checksumAddress:n,parameters:t,values:e}),s=rS(i);return s.length===0?"0x":s}function Z_(t,e){if(t.length!==e.length)throw new E7({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(Z_.encode(i,s))}return _a(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const c=n;return pE(c),_d(c.toLowerCase(),i?32:0)}if(r==="string")return Z3(n);if(r==="bytes")return n;if(r==="bool")return _d(r7(n),i?32:1);const s=r.match(w7);if(s){const[c,u,l="256"]=s,d=Number.parseInt(l)/8;return fi(n,{size:i?32:d,signed:u==="int"})}const o=r.match(upe);if(o){const[c,u]=o;if(Number.parseInt(u)!==(n.length-2)/2)throw new v7({expectedSize:Number.parseInt(u),value:n});return Cd(n,i?32:0)}const a=r.match(cpe);if(a&&Array.isArray(n)){const[c,u]=a,l=[];for(let d=0;d<n.length;d++)l.push(e(u,n[d],!0));return l.length===0?"0x":_a(...l)}throw new A7(r)}t.encode=e})(Z_||(Z_={}));class bpe extends qr{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class v7 extends qr{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${qs(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class E7 extends qr{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class vpe extends qr{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class A7 extends qr{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Epe(t,e){var i;const{bytecode:r,args:n}=e;return _a(r,(i=t.inputs)!=null&&i.length&&(n!=null&&n.length)?b7(t.inputs,n):"0x")}function Ape(t){return m7(t)}function _pe(t,...e){const{overloads:r}=t,n=r?Cpe([t,...r],t.name,{args:e[0]}):t,i=xpe(n),s=e.length>0?b7(n.inputs,e[0]):void 0;return s?_a(i,s):i}function Sf(t,e={}){return m7(t,e)}function Cpe(t,e,r){const n=spe(t,e,r);if(n.type!=="function")throw new J_({name:e,type:"function"});return n}function xpe(t){return y7(t)}const Spe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",qo="0x0000000000000000000000000000000000000000",Ipe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Npe(t,e){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=e,u=e.account?Dr(e.account):void 0;if(o&&!u)throw new se("`account` is required when `traceAssetChanges` is true");const l=u?Epe(Ape("constructor(bytes, bytes)"),{bytecode:vF,args:[Ipe,_pe(Sf("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(e.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:L}=await jF(t,{account:u.address,...R,data:R.abi?Qs(R):R.data});return L.map(({address:M,storageKeys:_})=>_.length>0?M:null)})).then(R=>R.flat().filter(Boolean)):[],f=s==null?void 0:s.map(R=>R.address===(u==null?void 0:u.address)?{...R,nonce:0}:R),h=await G_(t,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:l}],stateOverrides:s},{calls:d.map((R,L)=>({abi:[Sf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:qo,nonce:L})),stateOverrides:[{address:qo,nonce:0}]}]:[],{calls:[...i,{}].map((R,L)=>({...R,from:u==null?void 0:u.address,nonce:L})),stateOverrides:f},...o?[{calls:[{data:l}]},{calls:d.map((R,L)=>({abi:[Sf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:qo,nonce:L})),stateOverrides:[{address:qo,nonce:0}]},{calls:d.map((R,L)=>({to:R,abi:[Sf("function decimals() returns (uint256)")],functionName:"decimals",from:qo,nonce:L})),stateOverrides:[{address:qo,nonce:0}]},{calls:d.map((R,L)=>({to:R,abi:[Sf("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:qo,nonce:L})),stateOverrides:[{address:qo,nonce:0}]},{calls:d.map((R,L)=>({to:R,abi:[Sf("function symbol() returns (string)")],functionName:"symbol",from:qo,nonce:L})),stateOverrides:[{address:qo,nonce:0}]}]:[]],traceTransfers:a,validation:c}),p=o?h[2]:h[0],[g,w,,y,b,E,x,N]=o?h:[],{calls:O,...k}=p,U=O.slice(0,-1)??[],D=(g==null?void 0:g.calls)??[],W=(w==null?void 0:w.calls)??[],H=[...D,...W].map(R=>R.status==="success"?us(R.data):null),Q=(y==null?void 0:y.calls)??[],$=(b==null?void 0:b.calls)??[],m=[...Q,...$].map(R=>R.status==="success"?us(R.data):null),v=((E==null?void 0:E.calls)??[]).map(R=>R.status==="success"?R.result:null),A=((N==null?void 0:N.calls)??[]).map(R=>R.status==="success"?R.result:null),T=((x==null?void 0:x.calls)??[]).map(R=>R.status==="success"?R.result:null),I=[];for(const[R,L]of m.entries()){const M=H[R];if(typeof L!="bigint"||typeof M!="bigint")continue;const _=v[R-1],j=A[R-1],Z=T[R-1],P=(()=>R===0?{address:Spe,decimals:18,symbol:"ETH"}:{address:d[R-1],decimals:Z||_?Number(_??1):void 0,symbol:j??void 0})();I.some(K=>K.token.address===P.address)||I.push({token:P,value:{pre:M,post:L,diff:L-M}})}return{assetChanges:I,block:k,results:U}}class _7 extends S3{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Mle(e);const n=Zv(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Yh(this),this.iHash.update(e),this}digestInto(e){Yh(this),wy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const C7=(t,e,r)=>new _7(t,e).update(r).digest();C7.create=(t,e)=>new _7(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nS=BigInt(0),X_=BigInt(1);function e0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ku(t){if(!e0(t))throw new Error("Uint8Array expected")}function rm(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function R1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function x7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?nS:BigInt("0x"+t)}const S7=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Tpe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nm(t){if(Ku(t),S7)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Tpe[t[r]];return e}const qa={_0:48,_9:57,A:65,F:70,a:97,f:102};function VP(t){if(t>=qa._0&&t<=qa._9)return t-qa._0;if(t>=qa.A&&t<=qa.F)return t-(qa.A-10);if(t>=qa.a&&t<=qa.f)return t-(qa.a-10)}function Cb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(S7)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=VP(t.charCodeAt(s)),a=VP(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function ma(t){return x7(nm(t))}function I7(t){return Ku(t),x7(nm(Uint8Array.from(t).reverse()))}function xd(t,e){return Cb(t.toString(16).padStart(e*2,"0"))}function N7(t,e){return xd(t,e).reverse()}function ei(t,e,r){let n;if(typeof e=="string")try{n=Cb(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(e0(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function Bs(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Ku(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function iS(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const MA=t=>typeof t=="bigint"&&nS<=t;function im(t,e,r){return MA(t)&&MA(e)&&MA(r)&&e<=t&&t<r}function id(t,e,r,n){if(!im(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Ppe(t){let e;for(e=0;t>nS;t>>=X_,e+=1);return e}const gE=t=>(X_<<BigInt(t))-X_,BA=t=>new Uint8Array(t),GP=t=>Uint8Array.from(t);function Rpe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=BA(t),i=BA(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...d)=>r(i,n,...d),c=(d=BA(0))=>{i=a(GP([0]),d),n=a(),d.length!==0&&(i=a(GP([1]),d),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){n=a();const h=n.slice();f.push(h),d+=n.length}return Bs(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(u()));)c();return o(),h}}const Ope={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||e0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ty(t,e,r={}){const n=(i,s,o)=>{const a=Ope[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function KP(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sn=BigInt(0),Lr=BigInt(1),Rl=BigInt(2),kpe=BigInt(3),eC=BigInt(4),QP=BigInt(5),YP=BigInt(8);function bn(t,e){const r=t%e;return r>=Sn?r:e+r}function Dpe(t,e,r){if(e<Sn)throw new Error("invalid exponent, negatives unsupported");if(r<=Sn)throw new Error("invalid modulus");if(r===Lr)return Sn;let n=Lr;for(;e>Sn;)e&Lr&&(n=n*t%r),t=t*t%r,e>>=Lr;return n}function As(t,e,r){let n=t;for(;e-- >Sn;)n*=n,n%=r;return n}function tC(t,e){if(t===Sn)throw new Error("invert: expected non-zero number");if(e<=Sn)throw new Error("invert: expected positive modulus, got "+e);let r=bn(t,e),n=e,i=Sn,s=Lr;for(;r!==Sn;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==Lr)throw new Error("invert: does not exist");return bn(i,e)}function Mpe(t){const e=(t-Lr)/Rl;let r,n,i;for(r=t-Lr,n=0;r%Rl===Sn;r/=Rl,n++);for(i=Rl;i<t&&Dpe(i,e,t)!==t-Lr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+Lr)/eC;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+Lr)/Rl;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),d=a.pow(c,s),f=a.pow(c,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let g=a.sqr(f);h<u&&!a.eql(g,a.ONE);h++)g=a.sqr(g);const p=a.pow(l,Lr<<BigInt(u-h-1));l=a.sqr(p),d=a.mul(d,p),f=a.mul(f,l),u=h}return d}}function Bpe(t){if(t%eC===kpe){const e=(t+Lr)/eC;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%YP===QP){const e=(t-QP)/YP;return function(n,i){const s=n.mul(i,Rl),o=n.pow(s,e),a=n.mul(i,o),c=n.mul(n.mul(a,Rl),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return Mpe(t)}const Upe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function T7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Upe.reduce((n,i)=>(n[i]="function",n),e);return Ty(t,r)}function Fpe(t,e,r){if(r<Sn)throw new Error("invalid exponent, negatives unsupported");if(r===Sn)return t.ONE;if(r===Lr)return e;let n=t.ONE,i=e;for(;r>Sn;)r&Lr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Lr;return n}function $pe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function P7(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function R7(t,e,r=!1,n={}){if(t<=Sn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=P7(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:gE(i),ZERO:Sn,ONE:Lr,create:c=>bn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Sn<=c&&c<t},is0:c=>c===Sn,isOdd:c=>(c&Lr)===Lr,neg:c=>bn(-c,t),eql:(c,u)=>c===u,sqr:c=>bn(c*c,t),add:(c,u)=>bn(c+u,t),sub:(c,u)=>bn(c-u,t),mul:(c,u)=>bn(c*u,t),pow:(c,u)=>Fpe(a,c,u),div:(c,u)=>bn(c*tC(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>tC(c,t),sqrt:n.sqrt||(c=>(o||(o=Bpe(t)),o(a,c))),invertBatch:c=>$pe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?N7(c,s):xd(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?I7(c):ma(c)}});return Object.freeze(a)}function O7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function k7(t){const e=O7(t);return e+Math.ceil(e/2)}function Lpe(t,e,r=!1){const n=t.length,i=O7(e),s=k7(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?I7(t):ma(t),a=bn(o,e-Lr)+Lr;return r?N7(a,i):xd(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JP=BigInt(0),rC=BigInt(1);function UA(t,e){const r=e.negate();return t?r:e}function D7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function FA(t,e){D7(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=gE(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function ZP(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=rC);const u=e*n,l=u+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:u}}function jpe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function zpe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const $A=new WeakMap,M7=new WeakMap;function LA(t){return M7.get(t)||1}function qpe(t,e){return{constTimeNegate:UA,hasPrecomputes(r){return LA(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>JP;)n&rC&&(i=i.add(s)),s=s.double(),n>>=rC;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=FA(n,e),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=FA(r,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:p}=ZP(i,c,a);i=u,d?o=o.add(UA(h,n[p])):s=s.add(UA(f,n[l]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=FA(r,e);for(let a=0;a<o.windows&&i!==JP;a++){const{nextN:c,offset:u,isZero:l,isNeg:d}=ZP(i,a,o);if(i=c,!l){const f=n[u];s=s.add(d?f.negate():f)}}return s},getPrecomputes(r,n,i){let s=$A.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&$A.set(n,i(s))),s},wNAFCached(r,n,i){const s=LA(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=LA(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){D7(n,e),M7.set(r,n),$A.delete(r)}}}function Hpe(t,e,r,n){if(jpe(r,t),zpe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Ppe(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=gE(o),c=new Array(Number(a)+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let l=i;for(let d=u;d>=0;d-=o){c.fill(i);for(let h=0;h<n.length;h++){const p=n[h],g=Number(p>>BigInt(d)&a);c[g]=c[g].add(r[h])}let f=i;for(let h=c.length-1,p=i;h>0;h--)p=p.add(c[h]),f=f.add(p);if(l=l.add(f),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function B7(t){return T7(t.Fp),Ty(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...P7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XP(t){t.lowS!==void 0&&rm("lowS",t.lowS),t.prehash!==void 0&&rm("prehash",t.prehash)}function Wpe(t){const e=B7(t);Ty(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}class Vpe extends Error{constructor(e=""){super(e)}}const ec={Err:Vpe,_tlv:{encode:(t,e)=>{const{Err:r}=ec;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=R1(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?R1(i.length/2|128):"";return R1(t)+s+i+e},decode(t,e){const{Err:r}=ec;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=ec;if(t<vo)throw new e("integer: negative integers are not allowed");let r=R1(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ec;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ma(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ec,i=ei("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=ec,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},vo=BigInt(0),jt=BigInt(1),Qc=BigInt(2),xb=BigInt(3),e4=BigInt(4);function Gpe(t){const e=Wpe(t),{Fp:r}=e,n=R7(e.n,e.nBitLength),i=e.toBytes||((g,w,y)=>{const b=w.toAffine();return Bs(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),s=e.fromBytes||(g=>{const w=g.subarray(1),y=r.fromBytes(w.subarray(0,r.BYTES)),b=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:y,y:b}});function o(g){const{a:w,b:y}=e,b=r.sqr(g),E=r.mul(b,g);return r.add(r.add(E,r.mul(g,w)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return im(g,jt,e.n)}function c(g){const{allowedPrivateKeyLengths:w,nByteLength:y,wrapPrivateKey:b,n:E}=e;if(w&&typeof g!="bigint"){if(e0(g)&&(g=nm(g)),typeof g!="string"||!w.includes(g.length))throw new Error("invalid private key");g=g.padStart(y*2,"0")}let x;try{x=typeof g=="bigint"?g:ma(ei("private key",g,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof g)}return b&&(x=bn(x,E)),id("private key",x,jt,E),x}function u(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}const l=KP((g,w)=>{const{px:y,py:b,pz:E}=g;if(r.eql(E,r.ONE))return{x:y,y:b};const x=g.is0();w==null&&(w=x?r.ONE:r.inv(E));const N=r.mul(y,w),O=r.mul(b,w),k=r.mul(E,w);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:N,y:O}}),d=KP(g=>{if(g.is0()){if(e.allowInfinityPoint&&!r.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:w,y}=g.toAffine();if(!r.isValid(w)||!r.isValid(y))throw new Error("bad point: x or y not FE");const b=r.sqr(y),E=o(w);if(!r.eql(b,E))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(w,y,b){if(w==null||!r.isValid(w))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required");this.px=w,this.py=y,this.pz=b,Object.freeze(this)}static fromAffine(w){const{x:y,y:b}=w||{};if(!w||!r.isValid(y)||!r.isValid(b))throw new Error("invalid affine point");if(w instanceof f)throw new Error("projective point not allowed");const E=x=>r.eql(x,r.ZERO);return E(y)&&E(b)?f.ZERO:new f(y,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const y=r.invertBatch(w.map(b=>b.pz));return w.map((b,E)=>b.toAffine(y[E])).map(f.fromAffine)}static fromHex(w){const y=f.fromAffine(s(ei("pointHex",w)));return y.assertValidity(),y}static fromPrivateKey(w){return f.BASE.multiply(c(w))}static msm(w,y){return Hpe(f,n,w,y)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){d(this)}hasEvenY(){const{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){u(w);const{px:y,py:b,pz:E}=this,{px:x,py:N,pz:O}=w,k=r.eql(r.mul(y,O),r.mul(x,E)),U=r.eql(r.mul(b,O),r.mul(N,E));return k&&U}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:w,b:y}=e,b=r.mul(y,xb),{px:E,py:x,pz:N}=this;let O=r.ZERO,k=r.ZERO,U=r.ZERO,D=r.mul(E,E),W=r.mul(x,x),H=r.mul(N,N),Q=r.mul(E,x);return Q=r.add(Q,Q),U=r.mul(E,N),U=r.add(U,U),O=r.mul(w,U),k=r.mul(b,H),k=r.add(O,k),O=r.sub(W,k),k=r.add(W,k),k=r.mul(O,k),O=r.mul(Q,O),U=r.mul(b,U),H=r.mul(w,H),Q=r.sub(D,H),Q=r.mul(w,Q),Q=r.add(Q,U),U=r.add(D,D),D=r.add(U,D),D=r.add(D,H),D=r.mul(D,Q),k=r.add(k,D),H=r.mul(x,N),H=r.add(H,H),D=r.mul(H,Q),O=r.sub(O,D),U=r.mul(H,W),U=r.add(U,U),U=r.add(U,U),new f(O,k,U)}add(w){u(w);const{px:y,py:b,pz:E}=this,{px:x,py:N,pz:O}=w;let k=r.ZERO,U=r.ZERO,D=r.ZERO;const W=e.a,H=r.mul(e.b,xb);let Q=r.mul(y,x),$=r.mul(b,N),m=r.mul(E,O),v=r.add(y,b),A=r.add(x,N);v=r.mul(v,A),A=r.add(Q,$),v=r.sub(v,A),A=r.add(y,E);let T=r.add(x,O);return A=r.mul(A,T),T=r.add(Q,m),A=r.sub(A,T),T=r.add(b,E),k=r.add(N,O),T=r.mul(T,k),k=r.add($,m),T=r.sub(T,k),D=r.mul(W,A),k=r.mul(H,m),D=r.add(k,D),k=r.sub($,D),D=r.add($,D),U=r.mul(k,D),$=r.add(Q,Q),$=r.add($,Q),m=r.mul(W,m),A=r.mul(H,A),$=r.add($,m),m=r.sub(Q,m),m=r.mul(W,m),A=r.add(A,m),Q=r.mul($,A),U=r.add(U,Q),Q=r.mul(T,A),k=r.mul(v,k),k=r.sub(k,Q),Q=r.mul(v,$),D=r.mul(T,D),D=r.add(D,Q),new f(k,U,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(f.ZERO)}wNAF(w){return p.wNAFCached(this,w,f.normalizeZ)}multiplyUnsafe(w){const{endo:y,n:b}=e;id("scalar",w,vo,b);const E=f.ZERO;if(w===vo)return E;if(this.is0()||w===jt)return this;if(!y||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,w,f.normalizeZ);let{k1neg:x,k1:N,k2neg:O,k2:k}=y.splitScalar(w),U=E,D=E,W=this;for(;N>vo||k>vo;)N&jt&&(U=U.add(W)),k&jt&&(D=D.add(W)),W=W.double(),N>>=jt,k>>=jt;return x&&(U=U.negate()),O&&(D=D.negate()),D=new f(r.mul(D.px,y.beta),D.py,D.pz),U.add(D)}multiply(w){const{endo:y,n:b}=e;id("scalar",w,jt,b);let E,x;if(y){const{k1neg:N,k1:O,k2neg:k,k2:U}=y.splitScalar(w);let{p:D,f:W}=this.wNAF(O),{p:H,f:Q}=this.wNAF(U);D=p.constTimeNegate(N,D),H=p.constTimeNegate(k,H),H=new f(r.mul(H.px,y.beta),H.py,H.pz),E=D.add(H),x=W.add(Q)}else{const{p:N,f:O}=this.wNAF(w);E=N,x=O}return f.normalizeZ([E,x])[0]}multiplyAndAddUnsafe(w,y,b){const E=f.BASE,x=(O,k)=>k===vo||k===jt||!O.equals(E)?O.multiplyUnsafe(k):O.multiply(k),N=x(this,y).add(x(w,b));return N.is0()?void 0:N}toAffine(w){return l(this,w)}isTorsionFree(){const{h:w,isTorsionFree:y}=e;if(w===jt)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:y}=e;return w===jt?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return rm("isCompressed",w),this.assertValidity(),i(f,this,w)}toHex(w=!0){return rm("isCompressed",w),nm(this.toRawBytes(w))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,p=qpe(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Kpe(t){const e=B7(t);return Ty(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Qpe(t){const e=Kpe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(m){return bn(m,n)}function a(m){return tC(m,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Gpe({...e,toBytes(m,v,A){const T=v.toAffine(),I=r.toBytes(T.x),R=Bs;return rm("isCompressed",A),A?R(Uint8Array.from([v.hasEvenY()?2:3]),I):R(Uint8Array.from([4]),I,r.toBytes(T.y))},fromBytes(m){const v=m.length,A=m[0],T=m.subarray(1);if(v===i&&(A===2||A===3)){const I=ma(T);if(!im(I,jt,r.ORDER))throw new Error("Point is not on curve");const R=l(I);let L;try{L=r.sqrt(R)}catch(j){const Z=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+Z)}const M=(L&jt)===jt;return(A&1)===1!==M&&(L=r.neg(L)),{x:I,y:L}}else if(v===s&&A===4){const I=r.fromBytes(T.subarray(0,r.BYTES)),R=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:I,y:R}}else{const I=i,R=s;throw new Error("invalid Point, expected length of "+I+", or uncompressed "+R+", got "+v)}}}),f=m=>nm(xd(m,e.nByteLength));function h(m){const v=n>>jt;return m>v}function p(m){return h(m)?o(-m):m}const g=(m,v,A)=>ma(m.slice(v,A));class w{constructor(v,A,T){id("r",v,jt,n),id("s",A,jt,n),this.r=v,this.s=A,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(v){const A=e.nByteLength;return v=ei("compactSignature",v,A*2),new w(g(v,0,A),g(v,A,2*A))}static fromDER(v){const{r:A,s:T}=ec.toSig(ei("DER",v));return new w(A,T)}assertValidity(){}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){const{r:A,s:T,recovery:I}=this,R=O(ei("msgHash",v));if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");const L=I===2||I===3?A+e.n:A;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=I&1?"03":"02",_=c.fromHex(M+f(L)),j=a(L),Z=o(-R*j),P=o(T*j),K=c.BASE.multiplyAndAddUnsafe(_,Z,P);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Cb(this.toDERHex())}toDERHex(){return ec.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Cb(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(m){try{return u(m),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const m=k7(e.n);return Lpe(e.randomBytes(m),e.n)},precompute(m=8,v=c.BASE){return v._setWindowSize(m),v.multiply(BigInt(3)),v}};function b(m,v=!0){return c.fromPrivateKey(m).toRawBytes(v)}function E(m){const v=e0(m),A=typeof m=="string",T=(v||A)&&m.length;return v?T===i||T===s:A?T===2*i||T===2*s:m instanceof c}function x(m,v,A=!0){if(E(m))throw new Error("first arg must be private key");if(!E(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(m)).toRawBytes(A)}const N=e.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const v=ma(m),A=m.length*8-e.nBitLength;return A>0?v>>BigInt(A):v},O=e.bits2int_modN||function(m){return o(N(m))},k=gE(e.nBitLength);function U(m){return id("num < 2^"+e.nBitLength,m,vo,k),xd(m,e.nByteLength)}function D(m,v,A=W){if(["recovered","canonical"].some(X=>X in A))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:I}=e;let{lowS:R,prehash:L,extraEntropy:M}=A;R==null&&(R=!0),m=ei("msgHash",m),XP(A),L&&(m=ei("prehashed msgHash",T(m)));const _=O(m),j=u(v),Z=[U(j),U(_)];if(M!=null&&M!==!1){const X=M===!0?I(r.BYTES):M;Z.push(ei("extraEntropy",X))}const P=Bs(...Z),K=_;function ee(X){const ne=N(X);if(!d(ne))return;const be=a(ne),ue=c.BASE.multiply(ne).toAffine(),ae=o(ue.x);if(ae===vo)return;const Ke=o(be*o(K+ae*j));if(Ke===vo)return;let me=(ue.x===ae?0:2)|Number(ue.y&jt),Oe=Ke;return R&&h(Ke)&&(Oe=p(Ke),me^=1),new w(ae,Oe,me)}return{seed:P,k2sig:ee}}const W={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function Q(m,v,A=W){const{seed:T,k2sig:I}=D(m,v,A),R=e;return Rpe(R.hash.outputLen,R.nByteLength,R.hmac)(T,I)}c.BASE._setWindowSize(8);function $(m,v,A,T=H){var me;const I=m;v=ei("msgHash",v),A=ei("publicKey",A);const{lowS:R,prehash:L,format:M}=T;if(XP(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const _=typeof I=="string"||e0(I),j=!_&&!M&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!_&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,P;try{if(j&&(Z=new w(I.r,I.s)),_){try{M!=="compact"&&(Z=w.fromDER(I))}catch(Oe){if(!(Oe instanceof ec.Err))throw Oe}!Z&&M!=="der"&&(Z=w.fromCompact(I))}P=c.fromHex(A)}catch{return!1}if(!Z||R&&Z.hasHighS())return!1;L&&(v=e.hash(v));const{r:K,s:ee}=Z,X=O(v),ne=a(ee),be=o(X*ne),ue=o(K*ne),ae=(me=c.BASE.multiplyAndAddUnsafe(P,be,ue))==null?void 0:me.toAffine();return ae?o(ae.x)===K:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:x,sign:Q,verify:$,ProjectivePoint:c,Signature:w,utils:y}}function Ype(t,e){const r=t.ORDER;let n=vo;for(let p=r-jt;p%Qc===vo;p/=Qc)n+=jt;const i=n,s=Qc<<i-jt-jt,o=s*Qc,a=(r-jt)/o,c=(a-jt)/Qc,u=o-jt,l=s,d=t.pow(e,a),f=t.pow(e,(a+jt)/Qc);let h=(p,g)=>{let w=d,y=t.pow(g,u),b=t.sqr(y);b=t.mul(b,g);let E=t.mul(p,b);E=t.pow(E,c),E=t.mul(E,y),y=t.mul(E,g),b=t.mul(E,p);let x=t.mul(b,y);E=t.pow(x,l);let N=t.eql(E,t.ONE);y=t.mul(b,f),E=t.mul(x,w),b=t.cmov(y,b,N),x=t.cmov(E,x,N);for(let O=i;O>jt;O--){let k=O-Qc;k=Qc<<k-jt;let U=t.pow(x,k);const D=t.eql(U,t.ONE);y=t.mul(b,w),w=t.mul(w,w),U=t.mul(x,w),b=t.cmov(y,b,D),x=t.cmov(U,x,D)}return{isValid:N,value:b}};if(t.ORDER%e4===xb){const p=(t.ORDER-xb)/e4,g=t.sqrt(t.neg(e));h=(w,y)=>{let b=t.sqr(y);const E=t.mul(w,y);b=t.mul(b,E);let x=t.pow(b,p);x=t.mul(x,E);const N=t.mul(x,g),O=t.mul(t.sqr(x),y),k=t.eql(O,w);let U=t.cmov(N,x,k);return{isValid:k,value:U}}}return h}function Jpe(t,e){if(T7(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=Ype(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,u,l,d;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),u=t.sqr(a),c=t.mul(u,e.A),s=t.add(s,c),s=t.mul(s,o),u=t.mul(u,a),c=t.mul(u,e.B),s=t.add(s,c),l=t.mul(i,o);const{isValid:f,value:h}=r(s,u);d=t.mul(i,n),d=t.mul(d,h),l=t.cmov(l,o,f),d=t.cmov(d,h,f);const p=t.isOdd(n)===t.isOdd(d);return d=t.cmov(t.neg(d),d,p),l=t.div(l,a),{x:l,y:d}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zpe(t){return{hash:t,hmac:(e,...r)=>C7(t,e,Wle(...r)),randomBytes:BU}}function Xpe(t,e){const r=n=>Qpe({...t,...Zpe(n)});return{...r(e),create:r}}const ege=ma;function iu(t,e){if(sm(t),sm(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function tge(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function sm(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function rge(t,e,r,n){Ku(t),Ku(e),sm(r),e.length>255&&(e=n(Bs(iS("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=Bs(e,iu(e.length,1)),c=iu(0,s),u=iu(r,2),l=new Array(o),d=n(Bs(c,t,u,iu(0,1),a));l[0]=n(Bs(d,iu(1,1),a));for(let h=1;h<=o;h++){const p=[tge(d,l[h-1]),iu(h+1,1),a];l[h]=n(Bs(...p))}return Bs(...l).slice(0,r)}function nge(t,e,r,n,i){if(Ku(t),Ku(e),sm(r),e.length>255){const s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(iS("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(iu(r,2)).update(e).update(iu(e.length,1)).digest()}function t4(t,e,r){Ty(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;Ku(t),sm(e);const u=typeof c=="string"?iS(c):c,l=n.toString(2).length,d=Math.ceil((l+i)/8),f=e*s*d;let h;if(a==="xmd")h=rge(t,u,f,o);else if(a==="xof")h=nge(t,u,f,i,o);else if(a==="_internal_pass")h=t;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(e);for(let g=0;g<e;g++){const w=new Array(s);for(let y=0;y<s;y++){const b=d*(y+g*s),E=h.subarray(b,b+d);w[y]=bn(ege(E),n)}p[g]=w}return p}function ige(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,c]=r.map(u=>u.reduce((l,d)=>t.add(t.mul(l,n),d)));if(t.is0(o)||t.is0(c))throw new Error("bad point: ZERO");return n=t.div(s,o),i=t.mul(i,t.div(a,c)),{x:n,y:i}}}function sge(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=t4(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=t4(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const s of n)if(typeof s!="bigint")throw new Error("mapToCurve: expected array of bigints");const i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Py=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Sb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),om=BigInt(1),Ib=BigInt(2),r4=(t,e)=>(t+e/Ib)/e;function U7(t){const e=Py,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=As(l,r,e)*l%e,f=As(d,r,e)*l%e,h=As(f,Ib,e)*u%e,p=As(h,i,e)*h%e,g=As(p,s,e)*p%e,w=As(g,a,e)*g%e,y=As(w,c,e)*w%e,b=As(y,a,e)*g%e,E=As(b,r,e)*l%e,x=As(E,o,e)*p%e,N=As(x,n,e)*u%e,O=As(N,Ib,e);if(!Qu.eql(Qu.sqr(O),t))throw new Error("Cannot find square root");return O}const Qu=R7(Py,void 0,void 0,{sqrt:U7}),D0=Xpe({a:BigInt(0),b:BigInt(7),Fp:Qu,n:Sb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Sb,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-om*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=r4(s*t,e),c=r4(-n*t,e);let u=bn(t-a*r-c*i,e),l=bn(-a*n-c*s,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},em),F7=BigInt(0),n4={};function Nb(t,...e){let r=n4[t];if(r===void 0){const n=em(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Bs(n,n),n4[t]=r}return em(Bs(r,...e))}const sS=t=>t.toRawBytes(!0).slice(1),nC=t=>xd(t,32),jA=t=>bn(t,Py),am=t=>bn(t,Sb),oS=D0.ProjectivePoint,oge=(t,e,r)=>oS.BASE.multiplyAndAddUnsafe(t,e,r);function iC(t){let e=D0.utils.normPrivateKeyToScalar(t),r=oS.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:am(-e),bytes:sS(r)}}function $7(t){id("x",t,om,Py);const e=jA(t*t),r=jA(e*t+BigInt(7));let n=U7(r);n%Ib!==F7&&(n=jA(-n));const i=new oS(t,n,om);return i.assertValidity(),i}const dh=ma;function L7(...t){return am(dh(Nb("BIP0340/challenge",...t)))}function age(t){return iC(t).bytes}function cge(t,e,r=BU(32)){const n=ei("message",t),{bytes:i,scalar:s}=iC(e),o=ei("auxRand",r,32),a=nC(s^dh(Nb("BIP0340/aux",o))),c=Nb("BIP0340/nonce",a,i,n),u=am(dh(c));if(u===F7)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=iC(u),f=L7(l,i,n),h=new Uint8Array(64);if(h.set(l,0),h.set(nC(am(d+f*s)),32),!j7(h,n,i))throw new Error("sign: Invalid signature produced");return h}function j7(t,e,r){const n=ei("signature",t,64),i=ei("message",e),s=ei("publicKey",r,32);try{const o=$7(dh(s)),a=dh(n.subarray(0,32));if(!im(a,om,Py))return!1;const c=dh(n.subarray(32,64));if(!im(c,om,Sb))return!1;const u=L7(nC(a),sS(o),i),l=oge(o,c,am(-u));return!(!l||!l.hasEvenY()||l.toAffine().x!==a)}catch{return!1}}const uge=(()=>({getPublicKey:age,sign:cge,verify:j7,utils:{randomPrivateKey:D0.utils.randomPrivateKey,lift_x:$7,pointToBytes:sS,numberToBytesBE:xd,bytesToNumberBE:ma,taggedHash:Nb,mod:bn}}))(),lge=(()=>ige(Qu,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))))(),dge=(()=>Jpe(Qu,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Qu.create(BigInt("-11"))}))(),z7=(()=>sge(D0.ProjectivePoint,t=>{const{x:e,y:r}=dge(Qu.create(t[0]));return lge(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Qu.ORDER,m:1,k:128,expand:"xmd",hash:em}))(),fge=(()=>z7.hashToCurve)(),hge=(()=>z7.encodeToCurve)(),pge=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:hge,hashToCurve:fge,schnorr:uge,secp256k1:D0},Symbol.toStringTag,{value:"Module"}));function gge({r:t,s:e,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new D0.Signature(us(t),us(e)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?o:ds(o)}async function aS(t,e){var d,f,h;const{address:r,factory:n,factoryData:i,hash:s,signature:o,universalSignatureVerifierAddress:a=(h=(f=(d=t.chain)==null?void 0:d.contracts)==null?void 0:f.universalSignatureVerifier)==null?void 0:h.address,...c}=e,u=(()=>Ea(o)?o:typeof o=="object"&&"r"in o&&"s"in o?gge(o):dn(o))(),l=await(async()=>!n&&!i||jhe(u)?u:zhe({address:n,data:i,signature:u}))();try{const p=a?{to:a,data:Qs({abi:NP,functionName:"isValidSig",args:[r,s,l]}),...c}:{data:cE({abi:NP,args:[r,s,l],bytecode:Pfe}),...c},{data:g}=await ke(t,Sy,"call")(p);return OU(g??"0x0")}catch(p){try{if(aE(lc(r),await nF({hash:s,signature:o})))return!0}catch{}if(p instanceof tF)return!1;throw p}}async function mge(t,{address:e,message:r,factory:n,factoryData:i,signature:s,...o}){const a=YF(r);return aS(t,{address:e,factory:n,factoryData:i,hash:a,signature:s,...o})}async function yge(t,e){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:u,...l}=e,d=khe({message:o,primaryType:a,types:c,domain:u});return aS(t,{address:r,factory:n,factoryData:i,hash:d,signature:s,...l})}function q7(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=(()=>typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))();let c;return a?(()=>{const d=ln(["watchBlockNumber",t.uid,e,r,o]);return xc(d,{onBlockNumber:n,onError:i},f=>k0(async()=>{var h;try{const p=await ke(t,Iy,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&r)for(let g=c+1n;g<p;g++)f.onBlockNumber(g,c),c=g}(!c||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=ln(["watchBlockNumber",t.uid,e,r]);return xc(d,{onBlockNumber:n,onError:i},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket");return y?y.value:t.transport}return t.transport})(),{unsubscribe:w}=await g.subscribe({params:["newHeads"],onData(y){var E;if(!h)return;const b=us((E=y.result)==null?void 0:E.number);f.onBlockNumber(b,c),c=b},onError(y){var b;(b=f.onError)==null||b.call(f,y)}});p=w,h||p()}catch(g){i==null||i(g)}})(),()=>p()})})()}async function H7(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=ln(["waitForTransactionReceipt",t.uid,r]);let u,l,d,f=!1;const{promise:h,resolve:p,reject:g}=H3(),w=a?setTimeout(()=>g(new jde({hash:r})),a):void 0,y=xc(c,{onReplaced:n,resolve:p,reject:g},b=>{const E=ke(t,q7,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(x){const N=k=>{clearTimeout(w),E(),k(),y()};let O=x;if(!f)try{if(d){if(e>1&&(!d.blockNumber||O-d.blockNumber+1n<e))return;N(()=>b.resolve(d));return}if(u||(f=!0,await _b(async()=>{u=await ke(t,hE,"getTransaction")({hash:r}),u.blockNumber&&(O=u.blockNumber)},{delay:o,retryCount:s}),f=!1),d=await ke(t,W_,"getTransactionReceipt")({hash:r}),e>1&&(!d.blockNumber||O-d.blockNumber+1n<e))return;N(()=>b.resolve(d))}catch(k){if(k instanceof XU||k instanceof eF){if(!u){f=!1;return}try{l=u,f=!0;const U=await _b(()=>ke(t,ua,"getBlock")({blockNumber:O,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:H})=>H instanceof aF});f=!1;const D=U.transactions.find(({from:H,nonce:Q})=>H===l.from&&Q===l.nonce);if(!D||(d=await ke(t,W_,"getTransactionReceipt")({hash:D.hash}),e>1&&(!d.blockNumber||O-d.blockNumber+1n<e)))return;let W="replaced";D.to===l.to&&D.value===l.value&&D.input===l.input?W="repriced":D.from===D.to&&D.value===0n&&(W="cancelled"),N(()=>{var H;(H=b.onReplaced)==null||H.call(b,{reason:W,replacedTransaction:l,transaction:D,transactionReceipt:d}),b.resolve(d)})}catch(U){N(()=>b.reject(U))}}else N(()=>b.reject(k))}}})});return h}function wge(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const u=(()=>typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))(),l=o??!1;let d;return u?(()=>{const p=ln(["watchBlocks",t.uid,e,r,n,l,c]);return xc(p,{onBlock:i,onError:s},g=>k0(async()=>{var w;try{const y=await ke(t,ua,"getBlock")({blockTag:e,includeTransactions:l});if(y.number&&(d!=null&&d.number)){if(y.number===d.number)return;if(y.number-d.number>1&&r)for(let b=(d==null?void 0:d.number)+1n;b<y.number;b++){const E=await ke(t,ua,"getBlock")({blockNumber:b,includeTransactions:l});g.onBlock(E,d),d=E}}(!(d!=null&&d.number)||e==="pending"&&!(y!=null&&y.number)||y.number&&y.number>d.number)&&(g.onBlock(y,d),d=y)}catch(y){(w=g.onError)==null||w.call(g,y)}},{emitOnBegin:n,interval:c}))})():(()=>{let p=!0,g=!0,w=()=>p=!1;return(async()=>{try{n&&ke(t,ua,"getBlock")({blockTag:e,includeTransactions:l}).then(E=>{p&&g&&(i(E,void 0),g=!1)});const y=(()=>{if(t.transport.type==="fallback"){const E=t.transport.transports.find(x=>x.config.type==="webSocket");return E?E.value:t.transport}return t.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(E){if(!p)return;const x=await ke(t,ua,"getBlock")({blockNumber:E.blockNumber,includeTransactions:l}).catch(()=>{});p&&(i(x,d),g=!1,d=x)},onError(E){s==null||s(E)}});w=b,p||w()}catch(y){s==null||s(y)}})(),()=>w()})()}function bge(t,{address:e,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:l=t.pollingInterval,strict:d}){const f=(()=>typeof u<"u"?u:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))(),h=d??!1;return f?(()=>{const w=ln(["watchEvent",e,r,n,t.uid,i,l,o]);return xc(w,{onLogs:c,onError:a},y=>{let b;o!==void 0&&(b=o-1n);let E,x=!1;const N=k0(async()=>{var O;if(!x){try{E=await ke(t,zF,"createEventFilter")({address:e,args:r,event:i,events:s,strict:h,fromBlock:o})}catch{}x=!0;return}try{let k;if(E)k=await ke(t,uE,"getFilterChanges")({filter:E});else{const U=await ke(t,Iy,"getBlockNumber")({});b&&b!==U?k=await ke(t,z3,"getLogs")({address:e,args:r,event:i,events:s,fromBlock:b+1n,toBlock:U}):k=[],b=U}if(k.length===0)return;if(n)y.onLogs(k);else for(const U of k)y.onLogs([U])}catch(k){E&&k instanceof Ed&&(x=!1),(O=y.onError)==null||O.call(y,k)}},{emitOnBegin:!0,interval:l});return async()=>{E&&await ke(t,lE,"uninstallFilter")({filter:E}),N()}})})():(()=>{let w=!0,y=()=>w=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const O=t.transport.transports.find(k=>k.config.type==="webSocket");return O?O.value:t.transport}return t.transport})(),E=s??(i?[i]:void 0);let x=[];E&&(x=[E.flatMap(k=>Ey({abi:[k],eventName:k.name,args:r}))],i&&(x=x[0]));const{unsubscribe:N}=await b.subscribe({params:["logs",{address:e,topics:x}],onData(O){var U;if(!w)return;const k=O.result;try{const{eventName:D,args:W}=L3({abi:E??[],data:k.data,topics:k.topics,strict:h}),H=Cc(k,{args:W,eventName:D});c([H])}catch(D){let W,H;if(D instanceof Mg||D instanceof Jv){if(d)return;W=D.abiItem.name,H=(U=D.abiItem.inputs)==null?void 0:U.some($=>!("name"in $&&$.name))}const Q=Cc(k,{args:H?[]:{},eventName:W});c([Q])}},onError(O){a==null||a(O)}});y=N,w||y()}catch(b){a==null||a(b)}})(),()=>y()})()}function W7(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const u=ln(["watchPendingTransactions",t.uid,e,s]);return xc(u,{onTransactions:n,onError:r},l=>{let d;const f=k0(async()=>{var h;try{if(!d)try{d=await ke(t,qF,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const p=await ke(t,uE,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)l.onTransactions(p);else for(const g of p)l.onTransactions([g])}catch(p){(h=l.onError)==null||h.call(l,p)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await ke(t,lE,"uninstallFilter")({filter:d}),f()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;n([h])},onError(f){r==null||r(f)}});l=d,u||l()}catch(d){r==null||r(d)}})(),()=>l()})()}function vge(t){var d,f,h;const{scheme:e,statement:r,...n}=((d=t.match(Ege))==null?void 0:d.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...u}=((f=t.match(Age))==null?void 0:f.groups)??{},l=(h=t.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...n,...u,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const Ege=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Age=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function _ge(t){const{address:e,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||e&&!aE(n.address,e))return!1}catch{return!1}return!0}async function Cge(t,e){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...u}=e,l=vge(i);if(!l.address||!_ge({address:r,domain:n,message:l,nonce:s,scheme:o,time:c}))return!1;const f=YF(i);return aS(t,{address:l.address,hash:f,signature:a,...u})}function xge(t){return{call:e=>Sy(t,e),createAccessList:e=>jF(t,e),createBlockFilter:()=>Ehe(t),createContractEventFilter:e=>P3(t,e),createEventFilter:e=>zF(t,e),createPendingTransactionFilter:()=>qF(t),estimateContractGas:e=>yF(t,e),estimateGas:e=>oE(t,e),getBalance:e=>$3(t,e),getBlobBaseFee:()=>Ahe(t),getBlock:e=>ua(t,e),getBlockNumber:e=>Iy(t,e),getBlockTransactionCount:e=>_he(t,e),getBytecode:e=>DP(t,e),getChainId:()=>R0(t),getCode:e=>DP(t,e),getContractEvents:e=>q3(t,e),getEip712Domain:e=>xhe(t,e),getEnsAddress:e=>MF(t,e),getEnsAvatar:e=>$F(t,e),getEnsName:e=>LF(t,e),getEnsResolver:e=>vhe(t,e),getEnsText:e=>FF(t,e),getFeeHistory:e=>Nhe(t,e),estimateFeesPerGas:e=>lfe(t,e),getFilterChanges:e=>uE(t,e),getFilterLogs:e=>The(t,e),getGasPrice:()=>B3(t),getLogs:e=>z3(t,e),getProof:e=>Vhe(t,e),estimateMaxPriorityFeePerGas:e=>ufe(t,e),getStorageAt:e=>Ghe(t,e),getTransaction:e=>hE(t,e),getTransactionConfirmations:e=>Khe(t,e),getTransactionCount:e=>U3(t,e),getTransactionReceipt:e=>W_(t,e),multicall:e=>XF(t,e),prepareTransactionRequest:e=>xy(t,e),readContract:e=>ko(t,e),sendRawTransaction:e=>W3(t,e),simulate:e=>G_(t,e),simulateBlocks:e=>G_(t,e),simulateCalls:e=>Npe(t,e),simulateContract:e=>CF(t,e),verifyMessage:e=>mge(t,e),verifySiweMessage:e=>Cge(t,e),verifyTypedData:e=>yge(t,e),uninstallFilter:e=>lE(t,e),waitForTransactionReceipt:e=>H7(t,e),watchBlocks:e=>wge(t,e),watchBlockNumber:e=>q7(t,e),watchContractEvent:e=>xF(t,e),watchEvent:e=>bge(t,e),watchPendingTransactions:e=>W7(t,e)}}async function Sge(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:De(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Ige(t,e){const{abi:r,args:n,bytecode:i,...s}=e,o=cE({abi:r,args:n,bytecode:i});return dE(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function Nge(t){var r;return((r=t.account)==null?void 0:r.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>by(n))}async function Tge(t,e={}){const{account:r=t.account,chainId:n}=e,i=r?Dr(r):void 0,s=await t.request({method:"wallet_getCapabilities",params:[i==null?void 0:i.address]}),o={};for(const[a,c]of Object.entries(s))o[Number(a)]=c;return typeof n=="number"?o[n]:o}async function Pge(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function V7(t,e){var c;const{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new ol({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Dr(r),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Dr(e.executor)})(),a={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await ke(t,R0,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ke(t,U3,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&aE(o.address,s.address))&&(a.nonce+=1)),a}async function Rge(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>lc(r))}async function Oge(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function kge(t,e){const{account:r=t.account,capabilities:n,chain:i=t.chain,forceAtomic:s=!1,id:o,version:a="2.0.0"}=e;if(typeof r>"u")throw new ol({docsPath:"/docs/actions/wallet/sendCalls"});const c=r?Dr(r):null,u=e.calls.map(l=>{const d=l;return{data:d.abi?Qs({abi:d.abi,functionName:d.functionName,args:d.args}):d.data,to:d.to,value:d.value?De(d.value):void 0}});try{const l=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:s,calls:u,capabilities:n,chainId:De(i.id),from:c==null?void 0:c.address,id:o,version:a}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){throw IF(l,{...e,account:c,chain:e.chain})}}async function Dge(t,e){const{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}async function Mge(t,e){const{account:r=t.account}=e;if(!r)throw new ol({docsPath:"/docs/eip7702/signAuthorization"});const n=Dr(r);if(!n.signAuthorization)throw new yw({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await V7(t,e);return n.signAuthorization(i)}async function G7(t,{account:e=t.account,message:r}){if(!e)throw new ol({docsPath:"/docs/actions/wallet/signMessage"});const n=Dr(e);if(n.signMessage)return n.signMessage({message:r});const i=(()=>typeof r=="string"?Qh(r):r.raw instanceof Uint8Array?ls(r.raw):r.raw)();return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function Bge(t,e){var u,l,d,f;const{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new ol({docsPath:"/docs/actions/wallet/signTransaction"});const s=Dr(r);Kd({account:s,...e});const o=await ke(t,R0,"getChainId")({});n!==null&&SF({currentChainId:o,chain:n});const a=(n==null?void 0:n.formatters)||((u=t.chain)==null?void 0:u.formatters),c=((l=a==null?void 0:a.transactionRequest)==null?void 0:l.format)||P0;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(f=(d=t.chain)==null?void 0:d.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(i),chainId:De(o),from:s.address}]},{retryCount:0})}async function Uge(t,e){const{account:r=t.account,domain:n,message:i,primaryType:s}=e;if(!r)throw new ol({docsPath:"/docs/actions/wallet/signTypedData"});const o=Dr(r),a={EIP712Domain:QF({domain:n}),...e.types};if(KF({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const c=Uhe({domain:n,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Fge(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:De(e)}]},{retryCount:0})}async function $ge(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function Lge(t){return{addChain:e=>Sge(t,e),deployContract:e=>Ige(t,e),getAddresses:()=>Nge(t),getCallsStatus:e=>TF(t,e),getCapabilities:()=>Tge(t),getChainId:()=>R0(t),getPermissions:()=>Pge(t),prepareAuthorization:e=>V7(t,e),prepareTransactionRequest:e=>xy(t,e),requestAddresses:()=>Rge(t),requestPermissions:e=>Oge(t,e),sendCalls:e=>kge(t,e),sendRawTransaction:e=>W3(t,e),sendTransaction:e=>dE(t,e),showCallsStatus:e=>Dge(t,e),signAuthorization:e=>Mge(t,e),signMessage:e=>G7(t,e),signTransaction:e=>Bge(t,e),signTypedData:e=>Uge(t,e),switchChain:e=>Fge(t,e),waitForCallsStatus:e=>Vfe(t,e),watchAsset:e=>$ge(t,e),writeContract:e=>V3(t,e)}}const zA={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return T0(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},i4={async getMyTokensWithBalance(t){const e=Ne.state.address,r=V.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,r);if(i)return this.filterLowQualityTokens(i)}const n=await He.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(t,e){var r,n;try{const i=zA.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Yt.getCapabilities(t);if(!((n=(r=s==null?void 0:s[i])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;const o=await Yt.walletGetAssets({account:t,chainFilter:[i]});return zA.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>zA.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:V.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},pt=vr({tokenBalances:[],loading:!1}),s4={state:pt,subscribe(t){return yi(pt,()=>t(pt))},subscribeKey(t,e){return Ei(pt,t,e)},setToken(t){t&&(pt.token=hd(t))},setTokenAmount(t){pt.sendTokenAmount=t},setReceiverAddress(t){pt.receiverAddress=t},setReceiverProfileImageUrl(t){pt.receiverProfileImageUrl=t},setReceiverProfileName(t){pt.receiverProfileName=t},setGasPrice(t){pt.gasPrice=t},setGasPriceInUsd(t){pt.gasPriceInUSD=t},setNetworkBalanceInUsd(t){pt.networkBalanceInUSD=t},setLoading(t){pt.loading=t},sendToken(){var t;switch((t=V.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var r,n,i,s,o,a;const t=V.state.activeChain,e=(r=Ne.state.preferredAccountTypes)==null?void 0:r[t];(n=this.state.token)!=null&&n.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(Wt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((i=V.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((s=this.state.token)!=null&&s.quantity.decimals)&&(Wt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:(o=this.state.token)==null?void 0:o.symbol,amount:this.state.sendTokenAmount,network:((a=V.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;pt.loading=!0;const e=(s=V.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=V.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=V.state.activeCaipAddress,i=n?Ge.getPlainAddress(n):void 0;if(pt.lastRetry&&!Ge.isAllowedRetry(pt.lastRetry,30*_n.ONE_SEC_MS))return pt.loading=!1,[];try{if(i&&e&&r){const a=await i4.getMyTokensWithBalance();return pt.tokenBalances=a,pt.lastRetry=void 0,a}}catch(a){pt.lastRetry=Date.now(),t==null||t(a),Un.showError("Token Balance Unavailable")}finally{pt.loading=!1}return[]},fetchNetworkBalance(){if(pt.tokenBalances.length===0)return;const t=i4.mapBalancesToSwapTokens(pt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===V.getActiveNetworkTokenAddress());e&&(pt.networkBalanceInUSD=e?a1.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return a1.bigNumber(t).eq(0)?!0:a1.bigNumber(a1.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){var r;const t=V.state.activeChain;let e=!0;return((r=Ne.state.preferredAccountTypes)==null?void 0:r[t])===Kr.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:pt.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(pt.networkBalanceInUSD,pt.gasPriceInUSD)),e},async sendNativeToken(t){var o,a,c,u,l,d;const e=V.state.activeChain;Bt.pushTransactionStack({view:"Account",goBack:!1});const r=t.receiverAddress,n=Ne.state.address,i=Yt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s="0x";try{await Yt.sendTransaction({chainNamespace:"eip155",to:r,address:n,data:s,value:i??BigInt(0),gasPrice:t.gasPrice}),Un.showSuccess("Transaction started"),Wt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((o=Ne.state.preferredAccountTypes)==null?void 0:o[e])===Kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=V.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),this.resetSend()}catch(f){console.error("SendController:sendERC20Token - failed to send native token",f);const h=f instanceof Error?f.message:"Unknown error";Wt.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:h,isSmartAccount:((u=Ne.state.preferredAccountTypes)==null?void 0:u[e])===Kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((l=this.state.token)==null?void 0:l.symbol)||"",amount:t.sendTokenAmount,network:((d=V.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||""}}),Un.showError("Something went wrong")}},async sendERC20Token(t){var r,n,i;Bt.pushTransactionStack({view:"Account",goBack:!1});const e=Yt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(Ne.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=Ge.getPlainAddress(t.tokenAddress);await Yt.writeContract({fromAddress:Ne.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:sW.getERC20Abi(s),chainNamespace:"eip155"}),Un.showSuccess("Transaction started"),this.resetSend()}}catch(s){console.error("SendController:sendERC20Token - failed to send erc20 token",s);const o=s instanceof Error?s.message:"Unknown error";Wt.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:o,isSmartAccount:((r=Ne.state.preferredAccountTypes)==null?void 0:r.eip155)===Kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((n=this.state.token)==null?void 0:n.symbol)||"",amount:t.sendTokenAmount,network:((i=V.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),Un.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){Un.showError("Please enter a valid amount and receiver address");return}Bt.pushTransactionStack({view:"Account",goBack:!1}),Yt.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),Ne.fetchTokenBalance()}).catch(t=>{Un.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){pt.token=void 0,pt.sendTokenAmount=void 0,pt.receiverAddress=void 0,pt.receiverProfileImageUrl=void 0,pt.receiverProfileName=void 0,pt.loading=!1,pt.tokenBalances=[]}},qA={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},O1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ve=vr({chains:VH(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),V={state:ve,subscribe(t){return yi(ve,()=>{t(ve)})},subscribeKey(t,e){return Ei(ve,t,e)},subscribeChainProp(t,e,r){let n;return yi(ve.chains,()=>{var s;const i=r||ve.activeChain;if(i){const o=(s=ve.chains.get(i))==null?void 0:s[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:i}=_e.getActiveNetworkProps(),s=e==null?void 0:e.find(u=>u.id.toString()===(n==null?void 0:n.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===i)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(ve.noAdapters=!0),ve.noAdapters||(ve.activeChain=a==null?void 0:a.namespace,ve.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),ve.activeChain&&ga.set({activeChain:a==null?void 0:a.namespace})),c.forEach(u=>{const l=e==null?void 0:e.filter(d=>d.chainNamespace===u);V.state.chains.set(u,{namespace:u,networkState:vr({...O1,caipNetwork:l==null?void 0:l[0]}),accountState:vr(qA),caipNetworks:l??[],...r}),this.setRequestedCaipNetworks(l??[],u)})},removeAdapter(t){var e,r;if(ve.activeChain===t){const n=Array.from(ve.chains.entries()).find(([i])=>i!==t);if(n){const i=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];i&&this.setActiveCaipNetwork(i)}}ve.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){ve.chains.set(t.namespace,{namespace:t.namespace,networkState:{...O1,caipNetwork:n[0]},accountState:qA,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((n==null?void 0:n.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=ve.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(i=>i.id===t.id)||n.push(t),ve.chains.set(t.chainNamespace,{...e,caipNetworks:n}),this.setRequestedCaipNetworks(n,t.chainNamespace)}},removeNetwork(t,e){var n,i,s;const r=ve.chains.get(t);if(r){const o=((n=ve.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((i=r.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=r==null?void 0:r.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),ve.chains.set(t,{...r,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const r=ve.chains.get(t);r&&(r.networkState={...r.networkState||O1,...e},ve.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=ve.chains.get(t);if(n){const i={...n.accountState||qA,...e};ve.chains.set(t,{...n,accountState:i}),(ve.chains.size===1||ve.activeChain===t)&&(e.caipAddress&&(ve.activeCaipAddress=e.caipAddress),Ne.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=ve.chains.get(t);if(r){const n={...r.networkState||O1,...e};ve.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){this.setChainAccountData(r,{[t]:e},n),t==="status"&&e==="disconnected"&&r&&tt.removeConnectorId(r)},setActiveNamespace(t){var n,i;ve.activeChain=t;const e=t?ve.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(ve.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,ve.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),_e.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),ga.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var n,i,s;if(!t)return;ve.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=ve.chains.get(t.chainNamespace);ve.activeChain=t.chainNamespace,ve.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(n=e==null?void 0:e.accountState)!=null&&n.address?ve.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:ve.activeCaipAddress=void 0,this.setAccountProp("caipAddress",ve.activeCaipAddress,t.chainNamespace),e&&Ne.replaceState(e.accountState),s4.resetSend(),ga.set({activeChain:ve.activeChain,selectedNetworkId:(s=ve.activeCaipNetwork)==null?void 0:s.caipNetworkId}),_e.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&pe.state.enableNetworkSwitch&&!pe.state.allowUnsupportedChain&&!Yt.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=ve.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==V.state.activeChain,r=(i=V.getNetworkData(t))==null?void 0:i.caipNetwork,n=V.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await V.switchActiveNetwork(n)},async switchActiveNetwork(t){var i;const e=V.state.chains.get(V.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=ve.activeCaipNetwork)==null?void 0:o.id)}))&&Bt.goBack();const n=this.getNetworkControllerClient(t.chainNamespace);n&&(await n.switchCaipNetwork(t),Wt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||ve.activeChain,r=ve.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||ve.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=ve.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var i;let r=ve.activeChain;if(e&&(r=e),!r)return;const n=(i=ve.chains.get(r))==null?void 0:i.accountState;if(n)return n[t]},getNetworkProp(t,e){var n;const r=(n=ve.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=ve.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return Ge.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const t=[];return ve.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return ve.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return ve.activeCaipNetwork},getActiveCaipAddress(){return ve.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;const e=ve.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||ve.activeCaipNetwork,n=this.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!ve.activeChain)return!0;const e=this.getRequestedCaipNetworks(ve.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var n;const t=_g.caipNetworkIdToNumber((n=ve.activeCaipNetwork)==null?void 0:n.caipNetworkId),e=ve.activeChain;if(!e||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var n,i;const t=((n=ve.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((i=ve.activeCaipNetwork)==null?void 0:i.id)||1,r=_n.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){jr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ve.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&_n.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");ve.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),tt.removeConnectorId(e)},async disconnect(t){const e=EW(t);try{s4.resetSend();const r=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));Yt.resetWcConnection();const n=r.filter(i=>i.status==="rejected");if(n.length>0)throw new Error(n.map(i=>i.reason.message).join(", "));_e.deleteConnectedSocialProvider(),t?tt.removeConnectorId(t):tt.resetConnectorIds(),Wt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),Wt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){ve.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(ve.chains.forEach(i=>{fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(n=(r=ve.chains.get(i))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var e;return t?(e=V.state.chains.get(t))==null?void 0:e.accountState:Ne.state},getNetworkData(t){var r;const e=t||ve.activeChain;if(e)return(r=V.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const r=V.state.chains.get(t),n=(i=r==null?void 0:r.caipNetworks)==null?void 0:i.find(a=>a.id===e);return n||((s=r==null?void 0:r.networkState)==null?void 0:s.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=tt.state.filterByNamespace;return(t?[ve.chains.get(t)]:Array.from(ve.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?V.getRequestedCaipNetworks(t):V.getAllRequestedCaipNetworks()}},jge={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},K7=Ge.getBlockchainApiUrl(),Vi=vr({clientId:null,api:new Tv({baseUrl:K7,clientId:null}),supportedChains:{http:[],ws:[]}}),He={state:Vi,async get(t){const{st:e,sv:r}=He.getSdkProperties(),n=pe.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return Vi.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=pe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Vi.supportedChains.http.length||await He.getSupportedNetworks()}catch{return!1}return Vi.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await He.get({path:"v1/supported-chains"});return Vi.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await He.isNetworkSupported(e))return{avatar:"",name:""};const n=_e.getIdentityFromCacheForAddress(t);if(n)return n;const i=await He.get({path:`/v1/identity/${t}`,params:{sender:V.state.activeCaipAddress?Ge.getPlainAddress(V.state.activeCaipAddress):void 0}});return _e.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:r,signal:n,cache:i,chainId:s}){var a;return await He.isNetworkSupported((a=V.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?He.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:s},signal:n,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){var o;return await He.isNetworkSupported((o=V.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?He.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await He.isNetworkSupported((r=V.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?He.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await He.isNetworkSupported((r=V.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Vi.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:pe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await He.isNetworkSupported((n=V.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?He.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:r}=He.getSdkProperties();if(!await He.isNetworkSupported((i=V.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return He.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){var o;if(!await He.isNetworkSupported((o=V.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Vi.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:_n.CONVERT_SLIPPAGE_TOLERANCE},projectId:pe.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:n,sv:i}=He.getSdkProperties();if(!await He.isNetworkSupported((o=V.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return He.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){var u;const{st:n,sv:i}=He.getSdkProperties();if(!await He.isNetworkSupported((u=V.state.activeCaipNetwork)==null?void 0:u.caipNetworkId))return Un.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=_e.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await He.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return _e.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var r;return await He.isNetworkSupported((r=V.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?He.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await He.isNetworkSupported((r=V.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?He.get({path:`/v1/profile/reverse/${t}`,params:{sender:Ne.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await He.isNetworkSupported((r=V.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?He.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var s;return await He.isNetworkSupported((s=V.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Vi.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){var a;return await He.isNetworkSupported((a=V.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Vi.api.post({path:"/v1/generators/onrampurl",params:{projectId:pe.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await He.isNetworkSupported((e=V.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await He.get({path:"/v1/onramp/options"})}catch{return jge}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var i;try{return await He.isNetworkSupported((i=V.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await Vi.api.post({path:"/v1/onramp/quote",params:{projectId:pe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await He.isNetworkSupported((r=V.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?He.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var i;return await He.isNetworkSupported((i=V.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Vi.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:pe.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){Vi.clientId=t,Vi.api=new Tv({baseUrl:K7,clientId:t})}},_s=vr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Ne={state:_s,replaceState(t){t&&Object.assign(_s,hd(t))},subscribe(t){return V.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return V.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){V.setAccountProp("status",t,e)},getCaipAddress(t){return V.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?Ge.getPlainAddress(t):void 0;e===V.state.activeChain&&(V.state.activeCaipAddress=t),V.setAccountProp("caipAddress",t,e),V.setAccountProp("address",r,e)},setBalance(t,e,r){V.setAccountProp("balance",t,r),V.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){V.setAccountProp("profileName",t,e)},setProfileImage(t,e){V.setAccountProp("profileImage",t,e)},setUser(t,e){V.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){V.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){V.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){V.setAccountProp("currentTab",t,V.state.activeChain)},setTokenBalance(t,e){t&&V.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){V.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){V.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const n=V.getAccountProp("addressLabels",r)||new Map;n.set(t,e),V.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){const r=V.getAccountProp("addressLabels",e)||new Map;r.delete(t),V.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){V.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){V.setAccountProp("preferredAccountTypes",{..._s.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){_s.preferredAccountTypes=t},setSocialProvider(t,e){t&&V.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){V.setAccountProp("socialWindow",t?hd(t):void 0,e)},setFarcasterUrl(t,e){V.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;_s.balanceLoading=!0;const e=(s=V.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=V.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=V.state.activeCaipAddress,i=n?Ge.getPlainAddress(n):void 0;if(_s.lastRetry&&!Ge.isAllowedRetry(_s.lastRetry,30*_n.ONE_SEC_MS))return _s.balanceLoading=!1,[];try{if(i&&e&&r){const c=(await He.getBalance(i,e)).balances.filter(u=>u.quantity.decimals!=="0");return this.setTokenBalance(c,r),_s.lastRetry=void 0,_s.balanceLoading=!1,c}}catch(a){_s.lastRetry=Date.now(),t==null||t(a),Un.showError("Token Balance Unavailable")}finally{_s.balanceLoading=!1}return[]},resetAccount(t){V.resetAccount(t)}},Ci=vr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),jr={state:Ci,subscribe(t){return yi(Ci,()=>t(Ci))},subscribeKey(t,e){return Ei(Ci,t,e)},async open(t){var i;const e=Ne.state.status==="connected";Yt.state.wcBasic?Qe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Qe.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await V.switchActiveNamespace(t.namespace),jr.setLoading(!0,t.namespace)):jr.setLoading(!0),tt.setFilterByNamespace(t==null?void 0:t.namespace);const r=(i=V.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;V.state.noAdapters&&!r?Ge.isMobile()?Bt.reset("AllWallets"):Bt.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Bt.reset(t.view,t.data):r?Bt.reset("Account"):Bt.reset("Connect"),Ci.open=!0,ga.set({open:!0}),Wt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=pe.state.enableEmbedded,e=!!V.state.activeCaipAddress;Ci.open&&Wt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Ci.open=!1,jr.clearLoading(),t?e?Bt.replace("Account"):Bt.push("Connect"):ga.set({open:!1}),Yt.resetUri()},setLoading(t,e){e&&Ci.loadingNamespaceMap.set(e,t),Ci.loading=t,ga.set({loading:t})},clearLoading(){Ci.loadingNamespaceMap.clear(),Ci.loading=!1},shake(){Ci.shake||(Ci.shake=!0,setTimeout(()=>{Ci.shake=!1},500))}},o4=2147483648,zge={convertEVMChainIdToCoinType(t){if(t>=o4)throw new Error("Invalid chainId");return(o4|t)>>>0}},Cs=vr({suggestions:[],loading:!1}),Q7={state:Cs,subscribe(t){return yi(Cs,()=>t(Cs))},subscribeKey(t,e){return Ei(Cs,t,e)},async resolveName(t){var e,r;try{return await He.lookupEnsName(t)}catch(n){const i=n;throw new Error(((r=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await He.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Cs.loading=!0,Cs.suggestions=[];const e=await He.getEnsNameSuggestions(t);return Cs.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],Cs.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{Cs.loading=!1}},async getNamesForAddress(t){try{if(!V.state.activeCaipNetwork)return[];const r=_e.getEnsFromCacheForAddress(t);if(r)return r;const n=await He.reverseLookupEnsName({address:t});return _e.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=V.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=Ne.state.address,n=tt.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");Cs.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Bt.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Cs.loading=!1}});const s=await Yt.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=zge.convertEVMChainIdToCoinType(Number(o));await He.registerEnsName({coinType:a,address:r,signature:s,message:i}),Ne.setProfileName(t,e.chainNamespace),Bt.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw Bt.replace("RegisterAccountName"),new Error(s)}finally{Cs.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,i;const r=t;return((i=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:i.description)||e}},mr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Iu={ConnectorExplorerIds:{[fe.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[fe.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[fe.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[fe.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[fe.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[mr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[mr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[mr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[mr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[mr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[mr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[mr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[mr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[mr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[mr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[mr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[fe.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[fe.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[fe.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[fe.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[fe.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[fe.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[fe.CONNECTOR_ID.INJECTED]:"Browser Wallet",[fe.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[fe.CONNECTOR_ID.COINBASE]:"Coinbase",[fe.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[fe.CONNECTOR_ID.LEDGER]:"Ledger",[fe.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[fe.CONNECTOR_ID.INJECTED]:"INJECTED",[fe.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[fe.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[fe.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},mE={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${mr.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},jl={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${qge()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function qge(){return typeof window<"u"}const Hge={createLogger(t,e="error"){const r=y0({level:e}),{logger:n}=e3({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},Wge="rpc.walletconnect.org";function a4(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const HA=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],oa={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===Wge}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:fe.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${fe.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var i,s,o;const n=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return HA.includes(e)?a4(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var f,h,p,g,w;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(f=t.rpcUrls.default.http)==null?void 0:f[0],a=this.getDefaultRpcUrl(t,s,r),c=((g=(p=(h=t==null?void 0:t.rpcUrls)==null?void 0:h.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,u=((w=n==null?void 0:n[s])==null?void 0:w.map(y=>y.url))||[],l=[...u,a],d=[...u];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Iu.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:l},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>oa.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){var i,s,o;const n=[];return r==null||r.forEach(a=>{n.push(T1(a.url,a.config))}),HA.includes(t.caipNetworkId)&&n.push(T1(a4(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{n.push(T1(a))}),PP(n)},extendWagmiTransports(t,e,r){if(HA.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return PP([r,T1(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:fe.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=_e.getActiveCaipNetworkId(),r=V.getAllRequestedCaipNetworks(),n=Array.from(((c=V.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?n.includes(i):!1,o=r==null?void 0:r.find(u=>u.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}},Tb={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},xi=vr({providers:{...Tb},providerIds:{...Tb}}),$t={state:xi,subscribeKey(t,e){return Ei(xi,t,e)},subscribe(t){return yi(xi,()=>{t(xi)})},subscribeProviders(t){return yi(xi.providers,()=>t(xi.providers))},setProvider(t,e){e&&(xi.providers[t]=hd(e))},getProvider(t){return xi.providers[t]},setProviderId(t,e){e&&(xi.providerIds[t]=e)},getProviderId(t){if(t)return xi.providerIds[t]},reset(){xi.providers={...Tb},xi.providerIds={...Tb}},resetChain(t){xi.providers[t]=void 0,xi.providerIds[t]=void 0}},c4={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},On={set(t,e){ts.isClient&&localStorage.setItem(`${Re.STORAGE_KEY}${t}`,e)},get(t){return ts.isClient?localStorage.getItem(`${Re.STORAGE_KEY}${t}`):null},delete(t,e){ts.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Re.STORAGE_KEY}${t}`))}},k1=30*1e3,ts={checkIfAllowedToTriggerEmail(){const t=On.get(Re.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<k1){const r=Math.ceil((k1-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=On.get(Re.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<k1)return Math.ceil((k1-e)/1e3)}return 0},checkIfRequestExists(t){return Kr.NOT_SAFE_RPC_METHODS.includes(t.method)||Kr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(c4.transactionHash))||(t==null?void 0:t.match(c4.signedMessage)))?Re.RPC_RESPONSE_TYPE_TX:Re.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Kr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Ct;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ct||(Ct={}));var sC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(sC||(sC={}));const Ae=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lu=t=>{switch(typeof t){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return isNaN(t)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(t)?Ae.array:t===null?Ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ae.promise:typeof Map<"u"&&t instanceof Map?Ae.map:typeof Set<"u"&&t instanceof Set?Ae.set:typeof Date<"u"&&t instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},ge=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Vge=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class So extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}So.create=t=>new So(t);const cm=(t,e)=>{let r;switch(t.code){case ge.invalid_type:t.received===Ae.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ct.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ct.joinValues(t.keys,", ")}`;break;case ge.invalid_union:r="Invalid input";break;case ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ct.joinValues(t.options)}`;break;case ge.invalid_enum_value:r=`Invalid enum value. Expected ${Ct.joinValues(t.options)}, received '${t.received}'`;break;case ge.invalid_arguments:r="Invalid function arguments";break;case ge.invalid_return_type:r="Invalid function return type";break;case ge.invalid_date:r="Invalid date";break;case ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ge.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ge.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ge.custom:r="Invalid input";break;case ge.invalid_intersection_types:r="Intersection results could not be merged";break;case ge.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ge.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ct.assertNever(t)}return{message:r}};let Y7=cm;function Gge(t){Y7=t}function Pb(){return Y7}const Rb=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Kge=[];function Se(t,e){const r=Rb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pb(),cm].filter(n=>!!n)});t.common.issues.push(r)}class oi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Je;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return oi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Je;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const Je=Object.freeze({status:"aborted"}),J7=t=>({status:"dirty",value:t}),wi=t=>({status:"valid",value:t}),oC=t=>t.status==="aborted",aC=t=>t.status==="dirty",um=t=>t.status==="valid",Ob=t=>typeof Promise<"u"&&t instanceof Promise;var Ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ue||(Ue={}));class Ca{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const u4=(t,e)=>{if(um(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new So(t.common.issues);return this._error=r,this._error}}};function Xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class st{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return lu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:lu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new oi,ctx:{common:e.parent.common,data:e.data,parsedType:lu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ob(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lu(e)},s=this._parseSync({data:e,path:i.path,parent:i});return u4(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lu(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Ob(i)?i:Promise.resolve(i));return u4(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:ge.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Do({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return yc.create(this,this._def)}nullable(){return Nd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Io.create(this,this._def)}promise(){return r0.create(this,this._def)}or(e){return hm.create([this,e],this._def)}and(e){return pm.create(this,e,this._def)}transform(e){return new Do({...Xe(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new bm({...Xe(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new X7({typeName:ze.ZodBranded,type:this,...Xe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Bb({...Xe(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Ry.create(this,e)}readonly(){return Fb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qge=/^c[^\s-]{8,}$/i,Yge=/^[a-z][a-z0-9]*$/,Jge=/^[0-9A-HJKMNP-TV-Z]{26}$/,Zge=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xge=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let WA;const tme=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,rme=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nme=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ime(t,e){return!!((e==="v4"||!e)&&tme.test(t)||(e==="v6"||!e)&&rme.test(t))}class Ao extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ae.string){const s=this._getOrReturnCtx(e);return Se(s,{code:ge.invalid_type,expected:Ae.string,received:s.parsedType}),Je}const n=new oi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Se(i,{code:ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Se(i,{code:ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Xge.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"email",code:ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")WA||(WA=new RegExp(eme,"u")),WA.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"emoji",code:ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Zge.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"uuid",code:ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Qge.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cuid",code:ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Yge.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cuid2",code:ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Jge.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"ulid",code:ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Se(i,{validation:"url",code:ge.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"regex",code:ge.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?nme(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?ime(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"ip",code:ge.invalid_string,message:s.message}),n.dirty()):Ct.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ge.invalid_string,...Ue.errToObj(n)})}_addCheck(e){return new Ao({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ue.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...Ue.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ue.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ue.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ue.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ue.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ue.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ue.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ue.errToObj(r)})}nonempty(e){return this.min(1,Ue.errToObj(e))}trim(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ao.create=t=>{var e;return new Ao({checks:[],typeName:ze.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Xe(t)})};function sme(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Yu extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ae.number){const s=this._getOrReturnCtx(e);return Se(s,{code:ge.invalid_type,expected:Ae.number,received:s.parsedType}),Je}let n;const i=new oi;for(const s of this._def.checks)s.kind==="int"?Ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?sme(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.not_finite,message:s.message}),i.dirty()):Ct.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ue.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ue.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ue.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ue.toString(r))}setLimit(e,r,n,i){return new Yu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ue.toString(i)}]})}_addCheck(e){return new Yu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Yu.create=t=>new Yu({checks:[],typeName:ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Xe(t)});class Ju extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ae.bigint){const s=this._getOrReturnCtx(e);return Se(s,{code:ge.invalid_type,expected:Ae.bigint,received:s.parsedType}),Je}let n;const i=new oi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:ge.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ct.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ue.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ue.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ue.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ue.toString(r))}setLimit(e,r,n,i){return new Ju({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ue.toString(i)}]})}_addCheck(e){return new Ju({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ju.create=t=>{var e;return new Ju({checks:[],typeName:ze.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Xe(t)})};class lm extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ae.boolean){const n=this._getOrReturnCtx(e);return Se(n,{code:ge.invalid_type,expected:Ae.boolean,received:n.parsedType}),Je}return wi(e.data)}}lm.create=t=>new lm({typeName:ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Xe(t)});class Sd extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ae.date){const s=this._getOrReturnCtx(e);return Se(s,{code:ge.invalid_type,expected:Ae.date,received:s.parsedType}),Je}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Se(s,{code:ge.invalid_date}),Je}const n=new oi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:ge.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ct.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ue.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ue.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Sd.create=t=>new Sd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ze.ZodDate,...Xe(t)});class kb extends st{_parse(e){if(this._getType(e)!==Ae.symbol){const n=this._getOrReturnCtx(e);return Se(n,{code:ge.invalid_type,expected:Ae.symbol,received:n.parsedType}),Je}return wi(e.data)}}kb.create=t=>new kb({typeName:ze.ZodSymbol,...Xe(t)});class dm extends st{_parse(e){if(this._getType(e)!==Ae.undefined){const n=this._getOrReturnCtx(e);return Se(n,{code:ge.invalid_type,expected:Ae.undefined,received:n.parsedType}),Je}return wi(e.data)}}dm.create=t=>new dm({typeName:ze.ZodUndefined,...Xe(t)});class fm extends st{_parse(e){if(this._getType(e)!==Ae.null){const n=this._getOrReturnCtx(e);return Se(n,{code:ge.invalid_type,expected:Ae.null,received:n.parsedType}),Je}return wi(e.data)}}fm.create=t=>new fm({typeName:ze.ZodNull,...Xe(t)});class t0 extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return wi(e.data)}}t0.create=t=>new t0({typeName:ze.ZodAny,...Xe(t)});class sd extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wi(e.data)}}sd.create=t=>new sd({typeName:ze.ZodUnknown,...Xe(t)});class Sc extends st{_parse(e){const r=this._getOrReturnCtx(e);return Se(r,{code:ge.invalid_type,expected:Ae.never,received:r.parsedType}),Je}}Sc.create=t=>new Sc({typeName:ze.ZodNever,...Xe(t)});class Db extends st{_parse(e){if(this._getType(e)!==Ae.undefined){const n=this._getOrReturnCtx(e);return Se(n,{code:ge.invalid_type,expected:Ae.void,received:n.parsedType}),Je}return wi(e.data)}}Db.create=t=>new Db({typeName:ze.ZodVoid,...Xe(t)});class Io extends st{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ae.array)return Se(r,{code:ge.invalid_type,expected:Ae.array,received:r.parsedType}),Je;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Se(r,{code:o?ge.too_big:ge.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Se(r,{code:ge.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Se(r,{code:ge.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Ca(r,o,r.path,a)))).then(o=>oi.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Ca(r,o,r.path,a)));return oi.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Io({...this._def,minLength:{value:e,message:Ue.toString(r)}})}max(e,r){return new Io({...this._def,maxLength:{value:e,message:Ue.toString(r)}})}length(e,r){return new Io({...this._def,exactLength:{value:e,message:Ue.toString(r)}})}nonempty(e){return this.min(1,e)}}Io.create=(t,e)=>new Io({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Xe(e)});function Of(t){if(t instanceof _r){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=yc.create(Of(n))}return new _r({...t._def,shape:()=>e})}else return t instanceof Io?new Io({...t._def,type:Of(t.element)}):t instanceof yc?yc.create(Of(t.unwrap())):t instanceof Nd?Nd.create(Of(t.unwrap())):t instanceof xa?xa.create(t.items.map(e=>Of(e))):t}class _r extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ct.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ae.object){const u=this._getOrReturnCtx(e);return Se(u,{code:ge.invalid_type,expected:Ae.object,received:u.parsedType}),Je}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Sc&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const l=s[u],d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ca(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Sc){const u=this._def.unknownKeys;if(u==="passthrough")for(const l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(u==="strict")a.length>0&&(Se(i,{code:ge.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const l of a){const d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ca(i,d,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const l of c){const d=await l.key;u.push({key:d,value:await l.value,alwaysSet:l.alwaysSet})}return u}).then(u=>oi.mergeObjectSync(n,u)):oi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Ue.errToObj,new _r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Ue.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new _r({...this._def,unknownKeys:"strip"})}passthrough(){return new _r({...this._def,unknownKeys:"passthrough"})}extend(e){return new _r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new _r({...this._def,catchall:e})}pick(e){const r={};return Ct.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new _r({...this._def,shape:()=>r})}omit(e){const r={};return Ct.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new _r({...this._def,shape:()=>r})}deepPartial(){return Of(this)}partial(e){const r={};return Ct.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new _r({...this._def,shape:()=>r})}required(e){const r={};return Ct.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof yc;)s=s._def.innerType;r[n]=s}}),new _r({...this._def,shape:()=>r})}keyof(){return Z7(Ct.objectKeys(this.shape))}}_r.create=(t,e)=>new _r({shape:()=>t,unknownKeys:"strip",catchall:Sc.create(),typeName:ze.ZodObject,...Xe(e)});_r.strictCreate=(t,e)=>new _r({shape:()=>t,unknownKeys:"strict",catchall:Sc.create(),typeName:ze.ZodObject,...Xe(e)});_r.lazycreate=(t,e)=>new _r({shape:t,unknownKeys:"strip",catchall:Sc.create(),typeName:ze.ZodObject,...Xe(e)});class hm extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new So(a.ctx.common.issues));return Se(r,{code:ge.invalid_union,unionErrors:o}),Je}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!s&&(s={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new So(c));return Se(r,{code:ge.invalid_union,unionErrors:a}),Je}}get options(){return this._def.options}}hm.create=(t,e)=>new hm({options:t,typeName:ze.ZodUnion,...Xe(e)});const bw=t=>t instanceof mm?bw(t.schema):t instanceof Do?bw(t.innerType()):t instanceof ym?[t.value]:t instanceof Zu?t.options:t instanceof wm?Object.keys(t.enum):t instanceof bm?bw(t._def.innerType):t instanceof dm?[void 0]:t instanceof fm?[null]:null;class yE extends st{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.object)return Se(r,{code:ge.invalid_type,expected:Ae.object,received:r.parsedType}),Je;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Se(r,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=bw(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new yE({typeName:ze.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Xe(n)})}}function cC(t,e){const r=lu(t),n=lu(e);if(t===e)return{valid:!0,data:t};if(r===Ae.object&&n===Ae.object){const i=Ct.objectKeys(e),s=Ct.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=cC(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===Ae.array&&n===Ae.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=cC(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Ae.date&&n===Ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pm extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(oC(s)||oC(o))return Je;const a=cC(s.value,o.value);return a.valid?((aC(s)||aC(o))&&r.dirty(),{status:r.value,value:a.data}):(Se(n,{code:ge.invalid_intersection_types}),Je)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}pm.create=(t,e,r)=>new pm({left:t,right:e,typeName:ze.ZodIntersection,...Xe(r)});class xa extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.array)return Se(n,{code:ge.invalid_type,expected:Ae.array,received:n.parsedType}),Je;if(n.data.length<this._def.items.length)return Se(n,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ca(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>oi.mergeArray(r,o)):oi.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new xa({...this._def,rest:e})}}xa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xa({items:t,typeName:ze.ZodTuple,rest:null,...Xe(e)})};class gm extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.object)return Se(n,{code:ge.invalid_type,expected:Ae.object,received:n.parsedType}),Je;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Ca(n,a,n.path,a)),value:o._parse(new Ca(n,n.data[a],n.path,a))});return n.common.async?oi.mergeObjectAsync(r,i):oi.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof st?new gm({keyType:e,valueType:r,typeName:ze.ZodRecord,...Xe(n)}):new gm({keyType:Ao.create(),valueType:e,typeName:ze.ZodRecord,...Xe(r)})}}class Mb extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.map)return Se(n,{code:ge.invalid_type,expected:Ae.map,received:n.parsedType}),Je;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],u)=>({key:i._parse(new Ca(n,a,n.path,[u,"key"])),value:s._parse(new Ca(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return Je;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return Je;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}}Mb.create=(t,e,r)=>new Mb({valueType:e,keyType:t,typeName:ze.ZodMap,...Xe(r)});class Id extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.set)return Se(n,{code:ge.invalid_type,expected:Ae.set,received:n.parsedType}),Je;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Se(n,{code:ge.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Se(n,{code:ge.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const l of c){if(l.status==="aborted")return Je;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>s._parse(new Ca(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Id({...this._def,minSize:{value:e,message:Ue.toString(r)}})}max(e,r){return new Id({...this._def,maxSize:{value:e,message:Ue.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Id.create=(t,e)=>new Id({valueType:t,minSize:null,maxSize:null,typeName:ze.ZodSet,...Xe(e)});class fh extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.function)return Se(r,{code:ge.invalid_type,expected:Ae.function,received:r.parsedType}),Je;function n(a,c){return Rb({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pb(),cm].filter(u=>!!u),issueData:{code:ge.invalid_arguments,argumentsError:c}})}function i(a,c){return Rb({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pb(),cm].filter(u=>!!u),issueData:{code:ge.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof r0){const a=this;return wi(async function(...c){const u=new So([]),l=await a._def.args.parseAsync(c,s).catch(h=>{throw u.addIssue(n(c,h)),u}),d=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(d,s).catch(h=>{throw u.addIssue(i(d,h)),u})})}else{const a=this;return wi(function(...c){const u=a._def.args.safeParse(c,s);if(!u.success)throw new So([n(c,u.error)]);const l=Reflect.apply(o,this,u.data),d=a._def.returns.safeParse(l,s);if(!d.success)throw new So([i(l,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fh({...this._def,args:xa.create(e).rest(sd.create())})}returns(e){return new fh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new fh({args:e||xa.create([]).rest(sd.create()),returns:r||sd.create(),typeName:ze.ZodFunction,...Xe(n)})}}class mm extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}mm.create=(t,e)=>new mm({getter:t,typeName:ze.ZodLazy,...Xe(e)});class ym extends st{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Se(r,{received:r.data,code:ge.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}ym.create=(t,e)=>new ym({value:t,typeName:ze.ZodLiteral,...Xe(e)});function Z7(t,e){return new Zu({values:t,typeName:ze.ZodEnum,...Xe(e)})}class Zu extends st{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Se(r,{expected:Ct.joinValues(n),received:r.parsedType,code:ge.invalid_type}),Je}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Se(r,{received:r.data,code:ge.invalid_enum_value,options:n}),Je}return wi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Zu.create(e)}exclude(e){return Zu.create(this.options.filter(r=>!e.includes(r)))}}Zu.create=Z7;class wm extends st{_parse(e){const r=Ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ae.string&&n.parsedType!==Ae.number){const i=Ct.objectValues(r);return Se(n,{expected:Ct.joinValues(i),received:n.parsedType,code:ge.invalid_type}),Je}if(r.indexOf(e.data)===-1){const i=Ct.objectValues(r);return Se(n,{received:n.data,code:ge.invalid_enum_value,options:i}),Je}return wi(e.data)}get enum(){return this._def.values}}wm.create=(t,e)=>new wm({values:t,typeName:ze.ZodNativeEnum,...Xe(e)});class r0 extends st{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.promise&&r.common.async===!1)return Se(r,{code:ge.invalid_type,expected:Ae.promise,received:r.parsedType}),Je;const n=r.parsedType===Ae.promise?r.data:Promise.resolve(r.data);return wi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}r0.create=(t,e)=>new r0({type:t,typeName:ze.ZodPromise,...Xe(e)});class Do extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Se(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Je:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Je:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!um(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>um(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);Ct.assertNever(i)}}Do.create=(t,e,r)=>new Do({schema:t,typeName:ze.ZodEffects,effect:e,...Xe(r)});Do.createWithPreprocess=(t,e,r)=>new Do({schema:e,effect:{type:"preprocess",transform:t},typeName:ze.ZodEffects,...Xe(r)});class yc extends st{_parse(e){return this._getType(e)===Ae.undefined?wi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yc.create=(t,e)=>new yc({innerType:t,typeName:ze.ZodOptional,...Xe(e)});class Nd extends st{_parse(e){return this._getType(e)===Ae.null?wi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nd.create=(t,e)=>new Nd({innerType:t,typeName:ze.ZodNullable,...Xe(e)});class bm extends st{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ae.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}bm.create=(t,e)=>new bm({innerType:t,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xe(e)});class Bb extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ob(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new So(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new So(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Bb.create=(t,e)=>new Bb({innerType:t,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xe(e)});class Ub extends st{_parse(e){if(this._getType(e)!==Ae.nan){const n=this._getOrReturnCtx(e);return Se(n,{code:ge.invalid_type,expected:Ae.nan,received:n.parsedType}),Je}return{status:"valid",value:e.data}}}Ub.create=t=>new Ub({typeName:ze.ZodNaN,...Xe(t)});const ome=Symbol("zod_brand");class X7 extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ry extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Je:s.status==="dirty"?(r.dirty(),J7(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Je:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Ry({in:e,out:r,typeName:ze.ZodPipeline})}}class Fb extends st{_parse(e){const r=this._def.innerType._parse(e);return um(r)&&(r.value=Object.freeze(r.value)),r}}Fb.create=(t,e)=>new Fb({innerType:t,typeName:ze.ZodReadonly,...Xe(e)});const e$=(t,e={},r)=>t?t0.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):t0.create(),ame={object:_r.lazycreate};var ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ze||(ze={}));const cme=(t,e={message:`Input not instance of ${t.name}`})=>e$(r=>r instanceof t,e),t$=Ao.create,r$=Yu.create,ume=Ub.create,lme=Ju.create,n$=lm.create,dme=Sd.create,fme=kb.create,hme=dm.create,pme=fm.create,gme=t0.create,mme=sd.create,yme=Sc.create,wme=Db.create,bme=Io.create,vme=_r.create,Eme=_r.strictCreate,Ame=hm.create,_me=yE.create,Cme=pm.create,xme=xa.create,Sme=gm.create,Ime=Mb.create,Nme=Id.create,Tme=fh.create,Pme=mm.create,Rme=ym.create,Ome=Zu.create,kme=wm.create,Dme=r0.create,l4=Do.create,Mme=yc.create,Bme=Nd.create,Ume=Do.createWithPreprocess,Fme=Ry.create,$me=()=>t$().optional(),Lme=()=>r$().optional(),jme=()=>n$().optional(),zme={string:t=>Ao.create({...t,coerce:!0}),number:t=>Yu.create({...t,coerce:!0}),boolean:t=>lm.create({...t,coerce:!0}),bigint:t=>Ju.create({...t,coerce:!0}),date:t=>Sd.create({...t,coerce:!0})},qme=Je;var z=Object.freeze({__proto__:null,defaultErrorMap:cm,setErrorMap:Gge,getErrorMap:Pb,makeIssue:Rb,EMPTY_PATH:Kge,addIssueToContext:Se,ParseStatus:oi,INVALID:Je,DIRTY:J7,OK:wi,isAborted:oC,isDirty:aC,isValid:um,isAsync:Ob,get util(){return Ct},get objectUtil(){return sC},ZodParsedType:Ae,getParsedType:lu,ZodType:st,ZodString:Ao,ZodNumber:Yu,ZodBigInt:Ju,ZodBoolean:lm,ZodDate:Sd,ZodSymbol:kb,ZodUndefined:dm,ZodNull:fm,ZodAny:t0,ZodUnknown:sd,ZodNever:Sc,ZodVoid:Db,ZodArray:Io,ZodObject:_r,ZodUnion:hm,ZodDiscriminatedUnion:yE,ZodIntersection:pm,ZodTuple:xa,ZodRecord:gm,ZodMap:Mb,ZodSet:Id,ZodFunction:fh,ZodLazy:mm,ZodLiteral:ym,ZodEnum:Zu,ZodNativeEnum:wm,ZodPromise:r0,ZodEffects:Do,ZodTransformer:Do,ZodOptional:yc,ZodNullable:Nd,ZodDefault:bm,ZodCatch:Bb,ZodNaN:Ub,BRAND:ome,ZodBranded:X7,ZodPipeline:Ry,ZodReadonly:Fb,custom:e$,Schema:st,ZodSchema:st,late:ame,get ZodFirstPartyTypeKind(){return ze},coerce:zme,any:gme,array:bme,bigint:lme,boolean:n$,date:dme,discriminatedUnion:_me,effect:l4,enum:Ome,function:Tme,instanceof:cme,intersection:Cme,lazy:Pme,literal:Rme,map:Ime,nan:ume,nativeEnum:kme,never:yme,null:pme,nullable:Bme,number:r$,object:vme,oboolean:jme,onumber:Lme,optional:Mme,ostring:$me,pipeline:Fme,preprocess:Ume,promise:Dme,record:Sme,set:Nme,strictObject:Eme,string:t$,symbol:fme,transformer:l4,tuple:xme,undefined:hme,union:Ame,unknown:mme,void:wme,NEVER:qme,ZodIssueCode:ge,quotelessJson:Vge,ZodError:So});const Ir=z.object({message:z.string()});function Ce(t){return z.literal(Re[t])}z.object({accessList:z.array(z.string()),blockHash:z.string().nullable(),blockNumber:z.string().nullable(),chainId:z.string().or(z.number()),from:z.string(),gas:z.string(),hash:z.string(),input:z.string().nullable(),maxFeePerGas:z.string(),maxPriorityFeePerGas:z.string(),nonce:z.string(),r:z.string(),s:z.string(),to:z.string(),transactionIndex:z.string().nullable(),type:z.string(),v:z.string(),value:z.string()});const Hme=z.object({chainId:z.string().or(z.number())}),Wme=z.object({email:z.string().email()}),Vme=z.object({otp:z.string()}),Gme=z.object({uri:z.string()}),Kme=z.object({chainId:z.optional(z.string().or(z.number())),preferredAccountType:z.optional(z.string())}),Qme=z.object({provider:z.enum(["google","github","apple","facebook","x","discord"])}),Yme=z.object({email:z.string().email()}),Jme=z.object({otp:z.string()}),Zme=z.object({otp:z.string()}),Xme=z.object({themeMode:z.optional(z.enum(["light","dark"])),themeVariables:z.optional(z.record(z.string(),z.string().or(z.number()))),w3mThemeVariables:z.optional(z.record(z.string(),z.string()))}),eye=z.object({metadata:z.object({name:z.string(),description:z.string(),url:z.string(),icons:z.array(z.string())}).optional(),sdkVersion:z.string().optional(),sdkType:z.string().optional(),projectId:z.string()}),tye=z.object({type:z.string()}),rye=z.object({action:z.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),nye=z.object({url:z.string()}),iye=z.object({userName:z.string()}),sye=z.object({email:z.string().optional().nullable(),address:z.string(),chainId:z.string().or(z.number()),accounts:z.array(z.object({address:z.string(),type:z.enum([Kr.ACCOUNT_TYPES.EOA,Kr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:z.string().optional().nullable()}),oye=z.object({action:z.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),aye=z.object({email:z.string().email().optional().nullable(),address:z.string(),chainId:z.string().or(z.number()),smartAccountDeployed:z.optional(z.boolean()),accounts:z.array(z.object({address:z.string(),type:z.enum([Kr.ACCOUNT_TYPES.EOA,Kr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:z.optional(z.string())}),cye=z.object({uri:z.string()}),uye=z.object({isConnected:z.boolean()}),lye=z.object({chainId:z.string().or(z.number())}),dye=z.object({chainId:z.string().or(z.number())}),fye=z.object({newEmail:z.string().email()}),hye=z.object({smartAccountEnabledNetworks:z.array(z.number())});z.object({address:z.string(),isDeployed:z.boolean()});const pye=z.object({version:z.string().optional()}),gye=z.object({type:z.string(),address:z.string()}),mye=z.any(),yye=z.object({method:z.literal("eth_accounts")}),wye=z.object({method:z.literal("eth_blockNumber")}),bye=z.object({method:z.literal("eth_call"),params:z.array(z.any())}),vye=z.object({method:z.literal("eth_chainId")}),Eye=z.object({method:z.literal("eth_estimateGas"),params:z.array(z.any())}),Aye=z.object({method:z.literal("eth_feeHistory"),params:z.array(z.any())}),_ye=z.object({method:z.literal("eth_gasPrice")}),Cye=z.object({method:z.literal("eth_getAccount"),params:z.array(z.any())}),xye=z.object({method:z.literal("eth_getBalance"),params:z.array(z.any())}),Sye=z.object({method:z.literal("eth_getBlockByHash"),params:z.array(z.any())}),Iye=z.object({method:z.literal("eth_getBlockByNumber"),params:z.array(z.any())}),Nye=z.object({method:z.literal("eth_getBlockReceipts"),params:z.array(z.any())}),Tye=z.object({method:z.literal("eth_getBlockTransactionCountByHash"),params:z.array(z.any())}),Pye=z.object({method:z.literal("eth_getBlockTransactionCountByNumber"),params:z.array(z.any())}),Rye=z.object({method:z.literal("eth_getCode"),params:z.array(z.any())}),Oye=z.object({method:z.literal("eth_getFilterChanges"),params:z.array(z.any())}),kye=z.object({method:z.literal("eth_getFilterLogs"),params:z.array(z.any())}),Dye=z.object({method:z.literal("eth_getLogs"),params:z.array(z.any())}),Mye=z.object({method:z.literal("eth_getProof"),params:z.array(z.any())}),Bye=z.object({method:z.literal("eth_getStorageAt"),params:z.array(z.any())}),Uye=z.object({method:z.literal("eth_getTransactionByBlockHashAndIndex"),params:z.array(z.any())}),Fye=z.object({method:z.literal("eth_getTransactionByBlockNumberAndIndex"),params:z.array(z.any())}),$ye=z.object({method:z.literal("eth_getTransactionByHash"),params:z.array(z.any())}),Lye=z.object({method:z.literal("eth_getTransactionCount"),params:z.array(z.any())}),jye=z.object({method:z.literal("eth_getTransactionReceipt"),params:z.array(z.any())}),zye=z.object({method:z.literal("eth_getUncleCountByBlockHash"),params:z.array(z.any())}),qye=z.object({method:z.literal("eth_getUncleCountByBlockNumber"),params:z.array(z.any())}),Hye=z.object({method:z.literal("eth_maxPriorityFeePerGas")}),Wye=z.object({method:z.literal("eth_newBlockFilter")}),Vye=z.object({method:z.literal("eth_newFilter"),params:z.array(z.any())}),Gye=z.object({method:z.literal("eth_newPendingTransactionFilter")}),Kye=z.object({method:z.literal("eth_sendRawTransaction"),params:z.array(z.any())}),Qye=z.object({method:z.literal("eth_syncing"),params:z.array(z.any())}),Yye=z.object({method:z.literal("eth_uninstallFilter"),params:z.array(z.any())}),d4=z.object({method:z.literal("personal_sign"),params:z.array(z.any())}),Jye=z.object({method:z.literal("eth_signTypedData_v4"),params:z.array(z.any())}),Zye=z.object({method:z.literal("eth_sendTransaction"),params:z.array(z.any())}),Xye=z.object({method:z.literal("solana_signMessage"),params:z.object({message:z.string(),pubkey:z.string()})}),e1e=z.object({method:z.literal("solana_signTransaction"),params:z.object({transaction:z.string()})}),t1e=z.object({method:z.literal("solana_signAllTransactions"),params:z.object({transactions:z.array(z.string())})}),r1e=z.object({method:z.literal("solana_signAndSendTransaction"),params:z.object({transaction:z.string(),options:z.object({skipPreflight:z.boolean().optional(),preflightCommitment:z.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:z.number().optional(),minContextSlot:z.number().optional()}).optional()})}),n1e=z.object({method:z.literal("wallet_sendCalls"),params:z.array(z.object({chainId:z.string().or(z.number()).optional(),from:z.string().optional(),version:z.string().optional(),capabilities:z.any().optional(),calls:z.array(z.object({to:z.string().startsWith("0x"),data:z.string().startsWith("0x").optional(),value:z.string().optional()}))}))}),i1e=z.object({method:z.literal("wallet_getCallsStatus"),params:z.array(z.string())}),s1e=z.object({method:z.literal("wallet_getCapabilities")}),o1e=z.object({method:z.literal("wallet_grantPermissions"),params:z.array(z.any())}),a1e=z.object({method:z.literal("wallet_revokePermissions"),params:z.any()}),c1e=z.object({method:z.literal("wallet_getAssets"),params:z.any()}),f4=z.object({token:z.string()}),xe=z.object({id:z.string().optional()}),gp={appEvent:xe.extend({type:Ce("APP_SWITCH_NETWORK"),payload:Hme}).or(xe.extend({type:Ce("APP_CONNECT_EMAIL"),payload:Wme})).or(xe.extend({type:Ce("APP_CONNECT_DEVICE")})).or(xe.extend({type:Ce("APP_CONNECT_OTP"),payload:Vme})).or(xe.extend({type:Ce("APP_CONNECT_SOCIAL"),payload:Gme})).or(xe.extend({type:Ce("APP_GET_FARCASTER_URI")})).or(xe.extend({type:Ce("APP_CONNECT_FARCASTER")})).or(xe.extend({type:Ce("APP_GET_USER"),payload:z.optional(Kme)})).or(xe.extend({type:Ce("APP_GET_SOCIAL_REDIRECT_URI"),payload:Qme})).or(xe.extend({type:Ce("APP_SIGN_OUT")})).or(xe.extend({type:Ce("APP_IS_CONNECTED"),payload:z.optional(f4)})).or(xe.extend({type:Ce("APP_GET_CHAIN_ID")})).or(xe.extend({type:Ce("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(xe.extend({type:Ce("APP_INIT_SMART_ACCOUNT")})).or(xe.extend({type:Ce("APP_SET_PREFERRED_ACCOUNT"),payload:tye})).or(xe.extend({type:Ce("APP_RPC_REQUEST"),payload:d4.or(c1e).or(yye).or(wye).or(bye).or(vye).or(Eye).or(Aye).or(_ye).or(Cye).or(xye).or(Sye).or(Iye).or(Nye).or(Tye).or(Pye).or(Rye).or(Oye).or(kye).or(Dye).or(Mye).or(Bye).or(Uye).or(Fye).or($ye).or(Lye).or(jye).or(zye).or(qye).or(Hye).or(Wye).or(Vye).or(Gye).or(Kye).or(Qye).or(Yye).or(d4).or(Jye).or(Zye).or(Xye).or(e1e).or(t1e).or(r1e).or(i1e).or(n1e).or(s1e).or(o1e).or(a1e)})).or(xe.extend({type:Ce("APP_UPDATE_EMAIL"),payload:Yme})).or(xe.extend({type:Ce("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Jme})).or(xe.extend({type:Ce("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Zme})).or(xe.extend({type:Ce("APP_SYNC_THEME"),payload:Xme})).or(xe.extend({type:Ce("APP_SYNC_DAPP_DATA"),payload:eye})).or(xe.extend({type:Ce("APP_RELOAD")})),frameEvent:xe.extend({type:Ce("FRAME_SWITCH_NETWORK_ERROR"),payload:Ir}).or(xe.extend({type:Ce("FRAME_SWITCH_NETWORK_SUCCESS"),payload:dye})).or(xe.extend({type:Ce("FRAME_CONNECT_EMAIL_SUCCESS"),payload:rye})).or(xe.extend({type:Ce("FRAME_CONNECT_EMAIL_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:nye})).or(xe.extend({type:Ce("FRAME_GET_FARCASTER_URI_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:iye})).or(xe.extend({type:Ce("FRAME_CONNECT_FARCASTER_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_CONNECT_OTP_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_CONNECT_OTP_SUCCESS")})).or(xe.extend({type:Ce("FRAME_CONNECT_DEVICE_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_CONNECT_DEVICE_SUCCESS")})).or(xe.extend({type:Ce("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:sye})).or(xe.extend({type:Ce("FRAME_CONNECT_SOCIAL_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_GET_USER_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_GET_USER_SUCCESS"),payload:aye})).or(xe.extend({type:Ce("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:cye})).or(xe.extend({type:Ce("FRAME_SIGN_OUT_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_SIGN_OUT_SUCCESS")})).or(xe.extend({type:Ce("FRAME_IS_CONNECTED_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_IS_CONNECTED_SUCCESS"),payload:uye})).or(xe.extend({type:Ce("FRAME_GET_CHAIN_ID_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_GET_CHAIN_ID_SUCCESS"),payload:lye})).or(xe.extend({type:Ce("FRAME_RPC_REQUEST_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_RPC_REQUEST_SUCCESS"),payload:mye})).or(xe.extend({type:Ce("FRAME_SESSION_UPDATE"),payload:f4})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_SUCCESS"),payload:oye})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:fye})).or(xe.extend({type:Ce("FRAME_SYNC_THEME_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_SYNC_THEME_SUCCESS")})).or(xe.extend({type:Ce("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(xe.extend({type:Ce("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:hye})).or(xe.extend({type:Ce("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:gye})).or(xe.extend({type:Ce("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_READY"),payload:pye})).or(xe.extend({type:Ce("FRAME_RELOAD_ERROR"),payload:Ir})).or(xe.extend({type:Ce("FRAME_RELOAD_SUCCESS")}))};function VA(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class u1e{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=fe.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:u}){if(!VA(Re.FRAME_EVENT_KEY,u))return;const l=gp.frameEvent.parse(u);l.id===s&&(o(l),window.removeEventListener("message",c))}ts.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{ts.isClient&&window.addEventListener("message",({data:o})=>{if(!VA(Re.FRAME_EVENT_KEY,o))return;const a=gp.frameEvent.parse(o);s(a)})},onAppEvent:s=>{ts.isClient&&window.addEventListener("message",({data:o})=>{if(!VA(Re.APP_EVENT_KEY,o))return;const a=gp.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(ts.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");gp.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(ts.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");gp.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),r&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),ts.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${ale}?projectId=${e}&chainId=${n}&version=${ule}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class l1e{constructor(e){var s;const r=y0({level:cle}),{logger:n,chunkLoggerController:i}=e3({opts:r});this.logger=ai(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class d1e{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i}){this.openRpcRequests=[],n&&(this.w3mLogger=new l1e(e)),this.w3mFrame=new u1e({projectId:e,isAppClient:!0,chainId:r,enableLogger:n}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(async o=>{o.type===Re.FRAME_READY&&(this.initPromise=void 0,await new Promise(a=>{setTimeout(a,500)}),s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!On.get(Re.EMAIL_LOGIN_USED_KEY)}getEmail(){return On.get(Re.EMAIL)}getUsername(){return On.get(Re.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:Re.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{ts.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const n=await this.appEvent({type:Re.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){var e;try{return this.appEvent({type:Re.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:Re.APP_CONNECT_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:Re.APP_IS_CONNECTED});return r!=null&&r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:Re.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return this.w3mFrame.initFrame(),this.appEvent({type:Re.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){var r;try{const n=await this.appEvent({type:Re.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:Re.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){var r;try{const n=await this.appEvent({type:Re.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){var r;try{return this.appEvent({type:Re.APP_SYNC_THEME,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){var r;try{return this.appEvent({type:Re.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:Re.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:Re.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:n,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async getUser(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:Re.APP_GET_USER,payload:{...e,chainId:n}});return this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){var r;try{this.w3mFrame.initFrame();const n=await this.appEvent({type:Re.APP_CONNECT_SOCIAL,payload:{uri:e}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:Re.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:Re.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const n=await this.appEvent({type:Re.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error switching network"),n}}async disconnect(){var e;try{const r=await this.appEvent({type:Re.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,n,i,s;try{if(Kr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const o=await this.appEvent({type:Re.APP_RPC_REQUEST,payload:e});return(n=this.rpcSuccessHandler)==null||n.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Re.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Re.FRAME_IS_CONNECTED_ERROR&&e(),r.type===Re.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Re.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Re.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Re.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===Re.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Kr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Re.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===Re.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:n})=>{Kr.SAFE_RPC_METHODS.includes(n)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let r;function n(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=n(e.type);return[Re.APP_CONNECT_EMAIL,Re.APP_CONNECT_DEVICE,Re.APP_CONNECT_OTP,Re.APP_CONNECT_SOCIAL,Re.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(s)&&(r=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,c)=>{var d,f,h;const u=Math.random().toString(36).substring(7);if((h=(d=this.w3mLogger)==null?void 0:(f=d.logger).info)==null||h.call(f,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u}),s==="RPC_REQUEST"){const p=e;this.openRpcRequests=[...this.openRpcRequests,{...p.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?c(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function l(p,g){var w,y,b;p.id===u&&((y=g==null?void 0:(w=g.logger).info)==null||y.call(w,{framEvent:p,id:u},"Received frame response"),p.type===`@w3m-frame/${s}_SUCCESS`?(r&&clearTimeout(r),"payload"in p&&a(p.payload),a(void 0)):p.type===`@w3m-frame/${s}_ERROR`&&(r&&clearTimeout(r),"payload"in p&&c(new Error(((b=p.payload)==null?void 0:b.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,p=>l(p,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){On.set(Re.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){On.set(Re.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&On.set(Re.EMAIL,e),On.set(Re.EMAIL_LOGIN_USED_KEY,"true"),On.delete(Re.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){On.delete(Re.EMAIL_LOGIN_USED_KEY),On.delete(Re.EMAIL),On.delete(Re.LAST_USED_CHAIN_KEY),On.delete(Re.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&On.set(Re.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=On.get(Re.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){On.set(Re.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class od{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i}){return od.instance||(od.instance=new d1e({projectId:e,chainId:r,enableLogger:n,onTimeout:i})),od.instance}}const f1e={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof kr<"u"&&typeof{}<"u"?{}.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},uC={filterOutDuplicatesByRDNS(t){const e=pe.state.enableEIP6963?tt.state.connectors:[],r=_e.getRecentWallets(),n=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&Ge.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=tt.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=_e.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=tt.state,r=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!r[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var c;const r=(t==null?void 0:t.connectMethodsOrder)||((c=pe.state.features)==null?void 0:c.connectMethodsOrder),n=e||tt.state.connectors;if(r)return r;const{injected:i,announced:s}=vw.getConnectorsByType(n,Qe.state.recommended,Qe.state.featured),o=i.filter(vw.showConnector),a=s.filter(vw.showConnector);return o.length||a.length?["wallet","email","social"]:f1e.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Qe.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&Qe.state.excludedWallets.some(n=>mE.isLowerCaseMatch(n.name,t.name));return e||r}},vw={getConnectorsByType(t,e,r){const{customWallets:n}=pe.state,i=_e.getRecentWallets(),s=uC.filterOutDuplicateWallets(e),o=uC.filterOutDuplicateWallets(r),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),u=t.filter(d=>d.type==="INJECTED"),l=t.filter(d=>d.type==="EXTERNAL");return{custom:n,recent:i,external:l,multiChain:a,announced:c,injected:u,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,r=!!e&&Qe.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),n=!!t.name&&Qe.state.excludedWallets.some(s=>mE.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(!Ge.isMobile()&&t.name==="Browser Wallet"||!e&&!Yt.checkInstalled()||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(V.state.chains.values()).some(r=>tt.getConnectorId(r.namespace)===fe.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(u=>(u=pe.state.features)==null?void 0:u.connectorTypeOrder)()??[]}){const l=vw.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:pe.state.enableWalletConnect&&!l},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(y=>y.isEnabled),p=new Set(h.map(y=>y.type)),g=c.filter(y=>p.has(y)).map(y=>({type:y,isEnabled:!0})),w=h.filter(({type:y})=>!g.some(({type:E})=>E===y));return Array.from(new Set([...g,...w].map(({type:y})=>y)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ew=globalThis,cS=Ew.ShadowRoot&&(Ew.ShadyCSS===void 0||Ew.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,uS=Symbol(),h4=new WeakMap;let i$=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==uS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(cS&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=h4.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&h4.set(r,e))}return e}toString(){return this.cssText}};const Ss=t=>new i$(typeof t=="string"?t:t+"",void 0,uS),hh=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new i$(r,t,uS)},h1e=(t,e)=>{if(cS)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=Ew.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},p4=cS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Ss(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:p1e,defineProperty:g1e,getOwnPropertyDescriptor:m1e,getOwnPropertyNames:y1e,getOwnPropertySymbols:w1e,getPrototypeOf:b1e}=Object,ju=globalThis,g4=ju.trustedTypes,v1e=g4?g4.emptyScript:"",GA=ju.reactiveElementPolyfillSupport,Jp=(t,e)=>t,lC={toAttribute(t,e){switch(e){case Boolean:t=t?v1e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},s$=(t,e)=>!p1e(t,e),m4={attribute:!0,type:String,converter:lC,reflect:!1,useDefault:!1,hasChanged:s$};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ju.litPropertyMetadata??(ju.litPropertyMetadata=new WeakMap);let kf=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=m4){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&g1e(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=m1e(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??m4}static _$Ei(){if(this.hasOwnProperty(Jp("elementProperties")))return;const e=b1e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Jp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Jp("properties"))){const r=this.properties,n=[...y1e(r),...w1e(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(p4(i))}else e!==void 0&&r.push(p4(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return h1e(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var s;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const o=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:lC).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){var s,o;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=n.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:lC;this._$Em=i,this[i]=c.fromAttribute(r,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,r,n){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(n??(n=s.getPropertyOptions(e)),!((n.hasChanged??s$)(o,r)||n.useDefault&&n.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};kf.elementStyles=[],kf.shadowRootOptions={mode:"open"},kf[Jp("elementProperties")]=new Map,kf[Jp("finalized")]=new Map,GA==null||GA({ReactiveElement:kf}),(ju.reactiveElementVersions??(ju.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zp=globalThis,$b=Zp.trustedTypes,y4=$b?$b.createPolicy("lit-html",{createHTML:t=>t}):void 0,o$="$lit$",du=`lit$${Math.random().toFixed(9).slice(2)}$`,a$="?"+du,E1e=`<${a$}>`,Td=document,vm=()=>Td.createComment(""),Em=t=>t===null||typeof t!="object"&&typeof t!="function",lS=Array.isArray,A1e=t=>lS(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",KA=`[ 	
\f\r]`,mp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,w4=/-->/g,b4=/>/g,El=RegExp(`>|${KA}(?:([^\\s"'>=/]+)(${KA}*=${KA}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),v4=/'/g,E4=/"/g,c$=/^(?:script|style|textarea|title)$/i,u$=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),RSe=u$(1),OSe=u$(2),n0=Symbol.for("lit-noChange"),An=Symbol.for("lit-nothing"),A4=new WeakMap,zl=Td.createTreeWalker(Td,129);function l$(t,e){if(!lS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return y4!==void 0?y4.createHTML(e):e}const _1e=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=mp;for(let a=0;a<r;a++){const c=t[a];let u,l,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,l=o.exec(c),l!==null);)f=o.lastIndex,o===mp?l[1]==="!--"?o=w4:l[1]!==void 0?o=b4:l[2]!==void 0?(c$.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=El):l[3]!==void 0&&(o=El):o===El?l[0]===">"?(o=i??mp,d=-1):l[1]===void 0?d=-2:(d=o.lastIndex-l[2].length,u=l[1],o=l[3]===void 0?El:l[3]==='"'?E4:v4):o===E4||o===v4?o=El:o===w4||o===b4?o=mp:(o=El,i=void 0);const h=o===El&&t[a+1].startsWith("/>")?" ":"";s+=o===mp?c+E1e:d>=0?(n.push(u),c.slice(0,d)+o$+c.slice(d)+du+h):c+du+(d===-2?a:h)}return[l$(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class Am{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[u,l]=_1e(e,r);if(this.el=Am.createElement(u,n),zl.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=zl.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(o$)){const f=l[o++],h=i.getAttribute(d).split(du),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:p[2],strings:h,ctor:p[1]==="."?x1e:p[1]==="?"?S1e:p[1]==="@"?I1e:wE}),i.removeAttribute(d)}else d.startsWith(du)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(c$.test(i.tagName)){const d=i.textContent.split(du),f=d.length-1;if(f>0){i.textContent=$b?$b.emptyScript:"";for(let h=0;h<f;h++)i.append(d[h],vm()),zl.nextNode(),c.push({type:2,index:++s});i.append(d[f],vm())}}}else if(i.nodeType===8)if(i.data===a$)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(du,d+1))!==-1;)c.push({type:7,index:s}),d+=du.length-1}s++}}static createElement(e,r){const n=Td.createElement("template");return n.innerHTML=e,n}}function i0(t,e,r=t,n){var o,a;if(e===n0)return e;let i=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const s=Em(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(e=i0(t,i._$AS(t,e.values),i,n)),e}class C1e{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??Td).importNode(r,!0);zl.currentNode=i;let s=zl.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new Oy(s,s.nextSibling,this,e):c.type===1?u=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(u=new N1e(s,this,e)),this._$AV.push(u),c=n[++a]}o!==(c==null?void 0:c.index)&&(s=zl.nextNode(),o++)}return zl.currentNode=Td,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Oy{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=An,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=i0(this,e,r),Em(e)?e===An||e==null||e===""?(this._$AH!==An&&this._$AR(),this._$AH=An):e!==this._$AH&&e!==n0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):A1e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==An&&Em(this._$AH)?this._$AA.nextSibling.data=e:this.T(Td.createTextNode(e)),this._$AH=e}$(e){var s;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Am.createElement(l$(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(r);else{const o=new C1e(i,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=A4.get(e.strings);return r===void 0&&A4.set(e.strings,r=new Am(e)),r}k(e){lS(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Oy(this.O(vm()),this.O(vm()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class wE{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=An,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=An}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=i0(this,e,r,0),o=!Em(e)||e!==this._$AH&&e!==n0,o&&(this._$AH=e);else{const a=e;let c,u;for(e=s[0],c=0;c<s.length-1;c++)u=i0(this,a[n+c],r,c),u===n0&&(u=this._$AH[c]),o||(o=!Em(u)||u!==this._$AH[c]),u===An?e=An:e!==An&&(e+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(e)}j(e){e===An?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class x1e extends wE{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===An?void 0:e}}class S1e extends wE{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==An)}}class I1e extends wE{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=i0(this,e,r,0)??An)===n0)return;const n=this._$AH,i=e===An&&n!==An||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==An&&(n===An||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}let N1e=class{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){i0(this,e)}};const QA=Zp.litHtmlPolyfillSupport;QA==null||QA(Am,Oy),(Zp.litHtmlVersions??(Zp.litHtmlVersions=[])).push("3.3.0");const T1e=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new Oy(e.insertBefore(vm(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ad=globalThis;class Aw extends kf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=T1e(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return n0}}var YO;Aw._$litElement$=!0,Aw.finalized=!0,(YO=ad.litElementHydrateSupport)==null||YO.call(ad,{LitElement:Aw});const YA=ad.litElementPolyfillSupport;YA==null||YA({LitElement:Aw});(ad.litElementVersions??(ad.litElementVersions=[])).push("4.2.0");let Xp,zu,qu;function DSe(t,e){Xp=document.createElement("style"),zu=document.createElement("style"),qu=document.createElement("style"),Xp.textContent=ph(t).core.cssText,zu.textContent=ph(t).dark.cssText,qu.textContent=ph(t).light.cssText,document.head.appendChild(Xp),document.head.appendChild(zu),document.head.appendChild(qu),d$(e)}function d$(t){zu&&qu&&(t==="light"?(zu.removeAttribute("media"),qu.media="enabled"):(qu.removeAttribute("media"),zu.media="enabled"))}function P1e(t){Xp&&zu&&qu&&(Xp.textContent=ph(t).core.cssText,zu.textContent=ph(t).dark.cssText,qu.textContent=ph(t).light.cssText)}function ph(t){return{core:hh`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ss(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ss((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ss((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Ss((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Ss((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:hh`
      :root {
        --w3m-color-mix: ${Ss((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Ss(cc(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ss(cc(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:hh`
      :root {
        --w3m-color-mix: ${Ss((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Ss(cc(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ss(cc(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const MSe=hh`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,BSe=hh`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,USe=hh`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,D1={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};function ky(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const _4=ky({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),C4=ky({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});ky({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});ky({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});ky({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const R1e={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},bE={getMethodsByChainNamespace(t){return R1e[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const u=`${o}:${s}`,l=n[o];switch(l.chains.push(u),u){case _4.caipNetworkId:l.chains.push(_4.deprecatedCaipNetworkId);break;case C4.caipNetworkId:l.chains.push(C4.deprecatedCaipNetworkId);break}return l!=null&&l.rpcMap&&c&&(l.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var n;const e=await Q7.resolveName(t);return((n=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class dS{constructor({provider:e,namespace:r}){this.id=fe.CONNECTOR_ID.WALLET_CONNECT,this.name=Iu.ConnectorNamesMap[fe.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Iu.ConnectorImageIds[fe.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=V.getCaipNetworks.bind(V),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=pe.state.universalProviderConfigOverride,i=bE.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return Qp.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:O1e})}}const O1e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class f${constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=r=>V.getCaipNetworks(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:fe.CONNECTOR_ID.AUTH,type:"AUTH",name:fe.CONNECTOR_NAMES.AUTH,provider:e,imageId:Iu.ConnectorImageIds[fe.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){Ne.setStatus(e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const o=i,a=(s=Ne.state.preferredAccountTypes)==null?void 0:s[r.chainNamespace];await o.switchNetwork(r.caipNetworkId);const c=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof dS);if(!e)throw new Error("WalletConnectConnector not found");return e}}class k1e extends f${setUniversalProvider(e){this.addConnector(new dS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const r=this.provider,n=((a=(o=(s=(i=r==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,u]=c.split(":");return u}).filter((c,u,l)=>l.indexOf(c)===u))||[];return Promise.resolve({accounts:n.map(c=>Ge.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,u;if(!(e.caipNetwork&&_n.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(Ne.state.balanceLoading&&e.chainId===((c=V.state.activeCaipNetwork)==null?void 0:c.id))return{balance:Ne.state.balance||"0.00",symbol:Ne.state.balanceSymbol||""};const i=(await Ne.fetchTokenBalance()).find(l=>{var d,f;return l.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&l.symbol===((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=V.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===fe.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:GM.encode(new TextEncoder().encode(n)),pubkey:i}},(a=V.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},(c=V.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,u;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===fe.CHAIN.EVM)try{await((i=n.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:ls(r.id)}]}))}catch(l){if(l.code===D1.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||l.code===D1.ERROR_INVALID_CHAIN_ID||l.code===D1.ERROR_CODE_DEFAULT||((o=(s=l==null?void 0:l.data)==null?void 0:s.originalError)==null?void 0:o.code)===D1.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((u=n.provider)==null?void 0:u.request({method:"wallet_addEthereumChain",params:[{chainId:ls(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class D1e{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{var i,s,o,a;if(r){const c=(s=(i=V.getNetworkData(r))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(l=>l.id===n);if(c)return c;const u=(o=V.getNetworkData(r))==null?void 0:o.caipNetwork;return u||((a=V.getRequestedCaipNetworks(r).filter(l=>l.chainNamespace===r))==null?void 0:a[0])}return V.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>V.getCaipNetworks(r),this.getActiveChainNamespace=()=>V.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{V.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>V.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>V.state.activeChain===r||!r?V.state.activeCaipAddress:V.getAccountProp("caipAddress",r),this.setClientId=r=>{He.setClientId(r)},this.getProvider=r=>$t.getProvider(r),this.getProviderType=r=>$t.getProviderId(r),this.getPreferredAccountType=r=>{var n;return(n=Ne.state.preferredAccountTypes)==null?void 0:n[r]},this.setCaipAddress=(r,n)=>{Ne.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{Ne.setBalance(r,n,i)},this.setProfileName=(r,n)=>{Ne.setProfileName(r,n)},this.setProfileImage=(r,n)=>{Ne.setProfileImage(r,n)},this.setUser=(r,n)=>{Ne.setUser(r,n),pe.state.enableEmbedded&&jr.close()},this.resetAccount=r=>{Ne.resetAccount(r)},this.setCaipNetwork=r=>{V.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{V.setChainNetworkData(n,{caipNetwork:r})},this.setAllAccounts=(r,n)=>{Ne.setAllAccounts(r,n),pe.setHasMultipleAddresses((r==null?void 0:r.length)>1)},this.setStatus=(r,n)=>{Ne.setStatus(r,n),tt.isConnected()?_e.setConnectionStatus("connected"):_e.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>V.getAccountProp("address",r),this.setConnectors=r=>{const n=[...tt.state.allConnectors,...r];tt.setConnectors(n)},this.fetchIdentity=r=>He.fetchIdentity(r),this.getReownName=r=>Q7.getNamesForAddress(r),this.getConnectors=()=>tt.getConnectors(),this.getConnectorImage=r=>S9.getConnectorImage(r),this.setConnectedWalletInfo=(r,n)=>{const i=$t.getProviderId(n),s=r?{...r,type:i}:void 0;Ne.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!V.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{Ne.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{Ne.removeAddressLabel(r,n)},this.getAddress=r=>V.state.activeChain===r||!r?Ne.state.address:V.getAccountProp("address",r),this.setApprovedCaipNetworksData=r=>V.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{V.resetNetwork(r)},this.addConnector=r=>{tt.addConnector(r)},this.resetWcConnection=()=>{Yt.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{Ne.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{Ne.setSmartAccountDeployed(r,n)},this.setSmartAccountEnabledNetworks=(r,n)=>{V.setSmartAccountEnabledNetworks(r,n)},this.setPreferredAccountType=(r,n)=>{Ne.setPreferredAccountType(r,n)},this.setEIP6963Enabled=r=>{pe.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,r){const n=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(n!=null&&n.length)return[...new Set(n)];const i=r==null?void 0:r.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),ga.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,delete r.universalProvider,Wt.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(i=>i.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Xn.setThemeMode(e.themeMode),e.themeVariables&&Xn.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");V.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&V.setActiveCaipNetwork(r)}initializeConnectionController(e){Yt.setWcBasic(e.basic??!1)}initializeConnectorController(){tt.initialize(this.chainNamespaces)}initializeOptionsController(e){var o;pe.setDebug(e.debug!==!1),pe.setEnableWalletConnect(e.enableWalletConnect!==!1),pe.setEnableWalletGuide(e.enableWalletGuide!==!1),pe.setEnableWallets(e.enableWallets!==!1),pe.setEIP6963Enabled(e.enableEIP6963!==!1),pe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),pe.setEnableAuthLogger(e.enableAuthLogger!==!1),pe.setCustomRpcUrls(e.customRpcUrls),pe.setSdkVersion(e.sdkVersion),pe.setProjectId(e.projectId),pe.setEnableEmbedded(e.enableEmbedded),pe.setAllWallets(e.allWallets),pe.setIncludeWalletIds(e.includeWalletIds),pe.setExcludeWalletIds(e.excludeWalletIds),pe.setFeaturedWalletIds(e.featuredWalletIds),pe.setTokens(e.tokens),pe.setTermsConditionsUrl(e.termsConditionsUrl),pe.setPrivacyPolicyUrl(e.privacyPolicyUrl),pe.setCustomWallets(e.customWallets),pe.setFeatures(e.features),pe.setAllowUnsupportedChain(e.allowUnsupportedChain),pe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),pe.setDefaultAccountTypes(e.defaultAccountTypes);const r=_e.getPreferredAccountTypes(),n={...pe.state.defaultAccountTypes,...r};Ne.setPreferredAccountTypes(n);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),pe.setMetadata(e.metadata),pe.setDisableAppend(e.disableAppend),pe.setEnableEmbedded(e.enableEmbedded),pe.setSIWX(e.siwx),!e.projectId){td.open(jl.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===fe.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");pe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,i;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=oa.getUnsupportedNetwork(`${r}:${e}`);V.setActiveCaipNetwork(n)}}getDefaultNetwork(){return oa.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return oa.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return oa.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return r?oa.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=V.state.activeChain,r=this.getAdapter(e),n=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!r)throw new Error("Adapter not found");const i=await r.connectWalletConnect(n);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),_e.setConnectedNamespaces([...V.state.chains.keys()]),this.chainNamespaces.forEach(o=>{tt.setConnectorId(mr.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:n,provider:i,chain:s,caipNetwork:o})=>{var h,p,g,w,y,b;const a=V.state.activeChain,c=s||a,u=this.getAdapter(c);if(s&&s!==a&&!o){const E=this.getCaipNetworks().find(x=>x.chainNamespace===s);E&&this.setCaipNetwork(E)}if(!u)throw new Error("Adapter not found");const l=this.getCaipNetwork(c),d=await u.connect({id:e,info:r,type:n,provider:i,chainId:(o==null?void 0:o.id)||(l==null?void 0:l.id),rpcUrl:((g=(p=(h=o==null?void 0:o.rpcUrls)==null?void 0:h.default)==null?void 0:p.http)==null?void 0:g[0])||((b=(y=(w=l==null?void 0:l.rpcUrls)==null?void 0:w.default)==null?void 0:y.http)==null?void 0:b[0])});if(!d)return;_e.addConnectedNamespace(c),this.syncProvider({...d,chainNamespace:c});const{accounts:f}=await u.getAccounts({namespace:c,id:e});this.setAllAccounts(f,c),this.setStatus("connected",c)},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{var a;const s=V.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),_e.addConnectedNamespace(s))},disconnect:async e=>{const r=e||V.state.activeChain,n=this.getAdapter(r),i=$t.getProvider(r),s=$t.getProviderId(r);await(n==null?void 0:n.disconnect({provider:i,providerType:s})),_e.removeConnectedNamespace(r),$t.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r)},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(V.state.activeChain),n=await(r==null?void 0:r.signMessage({message:e,address:Ne.state.address,provider:$t.getProvider(V.state.activeChain)}));return(n==null?void 0:n.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===fe.CHAIN.EVM){const r=this.getAdapter(V.state.activeChain),n=$t.getProvider(V.state.activeChain),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===fe.CHAIN.EVM){const r=this.getAdapter(V.state.activeChain),n=$t.getProvider(V.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(r==null?void 0:r.estimateGas({...e,provider:n,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=this.getAdapter(V.state.activeChain),r=await(e==null?void 0:e.getProfile({address:Ne.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id)}));return(r==null?void 0:r.profileImage)||!1},getEnsAddress:async e=>{const r=this.getAdapter(V.state.activeChain),n=this.getCaipNetwork();if(!n)return!1;const i=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:n}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const r=this.getAdapter(V.state.activeChain),n=this.getCaipNetwork(),i=this.getCaipAddress(),s=$t.getProvider(V.state.activeChain);if(!n||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(r==null?void 0:r.writeContract({...e,caipNetwork:n,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,r)=>{const n=this.getAdapter(V.state.activeChain);return(n==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const n=this.getAdapter(V.state.activeChain);return(n==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(V.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(V.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(V.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(V.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Yt.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,n,i,s,o;if($t.getProviderId(V.state.activeChain)===mr.CONNECTOR_TYPE_WALLET_CONNECT){const a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=$t.getProvider(r),s=$t.getProviderId(r);if(e.chainNamespace===V.state.activeChain){const o=this.getAdapter(r);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===mr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=jc.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===n);return i?(i.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new k1e({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=_e.getConnectionStatus();n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(_e.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(u=>u.id===s||u.caipNetworkId===s),a=V.state.activeChain===e,c=V.getAccountProp("address",e);if(o){const u=a&&i?i:c;u&&this.syncAccount({address:u,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const i=Ne.state.address,s=V.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=V.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=V.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=V.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var r,n,i;await this.getUniversalProvider(),this.universalProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null||i.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=tt.getConnectorId(e);switch(this.setStatus("connecting",e),r){case fe.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case fe.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const r=this.getAdapter(e),n=tt.getConnectorId(e),i=this.getCaipNetwork(e),s=tt.getConnectors(e).find(u=>u.id===n);try{if(!r||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const u=await(r==null?void 0:r.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(c=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(u){const l=await(r==null?void 0:r.getAccounts({namespace:e,id:s.id}));l&&l.accounts.length>0?this.setAllAccounts(l.accounts,e):this.setAllAccounts([Ge.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var a,c,u,l,d;const n=this.getAdapter(r),i=((l=(u=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:u[r])==null?void 0:l.accounts)||[],s=(d=V.state.activeCaipNetwork)==null?void 0:d.id,o=i.find(f=>{const{chainId:h}=jc.parseCaipAddress(f);return h===(s==null?void 0:s.toString())})||i[0];if(o){const f=jc.validateCaipAddress(o),{chainId:h,address:p}=jc.parseCaipAddress(f);if($t.setProviderId(r,mr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&V.state.activeCaipNetwork&&(n==null?void 0:n.namespace)!==fe.CHAIN.EVM){const g=n==null?void 0:n.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:V.state.activeCaipNetwork});$t.setProvider(r,g)}else $t.setProvider(r,this.universalProvider);tt.setConnectorId(fe.CONNECTOR_ID.WALLET_CONNECT,r),_e.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:p,chainId:h,chainNamespace:r})}else this.setStatus("disconnected",r);await V.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var n,i,s,o,a;const r=(a=(o=(s=(i=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:u}=jc.parseCaipAddress(c);return u}).filter((c,u,l)=>l.indexOf(c)===u);r&&this.setAllAccounts(r.map(c=>Ge.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){$t.setProviderId(i,e),$t.setProvider(i,r),tt.setConnectorId(n,i)}async syncAccount(e){var d,f;const r=e.chainNamespace===V.state.activeChain,n=V.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=_e.getActiveNetworkProps(),c=s||a,u=((d=V.state.activeCaipNetwork)==null?void 0:d.name)===fe.UNSUPPORTED_NETWORK_NAME,l=V.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!l)&&c){let h=this.getCaipNetworks().find(w=>w.id.toString()===c.toString()),p=this.getCaipNetworks().find(w=>w.chainNamespace===o);if(!l&&!h&&!p){const w=this.getApprovedCaipNetworkIds()||[],y=w.find(E=>{var x;return((x=jc.parseCaipNetworkId(E))==null?void 0:x.chainId)===c.toString()}),b=w.find(E=>{var x;return((x=jc.parseCaipNetworkId(E))==null?void 0:x.chainNamespace)===o});h=this.getCaipNetworks().find(E=>E.caipNetworkId===y),p=this.getCaipNetworks().find(E=>E.caipNetworkId===b||"deprecatedCaipNetworkId"in E&&E.deprecatedCaipNetworkId===b)}const g=h||p;(g==null?void 0:g.chainNamespace)===V.state.activeChain?pe.state.enableNetworkSwitch&&!pe.state.allowUnsupportedChain&&((f=V.state.activeCaipNetwork)==null?void 0:f.name)===fe.UNSUPPORTED_NETWORK_NAME?V.showUnsupportedChainUI():this.setCaipNetwork(g):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),mE.isLowerCaseMatch(i,Ne.state.address)||this.syncAccountInfo(i,g==null?void 0:g.id,o),r?await this.syncBalance({address:i,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n==null?void 0:n.id,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var i;const r=tt.getConnectorId(e),n=$t.getProviderId(e);if(n===mr.CONNECTOR_TYPE_ANNOUNCED||n===mr.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>o.id===r);if(s){const{info:o,name:a,imageUrl:c}=s,u=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:u,...o},e)}}}else if(n===mr.CONNECTOR_TYPE_WALLET_CONNECT){const s=$t.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(r)if(r===fe.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===fe.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!_g.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>{var i;return n.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=V.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});this.setBalance(o.balance,o.symbol,n)}}async initializeUniversalAdapter(){var n,i,s,o,a,c,u,l,d,f;const e=Hge.createLogger((h,...p)=>{h&&this.handleAlertError(h),console.error(...p)}),r={projectId:(n=this.options)==null?void 0:n.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(u=this.options)==null?void 0:u.metadata.url:"",icons:(l=this.options)!=null&&l.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};pe.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await sle.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Yt.setUri(e)}),this.universalProvider.on("connect",Yt.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Yt.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const r=this.getCaipNetworks().find(i=>i.id==e),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(n==null?void 0:n.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(bE.isSessionEventData(e)){const{name:r,data:n}=e.params.event;r==="accountsChanged"&&Array.isArray(n)&&Ge.isCaipAddress(n[0])&&this.syncAccount(jc.parseCaipAddress(n[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ge.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Wt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(jl.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=jl.ALERT_ERRORS[o];a&&(td.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var i;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Yt.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return jr.open({...e,data:{swap:e.arguments}})}return jr.open(e)}async close(){await this.injectModalUi(),jr.close()}setLoading(e,r){jr.setLoading(e,r)}async disconnect(e){await Yt.disconnect(e)}getError(){return""}getChainId(){var e;return(e=V.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){td.open(jl.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await V.switchActiveNetwork(r)}getWalletProvider(){return V.state.activeChain?$t.state.providers[V.state.activeChain]:null}getWalletProviderType(){return $t.getProviderId(V.state.activeChain)}subscribeProviders(e){return $t.subscribeProviders(e)}getThemeMode(){return Xn.state.themeMode}getThemeVariables(){return Xn.state.themeVariables}setThemeMode(e){Xn.setThemeMode(e),d$(Xn.state.themeMode)}setTermsConditionsUrl(e){pe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){pe.setPrivacyPolicyUrl(e)}setThemeVariables(e){Xn.setThemeVariables(e),P1e(Xn.state.themeVariables)}subscribeTheme(e){return Xn.subscribe(e)}getWalletInfo(){return Ne.state.connectedWalletInfo}getAccount(e){var s;const r=tt.getAuthConnector(e),n=V.getAccountData(e),i=V.state.activeChain;if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:Ge.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r?{user:n.user?{...n.user,username:_e.getConnectedSocialUsername()}:void 0,authProvider:n.socialProvider||"email",accountType:(s=n.preferredAccountTypes)==null?void 0:s[e||i],isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?V.subscribeChainProp("accountState",n,r):V.subscribe(n),tt.subscribe(n)}subscribeNetwork(e){return V.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return Ne.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Ne.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){V.subscribeKey("activeCaipNetwork",e)}getState(){return ga.state}subscribeState(e){return ga.subscribe(e)}showErrorMessage(e){Un.showError(e)}showSuccessMessage(e){Un.showSuccess(e)}getEvent(){return{...Wt.state}}subscribeEvents(e){return Wt.subscribe(e)}replace(e){Bt.replace(e)}redirect(e){Bt.push(e)}popTransactionStack(e){Bt.popTransactionStack(e)}isOpen(){return jr.state.open}isTransactionStackEmpty(){return Bt.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=Bt.state.transactionStack[Bt.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){pe.setFeatures(e)}updateOptions(e){const n={...pe.state||{},...e};pe.setOptions(n)}setConnectMethodsOrder(e){pe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){pe.setWalletFeaturesOrder(e)}setCollapseWallets(e){pe.setCollapseWallets(e)}setSocialsOrder(e){pe.setSocialsOrder(e)}getConnectMethodsOrder(){return uC.getConnectOrderMethod(pe.state.features,tt.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||V.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&V.removeNetwork(e,r)}}let x4=!1;class M1e extends D1e{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{ts.checkIfRequestExists(r)?ts.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(Kr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(Kr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((r,n)=>{const i=ts.checkIfRequestIsSafe(n),s=Ne.state.address,o=V.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const r=V.state.activeChain;tt.getConnectorId(r)===fe.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(async r=>{var a,c;const n=V.state.activeChain,i=n===fe.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`,s=r.preferredAccountType||((a=Ne.state.preferredAccountTypes)==null?void 0:a[n])||pe.state.defaultAccountTypes[n];mE.isLowerCaseMatch(r.address,Ne.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:n}),this.setCaipAddress(i,n),this.setUser({...Ne.state.user||{},...r},n),this.setSmartAccountDeployed(!!r.smartAccountDeployed,n),this.setPreferredAccountType(s,n);const o=(c=r.accounts)==null?void 0:c.map(u=>{var l;return Ge.createAccount(n,u.address,u.type||((l=Ne.state.preferredAccountTypes)==null?void 0:l[n])||pe.state.defaultAccountTypes[n])});this.setAllAccounts(o||[Ge.createAccount(n,r.address,r.preferredAccountType||s)],n),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,n)}),e.onSocialConnected(({userName:r})=>{this.setUser({...Ne.state.user||{},username:r},V.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,V.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:n})=>{r&&this.setPreferredAccountType(n,V.state.activeChain)})}async syncAuthConnector(e,r){var l,d,f,h;const n=fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!n)return;this.setLoading(!0,r);const i=e.getLoginEmailUsed();this.setLoading(i,r),i&&this.setStatus("connecting",r);const s=e.getEmail(),o=e.getUsername();this.setUser({...((l=Ne.state)==null?void 0:l.user)||{},username:o,email:s},V.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=Xn.getSnapshot(),u=pe.getSnapshot();e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:cc(c.themeVariables,c.themeMode)}),r&&n&&(a&&((d=this.connectionControllerClient)!=null&&d.connectExternal)?(await((h=this.connectionControllerClient)==null?void 0:h.connectExternal({id:fe.CONNECTOR_ID.AUTH,info:{name:fe.CONNECTOR_ID.AUTH},type:mr.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=V.state.activeCaipNetwork)==null?void 0:f.id,chain:r})),this.setStatus("connected",r)):tt.getConnectorId(r)===fe.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),_e.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!Ge.isTelegram())return;const n=_e.getTelegramSocialProvider();if(!n||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;Ne.setSocialProvider(n,e),await((r=this.authProvider)==null?void 0:r.init());const o=tt.getAuthConnector();n&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await Yt.connectExternal(o,o.chain),_e.setConnectedSocialProvider(n),_e.removeTelegramSocialProvider(),Wt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var o,a,c,u,l,d,f,h,p,g,w,y,b;if(!fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?_n.DEFAULT_FEATURES.email:(u=(c=this.options)==null?void 0:c.features)==null?void 0:u.email,i=(d=(l=this.options)==null?void 0:l.features)!=null&&d.socials?((p=(h=(f=this.options)==null?void 0:f.features)==null?void 0:h.socials)==null?void 0:p.length)>0:_n.DEFAULT_FEATURES.socials,s=n||i;!this.authProvider&&((g=this.options)!=null&&g.projectId)&&s&&(this.authProvider=od.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(w=this.getCaipNetwork(e))==null?void 0:w.caipNetworkId,onTimeout:()=>{td.open(jl.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),ga.subscribeOpen(E=>{var x;!E&&this.isTransactionStackEmpty()&&((x=this.authProvider)==null||x.rejectRpcRequests())}),e===fe.CHAIN.EVM&&((y=Ne.state.preferredAccountTypes)!=null&&y.eip155)&&this.authProvider.setPreferredAccount((b=Ne.state.preferredAccountTypes)==null?void 0:b.eip155),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,n,i;this.createAuthProvider(e),this.authProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setAuthProvider)==null||i.call(n,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Qe.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const r=V.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===V.state.activeChain&&i){const a=this.getAdapter(n),c=$t.getProvider(n),u=$t.getProviderId(n);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:u})),this.setCaipNetwork(e)}else{const c=$t.getProviderId(r)===mr.CONNECTOR_TYPE_AUTH,u=$t.getProviderId(n),l=u===mr.CONNECTOR_TYPE_AUTH,d=fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if((c||l)&&d)try{V.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:fe.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:mr.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const h=this.getAdapter(n);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===mr.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:n}){var o;const i=`${n}:${r}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(n!==fe.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,n),this.setProfileImage(c,n),!a){const u=this.getAdapter(n),l=await(u==null?void 0:u.getProfile({address:e,chainId:Number(r)}));l!=null&&l.profileName?(this.setProfileName(l.profileName,n),l.profileImage&&this.setProfileImage(l.profileImage,n)):(await this.syncReownName(e,n),this.setProfileImage(null,n))}}catch{await this.syncReownName(e,n),r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=$t.getProviderId(e);if(r===mr.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=_e.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!x4&&Ge.isClient()){const e={..._n.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(Zn(()=>import("./embedded-wallet-360bfa6f.js"),["assets/embedded-wallet-360bfa6f.js","assets/if-defined-4cc63104.js","assets/index-b2717f51.js","assets/index-cc7692f4.js","assets/index-ddffb556.js","assets/index-3e007d06.js","assets/index-00e7c060.js","assets/index-eeb0cd1e.js","assets/index-edc512b2.js","assets/index-14635cc0.js"])),e.email&&r.push(Zn(()=>import("./email-a253986e.js"),["assets/email-a253986e.js","assets/if-defined-4cc63104.js","assets/index-14635cc0.js","assets/index-3e007d06.js","assets/index-edc512b2.js","assets/index-ddffb556.js","assets/index-42335f76.js","assets/index-00e7c060.js"])),e.socials&&r.push(Zn(()=>import("./socials-bc647031.js"),["assets/socials-bc647031.js","assets/if-defined-4cc63104.js","assets/index-b7ad803b.js","assets/index-ddffb556.js","assets/index-3e007d06.js","assets/index-62181d41.js","assets/index-edc512b2.js","assets/index-14635cc0.js","assets/index-47d49ea2.js","assets/index-cc7692f4.js","assets/index-26952266.js"])),e.swaps&&r.push(Zn(()=>import("./swaps-9a6f339c.js"),["assets/swaps-9a6f339c.js","assets/if-defined-4cc63104.js","assets/index-ddffb556.js","assets/index-3e007d06.js","assets/index-9d2adbf7.js","assets/index-63165f13.js","assets/index-c0bda37a.js","assets/index-cc7692f4.js","assets/index-edc512b2.js","assets/index-26952266.js","assets/index-00e7c060.js"])),e.send&&r.push(Zn(()=>import("./send-02e6865d.js"),["assets/send-02e6865d.js","assets/if-defined-4cc63104.js","assets/index-ddffb556.js","assets/index-3e007d06.js","assets/index-edc512b2.js","assets/index-14635cc0.js","assets/index-c0bda37a.js","assets/index-cc7692f4.js","assets/index-00e7c060.js","assets/index-50bf445d.js"])),e.receive&&r.push(Zn(()=>import("./receive-e1f5b96e.js"),["assets/receive-e1f5b96e.js","assets/if-defined-4cc63104.js","assets/index-cbbca00a.js","assets/index-cc7692f4.js","assets/index-47d49ea2.js"])),e.onramp&&r.push(Zn(()=>import("./onramp-a8d2f45d.js"),["assets/onramp-a8d2f45d.js","assets/if-defined-4cc63104.js","assets/index-9974579d.js","assets/index-26952266.js","assets/index-edc512b2.js","assets/index-cc7692f4.js","assets/index-3e007d06.js","assets/index-c451dfd4.js","assets/index-b7ad803b.js","assets/index-ddffb556.js","assets/index-14635cc0.js","assets/index-00e7c060.js"])),e.history&&r.push(Zn(()=>import("./transactions-2a817b5a.js"),["assets/transactions-2a817b5a.js","assets/if-defined-4cc63104.js","assets/index-18524548.js","assets/index-9974579d.js","assets/index-26952266.js","assets/index-edc512b2.js","assets/index-14635cc0.js","assets/index-cc7692f4.js"]))),await Promise.all([...r,Zn(()=>import("./index-616eb555.js"),["assets/index-616eb555.js","assets/if-defined-4cc63104.js","assets/index-cc7692f4.js","assets/index-3e007d06.js","assets/index-50bf445d.js","assets/index-edc512b2.js","assets/index-983267a4.js","assets/index-63165f13.js","assets/index-eeb0cd1e.js","assets/index-c451dfd4.js","assets/index-ddffb556.js","assets/index-18524548.js","assets/index-9974579d.js","assets/index-26952266.js","assets/index-14635cc0.js","assets/index-9d2adbf7.js","assets/index-00e7c060.js","assets/index-42335f76.js","assets/index-b7ad803b.js","assets/index-62181d41.js","assets/index-b2717f51.js","assets/index-cbbca00a.js","assets/index-47d49ea2.js"]),Zn(()=>import("./w3m-modal-82f124de.js"),["assets/w3m-modal-82f124de.js","assets/if-defined-4cc63104.js","assets/index-eeb0cd1e.js","assets/index-cc7692f4.js","assets/index-edc512b2.js","assets/index-3e007d06.js","assets/index-63165f13.js","assets/index-983267a4.js"])]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!pe.state.disableAppend&&!pe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}x4=!0}}}let Zc;function B1e(t){t&&(Zc=t)}function U1e(){if(!Zc)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(r){await(Zc==null?void 0:Zc.open(r))}async function e(){await(Zc==null?void 0:Zc.close())}return{open:t,close:e}}const F1e="1.7.3";let M1;function $1e(t){return M1||(M1=new M1e({...t,sdkVersion:Ge.generateSdkVersion(t.adapters??[],"react",F1e)}),B1e(M1)),M1}function mi(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}const _w="2.17.0",L1e=()=>`@wagmi/core@${_w}`;var h$=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Lb,p$;let Oc=class dC extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return L1e()}constructor(e,r={}){var s;super(),Lb.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const n=r.cause instanceof dC?r.cause.details:(s=r.cause)!=null&&s.message?r.cause.message:r.details,i=r.cause instanceof dC&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return h$(this,Lb,"m",p$).call(this,this,e)}};Lb=new WeakSet,p$=function t(e,r){return r!=null&&r(e)?e:e.cause?h$(this,Lb,"m",t).call(this,e.cause,r):e};class _m extends Oc{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class j1e extends Oc{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class z1e extends Oc{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class q1e extends Oc{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class H1e extends Oc{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class W1e extends Oc{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function S4(t,e){var n;let r;if(typeof e.connector=="function"?r=t._internal.connectors.setup(e.connector):r=e.connector,r.uid===t.state.current)throw new j1e;try{t.setState(c=>({...c,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:i,...s}=e,o=await r.connect(s),a=o.accounts;return r.emitter.off("connect",t._internal.events.connect),r.emitter.on("change",t._internal.events.change),r.emitter.on("disconnect",t._internal.events.disconnect),await((n=t.storage)==null?void 0:n.setItem("recentConnectorId",r.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(r.uid,{accounts:a,chainId:o.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}async function Dy(t,e={}){let r;if(e.connector){const{connector:u}=e;if(t.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new W1e({connector:u});const[l,d]=await Promise.all([u.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),u.getChainId()]);r={accounts:l,chainId:d,connector:u}}else r=t.state.connections.get(t.state.current);if(!r)throw new z1e;const n=e.chainId??r.chainId,i=await r.connector.getChainId();if(i!==r.chainId)throw new H1e({connectionChainId:r.chainId,connectorChainId:i});const s=r.connector;if(s.getClient)return s.getClient({chainId:n});const o=Dr(e.account??r.accounts[0]);if(o&&(o.address=lc(o.address)),e.account&&!r.accounts.some(u=>u.toLowerCase()===o.address.toLowerCase()))throw new q1e({address:o.address,connector:s});const a=t.chains.find(u=>u.id===n),c=await r.connector.getProvider({chainId:n});return RF({account:o,chain:a,name:"Connector Client",transport:u=>Jfe(c)({...u,retryCount:0})})}async function g$(t,e={}){var i,s;let r;if(e.connector)r=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);r=c==null?void 0:c.connector}const n=t.state.connections;r&&(await r.disconnect(),r.emitter.off("change",t._internal.events.change),r.emitter.off("disconnect",t._internal.events.disconnect),r.emitter.on("connect",t._internal.events.connect),n.delete(r.uid)),t.setState(o=>{if(n.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=n.values().next().value;return{...o,connections:new Map(n),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}async function V1e(t,e){const{chainId:r,connector:n,...i}=e;let s;e.account?s=e.account:s=(await Dy(t,{account:e.account,chainId:r,connector:n})).account;const o=t.getClient({chainId:r});return mi(o,oE,"estimateGas")({...i,account:s})}function m$(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(Dde[t])}function Cm(t){const e=t.state.current,r=t.state.connections.get(e),n=r==null?void 0:r.accounts,i=n==null?void 0:n[0],s=t.chains.find(a=>a.id===(r==null?void 0:r.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function G1e(t,e){const{allowFailure:r=!0,chainId:n,contracts:i,...s}=e,o=t.getClient({chainId:n});return mi(o,XF,"multicall")({allowFailure:r,contracts:i,...s})}function K1e(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return mi(i,ko,"readContract")(n)}async function Q1e(t,e){var a;const{allowFailure:r=!0,blockNumber:n,blockTag:i,...s}=e,o=e.contracts;try{const c={};for(const[f,h]of o.entries()){const p=h.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:h,index:f})}const u=()=>Object.entries(c).map(([f,h])=>G1e(t,{...s,allowFailure:r,blockNumber:n,blockTag:i,chainId:Number.parseInt(f),contracts:h.map(({contract:p})=>p)})),l=(await Promise.all(u())).flat(),d=Object.values(c).flatMap(f=>f.map(({index:h})=>h));return l.reduce((f,h,p)=>(f&&(f[d[p]]=h),f),[])}catch(c){if(c instanceof rF)throw c;const u=()=>o.map(l=>K1e(t,{...l,blockNumber:n,blockTag:i}));return r?(await Promise.allSettled(u())).map(l=>l.status==="fulfilled"?{result:l.value,status:"success"}:{error:l.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function Y1e(t,e){const{address:r,blockNumber:n,blockTag:i,chainId:s,token:o,unit:a="ether"}=e;if(o)try{return await I4(t,{balanceAddress:r,chainId:s,symbolType:"string",tokenAddress:o})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await I4(t,{balanceAddress:r,chainId:s,symbolType:"bytes32",tokenAddress:o}),p=x3(gc(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw f}const c=t.getClient({chainId:s}),l=await mi(c,$3,"getBalance")(n?{address:r,blockNumber:n}:{address:r,blockTag:i}),d=t.chains.find(f=>f.id===s)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:T0(l,m$(a)),symbol:d.nativeCurrency.symbol,value:l}}async function I4(t,e){const{balanceAddress:r,chainId:n,symbolType:i,tokenAddress:s,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[c,u,l]=await Q1e(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[r],chainId:n},{...a,functionName:"decimals",chainId:n},{...a,functionName:"symbol",chainId:n}]}),d=T0(c??"0",m$(o??u));return{decimals:u,formatted:d,symbol:l,value:c}}function N4(t){return t.state.chainId}function s0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(Array.isArray(t)&&Array.isArray(e)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!s0(t[n],e[n]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(s&&!s0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function J1e(t,e={}){let r;try{r=t.getClient(e)}catch{}return r}let B1=[];function tc(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||s0(B1,e)?B1:(B1=e,e)}function Z1e(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return mi(i,MF,"getEnsAddress")(n)}function X1e(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return mi(i,$F,"getEnsAvatar")(n)}function ewe(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return mi(i,LF,"getEnsName")(n)}function fC(t,e={}){const r=J1e(t,e);return r==null?void 0:r.extend(xge)}async function twe(t,e={}){return(await Dy(t,e)).extend(Lge)}async function rwe(t,e){const{account:r,chainId:n,...i}=e,s=r??Cm(t).address,o=t.getClient({chainId:n});return mi(o,xy,"prepareTransactionRequest")({...i,...s?{account:s}:{}})}let JA=!1;async function y$(t,e={}){var u,l;if(JA)return[];JA=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const r=[];if((u=e.connectors)!=null&&u.length)for(const d of e.connectors){let f;typeof d=="function"?f=t._internal.connectors.setup(d):f=d,r.push(f)}else r.push(...t.connectors);let n;try{n=await((l=t.storage)==null?void 0:l.getItem("recentConnectorId"))}catch{}const i={};for(const[,d]of t.state.connections)i[d.connector.id]=1;n&&(i[n]=0);const s=Object.keys(i).length>0?[...r].sort((d,f)=>(i[d.id]??10)-(i[f.id]??10)):r;let o=!1;const a=[],c=[];for(const d of s){const f=await d.getProvider().catch(()=>{});if(!f||c.some(g=>g===f)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const w=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:w}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),JA=!1,a}async function nwe(t,e){const{account:r,chainId:n,connector:i,...s}=e;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=t.getClient({chainId:n}):o=await Dy(t,{account:r??void 0,chainId:n,connector:i}),await mi(o,dE,"sendTransaction")({...s,...r?{account:r}:{},chain:n?{id:n}:null,gas:s.gas??void 0})}async function iwe(t,e){const{account:r,connector:n,...i}=e;let s;return typeof r=="object"&&r.type==="local"?s=t.getClient():s=await Dy(t,{account:r,connector:n}),mi(s,G7,"signMessage")({...i,...r?{account:r}:{}})}class su extends Oc{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class swe extends Oc{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function T4(t,e){var o;const{addEthereumChainParameter:r,chainId:n}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new swe({connector:a});return await a.switchChain({addEthereumChainParameter:r,chainId:n})}const s=t.chains.find(a=>a.id===n);if(!s)throw new _m;return t.setState(a=>({...a,chainId:n})),s}function w$(t,e){const{onChange:r}=e;return t.subscribe(()=>Cm(t),r,{equalityFn(n,i){const{connector:s,...o}=n,{connector:a,...c}=i;return s0(o,c)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function owe(t,e){const{onChange:r}=e;return t.subscribe(n=>n.chainId,r)}function awe(t,e){const{onChange:r}=e;return t.subscribe(()=>tc(t),r,{equalityFn:s0})}function cwe(t,e){const{onChange:r}=e;return t._internal.connectors.subscribe((n,i)=>{r(Object.values(n),i)})}function uwe(t,e){const{syncConnectedChain:r=t._internal.syncConnectedChain,...n}=e;let i;const s=c=>{i&&i();const u=t.getClient({chainId:c});return i=mi(u,W7,"watchPendingTransactions")(n),i},o=s(e.chainId);let a;return r&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>s(c))),()=>{o==null||o(),a==null||a()}}function lwe(t,e){const{onChange:r}=e;return t.subscribe(()=>fC(t),r,{equalityFn(n,i){return(n==null?void 0:n.uid)===(i==null?void 0:i.uid)}})}async function dwe(t,e){const{chainId:r,timeout:n=0,...i}=e,s=t.getClient({chainId:r}),a=await mi(s,H7,"waitForTransactionReceipt")({...i,timeout:n});if(a.status==="reverted"){const u=await mi(s,hE,"getTransaction")({hash:a.transactionHash}),d=await mi(s,Sy,"call")({...u,data:u.input,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),f=d!=null&&d.data?x3(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:s.chain.id}}async function fwe(t,e){const{account:r,chainId:n,connector:i,...s}=e;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=t.getClient({chainId:n}):o=await Dy(t,{account:r??void 0,chainId:n,connector:i}),await mi(o,V3,"writeContract")({...s,...r?{account:r}:{},chain:n?{id:n}:null})}function FSe(t){return t}vE.type="injected";function vE(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=t;function n(){const c=t.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...hwe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let i,s,o,a;return c=>({get icon(){return n().icon},get id(){return n().id},get name(){return n().name},get supportsSimulation(){return!0},type:vE.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&t.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),u.on("accountsChanged",i)))},async connect({chainId:u,isReconnecting:l}={}){var h,p,g,w,y,b;const d=await this.getProvider();if(!d)throw new su;let f=[];if(l)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(w=(g=(p=(h=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:h.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:w.map(x=>lc(x)),f.length>0&&(f=await this.getAccounts())}catch(E){const x=E;if(x.code===tn.code)throw new tn(x);if(x.code===Lu.code)throw x}try{!(f!=null&&f.length)&&!l&&(f=(await d.request({method:"eth_requestAccounts"})).map(N=>lc(N))),o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let E=await this.getChainId();if(u&&E!==u){const x=await this.switchChain({chainId:u}).catch(N=>{if(N.code===tn.code)throw N;return{id:E}});E=(x==null?void 0:x.id)??E}return e&&await((y=c.storage)==null?void 0:y.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:f,chainId:E}}catch(E){const x=E;throw x.code===tn.code?new tn(x):x.code===Lu.code?new Lu(x):x}},async disconnect(){var l,d;const u=await this.getProvider();if(!u)throw new su;s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await OF(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((l=c.storage)==null?void 0:l.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new su;return(await u.request({method:"eth_accounts"})).map(d=>lc(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new su;const l=await u.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let u;const l=n();return typeof l.provider=="function"?u=l.provider(window):typeof l.provider=="string"?u=Cw(window,l.provider):u=l.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,l;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!t.target&&!await((l=c.storage)==null?void 0:l.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(p()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(p()),g))]))return!0}throw new su}return!!(await _b(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:l}){var p,g,w,y;const d=await this.getProvider();if(!d)throw new su;const f=c.chains.find(b=>b.id===l);if(!f)throw new Aa(new _m);const h=new Promise(b=>{const E=x=>{"chainId"in x&&x.chainId===l&&(c.emitter.off("change",E),b())};c.emitter.on("change",E)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:De(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),h]),f}catch(b){const E=b;if(E.code===4902||((g=(p=E==null?void 0:E.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:x,...N}=f.blockExplorers??{};let O;u!=null&&u.blockExplorerUrls?O=u.blockExplorerUrls:x&&(O=[x.url,...Object.values(N).map(D=>D.url)]);let k;(w=u==null?void 0:u.rpcUrls)!=null&&w.length?k=u.rpcUrls:k=[((y=f.rpcUrls.default)==null?void 0:y.http[0])??""];const U={blockExplorerUrls:O,chainId:De(l),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:k};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[U]}).then(async()=>{if(await this.getChainId()===l)c.emitter.emit("change",{chainId:l});else throw new tn(new Error("User rejected switch after adding network."))}),h]),f}catch(x){throw new tn(x)}throw E.code===tn.code?new tn(E):new Aa(E)}},async onAccountsChanged(u){var l;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((l=c.storage)==null?void 0:l.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(d=>lc(d))})},onChainChanged(u){const l=Number(u);c.emitter.emit("change",{chainId:l})},async onConnect(u){const l=await this.getAccounts();if(l.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:l,chainId:d});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(u){const l=await this.getProvider();u&&u.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o))))}})}const hwe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Cw(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Cw(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const n of r)if(e[n])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,r;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(r=t.phantom)==null?void 0:r.ethereum:Cw(t,"isPhantom")}}};function Cw(t,e){function r(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const n=t.ethereum;if(n!=null&&n.providers)return n.providers.find(i=>r(i));if(n&&r(n))return n}function pwe(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function gwe(){const t=new Set;let e=[];const r=()=>pwe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const mwe=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(o,a,c)=>{let u=o;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let d=o(n.getState());u=f=>{const h=o(f);if(!l(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return i(u)},t(e,r,n)},ywe=mwe;function wwe(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const hC=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return hC(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return hC(n)(r)}}}},bwe=(t,e)=>(r,n,i)=>{let s={storage:wwe(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...e},o=!1;const a=new Set,c=new Set;let u=s.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...g)},n,i);const l=()=>{const g=s.partialize({...n()});return u.setItem(s.name,{state:g,version:s.version})},d=i.setState;i.setState=(g,w)=>{d(g,w),l()};const f=t((...g)=>{r(...g),l()},n,i);i.getInitialState=()=>f;let h;const p=()=>{var g,w;if(!u)return;o=!1,a.forEach(b=>{var E;return b((E=n())!=null?E:f)});const y=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(g=n())!=null?g:f))||void 0;return hC(u.getItem.bind(u))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var E;const[x,N]=b;if(h=s.merge(N,(E=n())!=null?E:f),r(h,!0),x)return l()}).then(()=>{y==null||y(h,void 0),h=n(),o=!0,c.forEach(b=>b(h))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},s.skipHydration||p(),h||f},vwe=bwe,P4=t=>{let e;const r=new Set,n=(u,l)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=l??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(h=>h(e,f))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=t(n,i,a);return a},ZA=t=>t?P4(t):P4;var b$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,d,f){if(typeof l!="function")throw new TypeError("The listener must be a function");var h=new i(l,d||c,f),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)e.call(l,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(u){var l=r?r+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,f,h,p){var g=r?r+u:u;if(!this._events[g])return!1;var w=this._events[g],y=arguments.length,b,E;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,d),!0;case 4:return w.fn.call(w.context,l,d,f),!0;case 5:return w.fn.call(w.context,l,d,f,h),!0;case 6:return w.fn.call(w.context,l,d,f,h,p),!0}for(E=1,b=new Array(y-1);E<y;E++)b[E-1]=arguments[E];w.fn.apply(w.context,b)}else{var x=w.length,N;for(E=0;E<x;E++)switch(w[E].once&&this.removeListener(u,w[E].fn,void 0,!0),y){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,l);break;case 3:w[E].fn.call(w[E].context,l,d);break;case 4:w[E].fn.call(w[E].context,l,d,f);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];w[E].fn.apply(w[E].context,b)}}return!0},a.prototype.on=function(u,l,d){return s(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return s(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,f){var h=r?r+u:u;if(!this._events[h])return this;if(!l)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===l&&(!f||p.once)&&(!d||p.context===d)&&o(this,h);else{for(var g=0,w=[],y=p.length;g<y;g++)(p[g].fn!==l||f&&!p[g].once||d&&p[g].context!==d)&&w.push(p[g]);w.length?this._events[h]=w.length===1?w[0]:w:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(b$);var Ewe=b$.exports;const Awe=Pa(Ewe);class _we{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Awe})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const n=r[0];this._emitter.emit(e,{uid:this.uid,...n})}listenerCount(e){return this._emitter.listenerCount(e)}}function Cwe(t){return new _we(t)}function xwe(t,e){return JSON.parse(t,(r,n)=>{let i=n;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(r,i))??i})}function R4(t,e){return t.slice(0,e).join(".")||"."}function O4(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function Swe(t,e){const r=typeof t=="function",n=typeof e=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const u=O4(i,this);u===0?i[i.length]=this:(i.splice(u),s.splice(u)),s[s.length]=a;const l=O4(i,c);if(l!==0)return n?e.call(this,a,c,R4(s,l)):`[ref=${R4(s,l)}]`}else i[0]=c,s[0]=a;return r?t.call(this,a,c):c}}function Iwe(t,e,r,n){return JSON.stringify(t,Swe((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},n),r??void 0)}function Nwe(t){const{deserialize:e=xwe,key:r="wagmi",serialize:n=Iwe,storage:i=v$}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:r,async getItem(o,a){const c=i.getItem(`${r}.${o}`),u=await s(c);return u?e(u)??null:a??null},async setItem(o,a){const c=`${r}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,n(a)))},async removeItem(o){await s(i.removeItem(`${r}.${o}`))}}}const v$={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Twe(){const t=(()=>typeof window<"u"&&window.localStorage?window.localStorage:v$)();return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,r){try{t.setItem(e,r)}catch{}}}}const pC=256;let U1=pC,F1;function Pwe(t=11){if(!F1||U1+t>pC*2){F1="",U1=0;for(let e=0;e<pC;e++)F1+=(256+Math.random()*256|0).toString(16).substring(1)}return F1.substring(U1,U1+++t)}function Rwe(t){const{multiInjectedProviderDiscovery:e=!0,storage:r=Nwe({storage:Twe()}),syncConnectedChain:n=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?gwe():void 0,a=ZA(()=>s.chains),c=ZA(()=>{const N=[],O=new Set;for(const k of s.connectors??[]){const U=u(k);if(N.push(U),!i&&U.rdns){const D=typeof U.rdns=="string"?[U.rdns]:U.rdns;for(const W of D)O.add(W)}}if(!i&&o){const k=o.getProviders();for(const U of k)O.has(U.info.rdns)||N.push(u(l(U)))}return N});function u(N){var U;const O=Cwe(Pwe()),k={...N({emitter:O,chains:a.getState(),storage:r,transports:s.transports}),emitter:O,uid:O.uid};return O.on("connect",E),(U=k.setup)==null||U.call(k),k}function l(N){const{info:O}=N,k=N.provider;return vE({target:{...O,id:O.rdns,provider:k}})}const d=new Map;function f(N={}){const O=N.chainId??w.getState().chainId,k=a.getState().find(D=>D.id===O);if(N.chainId&&!k)throw new _m;{const D=d.get(w.getState().chainId);if(D&&!k)return D;if(!k)throw new _m}{const D=d.get(O);if(D)return D}let U;if(s.client)U=s.client({chain:k});else{const D=k.id,W=a.getState().map($=>$.id),H={},Q=Object.entries(s);for(const[$,m]of Q)if(!($==="chains"||$==="client"||$==="connectors"||$==="transports"))if(typeof m=="object")if(D in m)H[$]=m[D];else{if(W.some(A=>A in m))continue;H[$]=m}else H[$]=m;U=RF({...H,chain:k,batch:H.batch??{multicall:!0},transport:$=>s.transports[D]({...$,connectors:c})})}return d.set(O,U),U}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";_w.startsWith(g)?p=Number.parseInt(_w.replace(g,"")):p=Number.parseInt(_w.split(".")[0]??"0");const w=ZA(ywe(r?vwe(h,{migrate(N,O){if(O===p)return N;const k=h(),U=y(N,k.chainId);return{...k,chainId:U}},name:"store",partialize(N){return{connections:{__type:"Map",value:Array.from(N.connections.entries()).map(([O,k])=>{const{id:U,name:D,type:W,uid:H}=k.connector;return[O,{...k,connector:{id:U,name:D,type:W,uid:H}}]})},chainId:N.chainId,current:N.current}},merge(N,O){typeof N=="object"&&N&&"status"in N&&delete N.status;const k=y(N,O.chainId);return{...O,...N,chainId:k}},skipHydration:i,storage:r,version:p}):h));w.setState(h());function y(N,O){return N&&typeof N=="object"&&"chainId"in N&&typeof N.chainId=="number"&&a.getState().some(k=>k.id===N.chainId)?N.chainId:O}n&&w.subscribe(({connections:N,current:O})=>{var k;return O?(k=N.get(O))==null?void 0:k.chainId:void 0},N=>{if(a.getState().some(k=>k.id===N))return w.setState(k=>({...k,chainId:N??k.chainId}))}),o==null||o.subscribe(N=>{const O=new Set,k=new Set;for(const D of c.getState())if(O.add(D.id),D.rdns){const W=typeof D.rdns=="string"?[D.rdns]:D.rdns;for(const H of W)k.add(H)}const U=[];for(const D of N){if(k.has(D.info.rdns))continue;const W=u(l(D));O.has(W.id)||U.push(W)}r&&!w.persist.hasHydrated()||c.setState(D=>[...D,...U],!0)});function b(N){w.setState(O=>{const k=O.connections.get(N.uid);return k?{...O,connections:new Map(O.connections).set(N.uid,{accounts:N.accounts??k.accounts,chainId:N.chainId??k.chainId,connector:k.connector})}:O})}function E(N){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(O=>{const k=c.getState().find(U=>U.uid===N.uid);return k?(k.emitter.listenerCount("connect")&&k.emitter.off("connect",b),k.emitter.listenerCount("change")||k.emitter.on("change",b),k.emitter.listenerCount("disconnect")||k.emitter.on("disconnect",x),{...O,connections:new Map(O.connections).set(N.uid,{accounts:N.accounts,chainId:N.chainId,connector:k}),current:N.uid,status:"connected"}):O})}function x(N){w.setState(O=>{const k=O.connections.get(N.uid);if(k){const D=k.connector;D.emitter.listenerCount("change")&&k.connector.emitter.off("change",b),D.emitter.listenerCount("disconnect")&&k.connector.emitter.off("disconnect",x),D.emitter.listenerCount("connect")||k.connector.emitter.on("connect",E)}if(O.connections.delete(N.uid),O.connections.size===0)return{...O,connections:new Map,current:null,status:"disconnected"};const U=O.connections.values().next().value;return{...O,connections:new Map(O.connections),current:U.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:r,getClient:f,get state(){return w.getState()},setState(N){let O;typeof N=="function"?O=N(w.getState()):O=N;const k=h();typeof O!="object"&&(O=k),Object.keys(k).some(D=>!(D in O))&&(O=k),w.setState(O,!0)},subscribe(N,O,k){return w.subscribe(N,O,k?{...k,fireImmediately:k.emitImmediately}:void 0)},_internal:{mipd:o,store:w,ssr:!!i,syncConnectedChain:n,transports:s.transports,chains:{setState(N){const O=typeof N=="function"?N(a.getState()):N;if(O.length!==0)return a.setState(O,!0)},subscribe(N){return a.subscribe(N)}},connectors:{providerDetailToConnector:l,setup:u,setState(N){return c.setState(typeof N=="function"?N(c.getState()):N,!0)},subscribe(N){return c.subscribe(N)}},events:{change:b,connect:E,disconnect:x}}}}function Owe(t,e){const{initialState:r,reconnectOnMount:n}=e;return r&&!t._internal.store.persist.hasHydrated()&&t.setState({...r,chainId:t.chains.some(i=>i.id===r.chainId)?r.chainId:t.chains[0].id,connections:n?r.connections:new Map,status:n?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var c;const s=new Set;for(const u of i??[])if(u.rdns){const l=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const d of l)s.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of a){if(s.has(u.info.rdns))continue;const l=t._internal.connectors.providerDetailToConnector(u),d=t._internal.connectors.setup(l);o.push(d)}return[...i,...o]})),n?y$(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function kwe(t){const{children:e,config:r,initialState:n,reconnectOnMount:i=!0}=t,{onMount:s}=Owe(r,{initialState:n,reconnectOnMount:i});r._internal.ssr||s();const o=ie.useRef(!0);return ie.useEffect(()=>{if(o.current&&r._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const E$=ie.createContext(void 0);function Dwe(t){const{children:e,config:r}=t,n={value:r};return ie.createElement(kwe,t,ie.createElement(E$.Provider,n,e))}const Mwe="2.15.1",Bwe=()=>`wagmi@${Mwe}`;class Uwe extends Oc{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Bwe()}}class Fwe extends Uwe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Yd(t={}){const e=t.config??ie.useContext(E$);if(!e)throw new Fwe;return e}var A$={exports:{}},_$={},C$={exports:{}},x$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=ie;function $we(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lwe=typeof Object.is=="function"?Object.is:$we,jwe=o0.useState,zwe=o0.useEffect,qwe=o0.useLayoutEffect,Hwe=o0.useDebugValue;function Wwe(t,e){var r=e(),n=jwe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return qwe(function(){i.value=r,i.getSnapshot=e,XA(i)&&s({inst:i})},[t,r,e]),zwe(function(){return XA(i)&&s({inst:i}),t(function(){XA(i)&&s({inst:i})})},[t]),Hwe(r),r}function XA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Lwe(t,r)}catch{return!0}}function Vwe(t,e){return e()}var Gwe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vwe:Wwe;x$.useSyncExternalStore=o0.useSyncExternalStore!==void 0?o0.useSyncExternalStore:Gwe;C$.exports=x$;var Kwe=C$.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=ie,Qwe=Kwe;function Ywe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jwe=typeof Object.is=="function"?Object.is:Ywe,Zwe=Qwe.useSyncExternalStore,Xwe=EE.useRef,ebe=EE.useEffect,tbe=EE.useMemo,rbe=EE.useDebugValue;_$.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Xwe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=tbe(function(){function c(h){if(!u){if(u=!0,l=h,h=n(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return d=p}return d=h}if(p=d,Jwe(l,h))return p;var g=n(h);return i!==void 0&&i(p,g)?(l=h,p):(l=h,d=g)}var u=!1,l,d,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,n,i]);var a=Zwe(t,s[0],s[1]);return ebe(function(){o.hasValue=!0,o.value=a},[a]),rbe(a),a};A$.exports=_$;var S$=A$.exports;const e6=t=>typeof t=="object"&&!Array.isArray(t);function nbe(t,e,r=e,n=s0){const i=ie.useRef([]),s=S$.useSyncExternalStoreWithSelector(t,e,r,o=>o,(o,a)=>{if(e6(o)&&e6(a)&&i.current.length){for(const c of i.current)if(!n(o[c],a[c]))return!1;return!0}return n(o,a)});return ie.useMemo(()=>{if(e6(s)){const o={...s};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(c)||i.current.push(c),u)}};return Object.defineProperties(o,a),o}return s},[s])}function fS(t={}){const e=Yd(t);return nbe(r=>w$(e,{onChange:r}),()=>Cm(e))}var M0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pd=typeof window>"u"||"Deno"in globalThis;function Os(){}function ibe(t,e){return typeof t=="function"?t(e):t}function gC(t){return typeof t=="number"&&t>=0&&t!==1/0}function I$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gh(t,e){return typeof t=="function"?t(e):t}function wo(t,e){return typeof t=="function"?t(e):t}function k4(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==hS(o,e.options))return!1}else if(!xm(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function D4(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Rd(e.options.mutationKey)!==Rd(s))return!1}else if(!xm(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function hS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Rd)(t)}function Rd(t){return JSON.stringify(t,(e,r)=>mC(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function xm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>xm(t[r],e[r])):!1}function N$(t,e){if(t===e)return t;const r=M4(t)&&M4(e);if(r||mC(t)&&mC(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,a=r?[]:{};let c=0;for(let u=0;u<o;u++){const l=r?u:s[u];(!r&&n.includes(l)||r)&&t[l]===void 0&&e[l]===void 0?(a[l]=void 0,c++):(a[l]=N$(t[l],e[l]),a[l]===t[l]&&t[l]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function jb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function M4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mC(t){if(!B4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!B4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function B4(t){return Object.prototype.toString.call(t)==="[object Object]"}function sbe(t){return new Promise(e=>{setTimeout(e,t)})}function yC(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?N$(t,e):e}function obe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function abe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var pS=Symbol();function T$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===pS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Hl,hu,vh,JO,cbe=(JO=class extends M0{constructor(){super();Pe(this,Hl,void 0);Pe(this,hu,void 0);Pe(this,vh,void 0);Ee(this,vh,e=>{if(!Pd&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){G(this,hu)||this.setEventListener(G(this,vh))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,hu))==null||e.call(this),Ee(this,hu,void 0))}setEventListener(e){var r;Ee(this,vh,e),(r=G(this,hu))==null||r.call(this),Ee(this,hu,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){G(this,Hl)!==e&&(Ee(this,Hl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof G(this,Hl)=="boolean"?G(this,Hl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hl=new WeakMap,hu=new WeakMap,vh=new WeakMap,JO),gS=new cbe,Eh,pu,Ah,ZO,ube=(ZO=class extends M0{constructor(){super();Pe(this,Eh,!0);Pe(this,pu,void 0);Pe(this,Ah,void 0);Ee(this,Ah,e=>{if(!Pd&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){G(this,pu)||this.setEventListener(G(this,Ah))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,pu))==null||e.call(this),Ee(this,pu,void 0))}setEventListener(e){var r;Ee(this,Ah,e),(r=G(this,pu))==null||r.call(this),Ee(this,pu,e(this.setOnline.bind(this)))}setOnline(e){G(this,Eh)!==e&&(Ee(this,Eh,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return G(this,Eh)}},Eh=new WeakMap,pu=new WeakMap,Ah=new WeakMap,ZO),zb=new ube;function wC(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function lbe(t){return Math.min(1e3*2**t,3e4)}function P$(t){return(t??"online")==="online"?zb.isOnline():!0}var R$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function t6(t){return t instanceof R$}function O$(t){let e=!1,r=0,n=!1,i;const s=wC(),o=g=>{var w;n||(f(new R$(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>gS.isFocused()&&(t.networkMode==="always"||zb.isOnline())&&t.canRun(),l=()=>P$(t.networkMode)&&t.canRun(),d=g=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,g),i==null||i(),s.resolve(g))},f=g=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,g),i==null||i(),s.reject(g))},h=()=>new Promise(g=>{var w;i=y=>{(n||u())&&g(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;i=void 0,n||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(n)return;let g;const w=r===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var O;if(n)return;const b=t.retry??(Pd?0:3),E=t.retryDelay??lbe,x=typeof E=="function"?E(r,y):E,N=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!N){f(y);return}r++,(O=t.onFail)==null||O.call(t,r,y),sbe(x).then(()=>u()?void 0:h()).then(()=>{e?f(y):p()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?p():h().then(p),s)}}var dbe=t=>setTimeout(t,0);function fbe(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=dbe;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var sn=fbe(),Wl,XO,k$=(XO=class{constructor(){Pe(this,Wl,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gC(this.gcTime)&&Ee(this,Wl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pd?1/0:5*60*1e3))}clearGcTimeout(){G(this,Wl)&&(clearTimeout(G(this,Wl)),Ee(this,Wl,void 0))}},Wl=new WeakMap,XO),_h,Ch,Ps,Vl,Jn,$m,Gl,ho,Va,ek,hbe=(ek=class extends k${constructor(e){super();Pe(this,ho);Pe(this,_h,void 0);Pe(this,Ch,void 0);Pe(this,Ps,void 0);Pe(this,Vl,void 0);Pe(this,Jn,void 0);Pe(this,$m,void 0);Pe(this,Gl,void 0);Ee(this,Gl,!1),Ee(this,$m,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ee(this,Vl,e.client),Ee(this,Ps,G(this,Vl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ee(this,_h,pbe(this.options)),this.state=e.state??G(this,_h),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=G(this,Jn))==null?void 0:e.promise}setOptions(e){this.options={...G(this,$m),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Ps).remove(this)}setData(e,r){const n=yC(this.state.data,e,this.options);return rt(this,ho,Va).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){rt(this,ho,Va).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=G(this,Jn))==null?void 0:n.promise;return(i=G(this,Jn))==null||i.cancel(e),r?r.then(Os).catch(Os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,_h))}isActive(){return this.observers.some(e=>wo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!I$(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=G(this,Jn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=G(this,Jn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),G(this,Ps).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(G(this,Jn)&&(G(this,Gl)?G(this,Jn).cancel({revert:!0}):G(this,Jn).cancelRetry()),this.scheduleGc()),G(this,Ps).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,ho,Va).call(this,{type:"invalidate"})}fetch(e,r){var c,u,l;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,Jn))return G(this,Jn).continueRetry(),G(this,Jn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ee(this,Gl,!0),n.signal)})},s=()=>{const d=T$(this.options,r),f={client:G(this,Vl),queryKey:this.queryKey,meta:this.meta};return i(f),Ee(this,Gl,!1),this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,Vl),state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ee(this,Ch,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&rt(this,ho,Va).call(this,{type:"fetch",meta:(l=o.fetchOptions)==null?void 0:l.meta});const a=d=>{var f,h,p,g;t6(d)&&d.silent||rt(this,ho,Va).call(this,{type:"error",error:d}),t6(d)||((h=(f=G(this,Ps).config).onError)==null||h.call(f,d,this),(g=(p=G(this,Ps).config).onSettled)==null||g.call(p,this.state.data,d,this)),this.scheduleGc()};return Ee(this,Jn,O$({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var f,h,p,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){a(w);return}(h=(f=G(this,Ps).config).onSuccess)==null||h.call(f,d,this),(g=(p=G(this,Ps).config).onSettled)==null||g.call(p,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{rt(this,ho,Va).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{rt(this,ho,Va).call(this,{type:"pause"})},onContinue:()=>{rt(this,ho,Va).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),G(this,Jn).start()}},_h=new WeakMap,Ch=new WeakMap,Ps=new WeakMap,Vl=new WeakMap,Jn=new WeakMap,$m=new WeakMap,Gl=new WeakMap,ho=new WeakSet,Va=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...D$(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return t6(i)&&i.revert&&G(this,Ch)?{...G(this,Ch),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),sn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),G(this,Ps).notify({query:this,type:"updated",action:e})})},ek);function D$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pbe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xo,tk,gbe=(tk=class extends M0{constructor(e={}){super();Pe(this,Xo,void 0);this.config=e,Ee(this,Xo,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??hS(i,r);let o=this.get(s);return o||(o=new hbe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){G(this,Xo).has(e.queryHash)||(G(this,Xo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=G(this,Xo).get(e.queryHash);r&&(e.destroy(),r===e&&G(this,Xo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return G(this,Xo).get(e)}getAll(){return[...G(this,Xo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>k4(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>k4(e,n)):r}notify(e){sn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xo=new WeakMap,tk),ea,ui,Kl,ta,Xc,rk,mbe=(rk=class extends k${constructor(e){super();Pe(this,ta);Pe(this,ea,void 0);Pe(this,ui,void 0);Pe(this,Kl,void 0);this.mutationId=e.mutationId,Ee(this,ui,e.mutationCache),Ee(this,ea,[]),this.state=e.state||M$(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){G(this,ea).includes(e)||(G(this,ea).push(e),this.clearGcTimeout(),G(this,ui).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ee(this,ea,G(this,ea).filter(r=>r!==e)),this.scheduleGc(),G(this,ui).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){G(this,ea).length||(this.state.status==="pending"?this.scheduleGc():G(this,ui).remove(this))}continue(){var e;return((e=G(this,Kl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,c,u,l,d,f,h,p,g,w,y,b,E,x,N,O,k,U;const r=()=>{rt(this,ta,Xc).call(this,{type:"continue"})};Ee(this,Kl,O$({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,W)=>{rt(this,ta,Xc).call(this,{type:"failed",failureCount:D,error:W})},onPause:()=>{rt(this,ta,Xc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,ui).canRun(this)}));const n=this.state.status==="pending",i=!G(this,Kl).canStart();try{if(n)r();else{rt(this,ta,Xc).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=G(this,ui).config).onMutate)==null?void 0:o.call(s,e,this));const W=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));W!==this.state.context&&rt(this,ta,Xc).call(this,{type:"pending",context:W,variables:e,isPaused:i})}const D=await G(this,Kl).start();return await((l=(u=G(this,ui).config).onSuccess)==null?void 0:l.call(u,D,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,D,e,this.state.context)),await((p=(h=G(this,ui).config).onSettled)==null?void 0:p.call(h,D,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,D,null,e,this.state.context)),rt(this,ta,Xc).call(this,{type:"success",data:D}),D}catch(D){try{throw await((b=(y=G(this,ui).config).onError)==null?void 0:b.call(y,D,e,this.state.context,this)),await((x=(E=this.options).onError)==null?void 0:x.call(E,D,e,this.state.context)),await((O=(N=G(this,ui).config).onSettled)==null?void 0:O.call(N,void 0,D,this.state.variables,this.state.context,this)),await((U=(k=this.options).onSettled)==null?void 0:U.call(k,void 0,D,e,this.state.context)),D}finally{rt(this,ta,Xc).call(this,{type:"error",error:D})}}finally{G(this,ui).runNext(this)}}},ea=new WeakMap,ui=new WeakMap,Kl=new WeakMap,ta=new WeakSet,Xc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sn.batch(()=>{G(this,ea).forEach(n=>{n.onMutationUpdate(e)}),G(this,ui).notify({mutation:this,type:"updated",action:e})})},rk);function M$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rc,po,Lm,nk,ybe=(nk=class extends M0{constructor(e={}){super();Pe(this,rc,void 0);Pe(this,po,void 0);Pe(this,Lm,void 0);this.config=e,Ee(this,rc,new Set),Ee(this,po,new Map),Ee(this,Lm,0)}build(e,r,n){const i=new mbe({mutationCache:this,mutationId:++qy(this,Lm)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){G(this,rc).add(e);const r=$1(e);if(typeof r=="string"){const n=G(this,po).get(r);n?n.push(e):G(this,po).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(G(this,rc).delete(e)){const r=$1(e);if(typeof r=="string"){const n=G(this,po).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&G(this,po).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=$1(e);if(typeof r=="string"){const n=G(this,po).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=$1(e);if(typeof r=="string"){const i=(n=G(this,po).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sn.batch(()=>{G(this,rc).forEach(e=>{this.notify({type:"removed",mutation:e})}),G(this,rc).clear(),G(this,po).clear()})}getAll(){return Array.from(G(this,rc))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>D4(r,n))}findAll(e={}){return this.getAll().filter(r=>D4(e,r))}notify(e){sn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return sn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Os))))}},rc=new WeakMap,po=new WeakMap,Lm=new WeakMap,nk);function $1(t){var e;return(e=t.options.scope)==null?void 0:e.id}function U4(t){return{onFetch:(e,r)=>{var l,d,f,h,p;const n=e.options,i=(f=(d=(l=e.fetchOptions)==null?void 0:l.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=T$(e.options,e.fetchOptions),b=async(E,x,N)=>{if(g)return Promise.reject();if(x==null&&E.pages.length)return Promise.resolve(E);const O={client:e.client,queryKey:e.queryKey,pageParam:x,direction:N?"backward":"forward",meta:e.options.meta};w(O);const k=await y(O),{maxPages:U}=e.options,D=N?abe:obe;return{pages:D(E.pages,k,U),pageParams:D(E.pageParams,x,U)}};if(i&&s.length){const E=i==="backward",x=E?wbe:F4,N={pages:s,pageParams:o},O=x(n,N);a=await b(N,O,E)}else{const E=t??s.length;do{const x=c===0?o[0]??n.initialPageParam:F4(n,a);if(c>0&&x==null)break;a=await b(a,x),c++}while(c<E)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function F4(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function wbe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Nr,gu,mu,xh,Sh,yu,Ih,Nh,ik,bbe=(ik=class{constructor(t={}){Pe(this,Nr,void 0);Pe(this,gu,void 0);Pe(this,mu,void 0);Pe(this,xh,void 0);Pe(this,Sh,void 0);Pe(this,yu,void 0);Pe(this,Ih,void 0);Pe(this,Nh,void 0);Ee(this,Nr,t.queryCache||new gbe),Ee(this,gu,t.mutationCache||new ybe),Ee(this,mu,t.defaultOptions||{}),Ee(this,xh,new Map),Ee(this,Sh,new Map),Ee(this,yu,0)}mount(){qy(this,yu)._++,G(this,yu)===1&&(Ee(this,Ih,gS.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Nr).onFocus())})),Ee(this,Nh,zb.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Nr).onOnline())})))}unmount(){var t,e;qy(this,yu)._--,G(this,yu)===0&&((t=G(this,Ih))==null||t.call(this),Ee(this,Ih,void 0),(e=G(this,Nh))==null||e.call(this),Ee(this,Nh,void 0))}isFetching(t){return G(this,Nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return G(this,gu).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=G(this,Nr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=G(this,Nr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(gh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return G(this,Nr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=G(this,Nr).get(n.queryHash),s=i==null?void 0:i.state.data,o=ibe(e,s);if(o!==void 0)return G(this,Nr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return sn.batch(()=>G(this,Nr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=G(this,Nr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=G(this,Nr);sn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=G(this,Nr);return sn.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=sn.batch(()=>G(this,Nr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Os).catch(Os)}invalidateQueries(t,e={}){return sn.batch(()=>(G(this,Nr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=sn.batch(()=>G(this,Nr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Os)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Os)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=G(this,Nr).build(this,e);return r.isStaleByTime(gh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Os).catch(Os)}fetchInfiniteQuery(t){return t.behavior=U4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Os).catch(Os)}ensureInfiniteQueryData(t){return t.behavior=U4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zb.isOnline()?G(this,gu).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Nr)}getMutationCache(){return G(this,gu)}getDefaultOptions(){return G(this,mu)}setDefaultOptions(t){Ee(this,mu,t)}setQueryDefaults(t,e){G(this,xh).set(Rd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...G(this,xh).values()],r={};return e.forEach(n=>{xm(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){G(this,Sh).set(Rd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...G(this,Sh).values()],r={};return e.forEach(n=>{xm(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...G(this,mu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...G(this,mu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){G(this,Nr).clear(),G(this,gu).clear()}},Nr=new WeakMap,gu=new WeakMap,mu=new WeakMap,xh=new WeakMap,Sh=new WeakMap,yu=new WeakMap,Ih=new WeakMap,Nh=new WeakMap,ik),Ti,ft,jm,li,Ql,Th,wu,bu,zm,Ph,Rh,Yl,Jl,vu,Oh,Zl,Op,qm,bC,Hm,vC,Wm,EC,Vm,AC,Gm,_C,Km,CC,Qm,xC,dv,B$,sk,vbe=(sk=class extends M0{constructor(e,r){super();Pe(this,Zl);Pe(this,qm);Pe(this,Hm);Pe(this,Wm);Pe(this,Vm);Pe(this,Gm);Pe(this,Km);Pe(this,Qm);Pe(this,dv);Pe(this,Ti,void 0);Pe(this,ft,void 0);Pe(this,jm,void 0);Pe(this,li,void 0);Pe(this,Ql,void 0);Pe(this,Th,void 0);Pe(this,wu,void 0);Pe(this,bu,void 0);Pe(this,zm,void 0);Pe(this,Ph,void 0);Pe(this,Rh,void 0);Pe(this,Yl,void 0);Pe(this,Jl,void 0);Pe(this,vu,void 0);Pe(this,Oh,new Set);this.options=r,Ee(this,Ti,e),Ee(this,bu,null),Ee(this,wu,wC()),this.options.experimental_prefetchInRender||G(this,wu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,ft).addObserver(this),$4(G(this,ft),this.options)?rt(this,Zl,Op).call(this):this.updateResult(),rt(this,Vm,AC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return SC(G(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return SC(G(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,Gm,_C).call(this),rt(this,Km,CC).call(this),G(this,ft).removeObserver(this)}setOptions(e){const r=this.options,n=G(this,ft);if(this.options=G(this,Ti).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wo(this.options.enabled,G(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,Qm,xC).call(this),G(this,ft).setOptions(this.options),r._defaulted&&!jb(this.options,r)&&G(this,Ti).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,ft),observer:this});const i=this.hasListeners();i&&L4(G(this,ft),n,this.options,r)&&rt(this,Zl,Op).call(this),this.updateResult(),i&&(G(this,ft)!==n||wo(this.options.enabled,G(this,ft))!==wo(r.enabled,G(this,ft))||gh(this.options.staleTime,G(this,ft))!==gh(r.staleTime,G(this,ft)))&&rt(this,qm,bC).call(this);const s=rt(this,Hm,vC).call(this);i&&(G(this,ft)!==n||wo(this.options.enabled,G(this,ft))!==wo(r.enabled,G(this,ft))||s!==G(this,vu))&&rt(this,Wm,EC).call(this,s)}getOptimisticResult(e){const r=G(this,Ti).getQueryCache().build(G(this,Ti),e),n=this.createResult(r,e);return Abe(this,n)&&(Ee(this,li,n),Ee(this,Th,this.options),Ee(this,Ql,G(this,ft).state)),n}getCurrentResult(){return G(this,li)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){G(this,Oh).add(e)}getCurrentQuery(){return G(this,ft)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=G(this,Ti).defaultQueryOptions(e),n=G(this,Ti).getQueryCache().build(G(this,Ti),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return rt(this,Zl,Op).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,li)))}createResult(e,r){var D;const n=G(this,ft),i=this.options,s=G(this,li),o=G(this,Ql),a=G(this,Th),u=e!==n?e.state:G(this,jm),{state:l}=e;let d={...l},f=!1,h;if(r._optimisticResults){const W=this.hasListeners(),H=!W&&$4(e,r),Q=W&&L4(e,n,r,i);(H||Q)&&(d={...d,...D$(l.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:w}=d;h=d.data;let y=!1;if(r.placeholderData!==void 0&&h===void 0&&w==="pending"){let W;s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(W=s.data,y=!0):W=typeof r.placeholderData=="function"?r.placeholderData((D=G(this,Rh))==null?void 0:D.state.data,G(this,Rh)):r.placeholderData,W!==void 0&&(w="success",h=yC(s==null?void 0:s.data,W,r),f=!0)}if(r.select&&h!==void 0&&!y)if(s&&h===(o==null?void 0:o.data)&&r.select===G(this,zm))h=G(this,Ph);else try{Ee(this,zm,r.select),h=r.select(h),h=yC(s==null?void 0:s.data,h,r),Ee(this,Ph,h),Ee(this,bu,null)}catch(W){Ee(this,bu,W)}G(this,bu)&&(p=G(this,bu),h=G(this,Ph),g=Date.now(),w="error");const b=d.fetchStatus==="fetching",E=w==="pending",x=w==="error",N=E&&b,O=h!==void 0,U={status:w,fetchStatus:d.fetchStatus,isPending:E,isSuccess:w==="success",isError:x,isInitialLoading:N,isLoading:N,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!E,isLoadingError:x&&!O,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&O,isStale:mS(e,r),refetch:this.refetch,promise:G(this,wu)};if(this.options.experimental_prefetchInRender){const W=$=>{U.status==="error"?$.reject(U.error):U.data!==void 0&&$.resolve(U.data)},H=()=>{const $=Ee(this,wu,U.promise=wC());W($)},Q=G(this,wu);switch(Q.status){case"pending":e.queryHash===n.queryHash&&W(Q);break;case"fulfilled":(U.status==="error"||U.data!==Q.value)&&H();break;case"rejected":(U.status!=="error"||U.error!==Q.reason)&&H();break}}return U}updateResult(){const e=G(this,li),r=this.createResult(G(this,ft),this.options);if(Ee(this,Ql,G(this,ft).state),Ee(this,Th,this.options),G(this,Ql).data!==void 0&&Ee(this,Rh,G(this,ft)),jb(r,e))return;Ee(this,li,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!G(this,Oh).size)return!0;const o=new Set(s??G(this,Oh));return this.options.throwOnError&&o.add("error"),Object.keys(G(this,li)).some(a=>{const c=a;return G(this,li)[c]!==e[c]&&o.has(c)})};rt(this,dv,B$).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,Vm,AC).call(this)}},Ti=new WeakMap,ft=new WeakMap,jm=new WeakMap,li=new WeakMap,Ql=new WeakMap,Th=new WeakMap,wu=new WeakMap,bu=new WeakMap,zm=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Yl=new WeakMap,Jl=new WeakMap,vu=new WeakMap,Oh=new WeakMap,Zl=new WeakSet,Op=function(e){rt(this,Qm,xC).call(this);let r=G(this,ft).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Os)),r},qm=new WeakSet,bC=function(){rt(this,Gm,_C).call(this);const e=gh(this.options.staleTime,G(this,ft));if(Pd||G(this,li).isStale||!gC(e))return;const n=I$(G(this,li).dataUpdatedAt,e)+1;Ee(this,Yl,setTimeout(()=>{G(this,li).isStale||this.updateResult()},n))},Hm=new WeakSet,vC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,ft)):this.options.refetchInterval)??!1},Wm=new WeakSet,EC=function(e){rt(this,Km,CC).call(this),Ee(this,vu,e),!(Pd||wo(this.options.enabled,G(this,ft))===!1||!gC(G(this,vu))||G(this,vu)===0)&&Ee(this,Jl,setInterval(()=>{(this.options.refetchIntervalInBackground||gS.isFocused())&&rt(this,Zl,Op).call(this)},G(this,vu)))},Vm=new WeakSet,AC=function(){rt(this,qm,bC).call(this),rt(this,Wm,EC).call(this,rt(this,Hm,vC).call(this))},Gm=new WeakSet,_C=function(){G(this,Yl)&&(clearTimeout(G(this,Yl)),Ee(this,Yl,void 0))},Km=new WeakSet,CC=function(){G(this,Jl)&&(clearInterval(G(this,Jl)),Ee(this,Jl,void 0))},Qm=new WeakSet,xC=function(){const e=G(this,Ti).getQueryCache().build(G(this,Ti),this.options);if(e===G(this,ft))return;const r=G(this,ft);Ee(this,ft,e),Ee(this,jm,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},dv=new WeakSet,B$=function(e){sn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(G(this,li))}),G(this,Ti).getQueryCache().notify({query:G(this,ft),type:"observerResultsUpdated"})})},sk);function Ebe(t,e){return wo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $4(t,e){return Ebe(t,e)||t.state.data!==void 0&&SC(t,e,e.refetchOnMount)}function SC(t,e,r){if(wo(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&mS(t,e)}return!1}function L4(t,e,r,n){return(t!==e||wo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&mS(t,r)}function mS(t,e){return wo(e.enabled,t)!==!1&&t.isStaleByTime(gh(e.staleTime,t))}function Abe(t,e){return!jb(t.getCurrentResult(),e)}var Eu,Au,Pi,nc,kh,xw,Ym,IC,ok,_be=(ok=class extends M0{constructor(r,n){super();Pe(this,kh);Pe(this,Ym);Pe(this,Eu,void 0);Pe(this,Au,void 0);Pe(this,Pi,void 0);Pe(this,nc,void 0);Ee(this,Eu,r),this.setOptions(n),this.bindMethods(),rt(this,kh,xw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=G(this,Eu).defaultMutationOptions(r),jb(this.options,n)||G(this,Eu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,Pi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Rd(n.mutationKey)!==Rd(this.options.mutationKey)?this.reset():((i=G(this,Pi))==null?void 0:i.state.status)==="pending"&&G(this,Pi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=G(this,Pi))==null||r.removeObserver(this)}onMutationUpdate(r){rt(this,kh,xw).call(this),rt(this,Ym,IC).call(this,r)}getCurrentResult(){return G(this,Au)}reset(){var r;(r=G(this,Pi))==null||r.removeObserver(this),Ee(this,Pi,void 0),rt(this,kh,xw).call(this),rt(this,Ym,IC).call(this)}mutate(r,n){var i;return Ee(this,nc,n),(i=G(this,Pi))==null||i.removeObserver(this),Ee(this,Pi,G(this,Eu).getMutationCache().build(G(this,Eu),this.options)),G(this,Pi).addObserver(this),G(this,Pi).execute(r)}},Eu=new WeakMap,Au=new WeakMap,Pi=new WeakMap,nc=new WeakMap,kh=new WeakSet,xw=function(){var n;const r=((n=G(this,Pi))==null?void 0:n.state)??M$();Ee(this,Au,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ym=new WeakSet,IC=function(r){sn.batch(()=>{var n,i,s,o,a,c,u,l;if(G(this,nc)&&this.hasListeners()){const d=G(this,Au).variables,f=G(this,Au).context;(r==null?void 0:r.type)==="success"?((i=(n=G(this,nc)).onSuccess)==null||i.call(n,r.data,d,f),(o=(s=G(this,nc)).onSettled)==null||o.call(s,r.data,null,d,f)):(r==null?void 0:r.type)==="error"&&((c=(a=G(this,nc)).onError)==null||c.call(a,r.error,d,f),(l=(u=G(this,nc)).onSettled)==null||l.call(u,void 0,r.error,d,f))}this.listeners.forEach(d=>{d(G(this,Au))})})},ok);function Cbe(t){return JSON.stringify(t,(e,r)=>xbe(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):typeof r=="bigint"?r.toString():r)}function xbe(t){if(!j4(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!j4(r)||!r.hasOwnProperty("isPrototypeOf"))}function j4(t){return Object.prototype.toString.call(t)==="[object Object]"}function Sbe(t){const{_defaulted:e,behavior:r,gcTime:n,initialData:i,initialDataUpdatedAt:s,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:l,queryKey:d,queryKeyHashFn:f,retry:h,retryDelay:p,structuralSharing:g,getPreviousPageParam:w,getNextPageParam:y,initialPageParam:b,_optimisticResults:E,enabled:x,notifyOnChangeProps:N,placeholderData:O,refetchInterval:k,refetchIntervalInBackground:U,refetchOnMount:D,refetchOnReconnect:W,refetchOnWindowFocus:H,retryOnMount:Q,select:$,staleTime:m,suspense:v,throwOnError:A,config:T,connector:I,query:R,...L}=t;return L}function Ibe(t){return{mutationFn(e){return g$(t,e)},mutationKey:["disconnect"]}}function Nbe(t,e={}){return{gcTime:0,async queryFn({queryKey:r}){const{connector:n}=e,{connectorUid:i,scopeKey:s,...o}=r[1];return twe(t,{...o,connector:n})},queryKey:Tbe(e)}}function Tbe(t={}){const{connector:e,...r}=t;return["walletClient",{...Sbe(r),connectorUid:e==null?void 0:e.uid}]}var U$=ie.createContext(void 0),yS=t=>{const e=ie.useContext(U$);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Pbe=({client:t,children:e})=>(ie.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),F.jsx(U$.Provider,{value:t,children:e})),F$=ie.createContext(!1),Rbe=()=>ie.useContext(F$);F$.Provider;function Obe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kbe=ie.createContext(Obe()),Dbe=()=>ie.useContext(kbe);function $$(t,e){return typeof t=="function"?t(...e):!!t}function NC(){}var Mbe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Bbe=t=>{ie.useEffect(()=>{t.clearReset()},[t])},Ube=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||$$(r,[t.error,n])),Fbe=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...r)=>Math.max(e(...r),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$be=(t,e)=>t.isLoading&&t.isFetching&&!e,Lbe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,z4=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function jbe(t,e,r){var d,f,h,p,g;const n=yS(r),i=Rbe(),s=Dbe(),o=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",Fbe(o),Mbe(o,s),Bbe(s);const a=!n.getQueryCache().get(o.queryHash),[c]=ie.useState(()=>new e(n,o)),u=c.getOptimisticResult(o),l=!i&&t.subscribed!==!1;if(ie.useSyncExternalStore(ie.useCallback(w=>{const y=l?c.subscribe(sn.batchCalls(w)):NC;return c.updateResult(),y},[c,l]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),ie.useEffect(()=>{c.setOptions(o)},[o,c]),Lbe(o,u))throw z4(o,c,s);if(Ube({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!Pd&&$be(u,i)){const w=a?z4(o,c,s):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(NC).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function zbe(t,e){return jbe(t,vbe,e)}function qbe(t,e){const r=yS(e),[n]=ie.useState(()=>new _be(r,t));ie.useEffect(()=>{n.setOptions(t)},[n,t]);const i=ie.useSyncExternalStore(ie.useCallback(o=>n.subscribe(sn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=ie.useCallback((o,a)=>{n.mutate(o,a).catch(NC)},[n]);if(i.error&&$$(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Hbe(t){const e=zbe({...t,queryKeyHashFn:Cbe});return e.queryKey=t.queryKey,e}function Wbe(t={}){const e=Yd(t);return ie.useSyncExternalStore(r=>owe(e,{onChange:r}),()=>N4(e),()=>N4(e))}function Vbe(t={}){const e=Yd(t);return ie.useSyncExternalStore(r=>awe(e,{onChange:r}),()=>tc(e),()=>tc(e))}function Gbe(t={}){const{mutation:e}=t,r=Yd(t),n=Ibe(r),{mutate:i,mutateAsync:s,...o}=qbe({...e,...n});return{...o,connectors:Vbe({config:r}).map(a=>a.connector),disconnect:i,disconnectAsync:s}}function Kbe(t={}){const e=Yd(t);return S$.useSyncExternalStoreWithSelector(r=>lwe(e,{onChange:r}),()=>fC(e,t),()=>fC(e,t),r=>r,(r,n)=>(r==null?void 0:r.uid)===(n==null?void 0:n.uid))}function Qbe(t={}){const{query:e={},...r}=t,n=Yd(r),i=yS(),{address:s,connector:o,status:a}=fS({config:n}),c=Wbe({config:n}),u=t.connector??o,{queryKey:l,...d}=Nbe(n,{...t,chainId:t.chainId??c,connector:t.connector??o}),f=!!((a==="connected"||a==="reconnecting"&&(u!=null&&u.getProvider))&&(e.enabled??!0)),h=ie.useRef(s);return ie.useEffect(()=>{const p=h.current;!s&&p?(i.removeQueries({queryKey:l}),h.current=void 0):s!==p&&(i.invalidateQueries({queryKey:l}),h.current=s)},[s,i]),Hbe({...e,...d,queryKey:l,enabled:f,staleTime:Number.POSITIVE_INFINITY})}var Ybe="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const q4=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),H4=4;function Jbe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let N=1;N<n;N++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const d=31,f=2**d,h=f>>>1,p=h>>1,g=f-1;let w=0;for(let N=0;N<d;N++)w=w<<1|l();let y=[],b=0,E=f;for(;;){let N=Math.floor(((w-b+1)*i-1)/E),O=0,k=n;for(;k-O>1;){let W=O+k>>>1;N<s[W]?k=W:O=W}if(O==0)break;y.push(O);let U=b+Math.floor(E*s[O]/i),D=b+Math.floor(E*s[O+1]/i)-1;for(;!((U^D)&h);)w=w<<1&g|l(),U=U<<1&g,D=D<<1&g|1;for(;U&~D&p;)w=w&h|w<<1&g>>>1|l(),U=U<<1^h,D=(D^h)<<1|h|1;b=U,E=1+D-U}let x=n-4;return y.map(N=>{switch(N-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return N-1}})}function Zbe(t){let e=0;return()=>t[e++]}function L$(t){return Zbe(Jbe(Xbe(t)))}function Xbe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function eve(t){return t&1?~t>>1:t>>1}function tve(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=eve(e());return r}function Sm(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function j$(t){return Im(()=>{let e=Sm(t);if(e.length)return e})}function z$(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(rve(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(nve(r,t))}return e.flat()}function Im(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function q$(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)tve(t,r).forEach((s,o)=>n[o].push(s));return n}function rve(t,e){let r=1+e(),n=e(),i=Im(e);return q$(i.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(i[a]).fill().map((l,d)=>{let f=d*n;return[c+d*r,u.map(h=>h+f)]})})}function nve(t,e){let r=1+e();return q$(r,1+t,e).map(i=>[i[0],i.slice(1)])}function ive(t){let e=[],r=Sm(t);return i(n([]),[]),e;function n(s){let o=t(),a=Im(()=>{let c=Sm(t).map(u=>r[u]);if(c.length)return n(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let u of o)for(let l of u.Q)i(u,[...a,l],c)}}}function sve(t){return t.toString(16).toUpperCase().padStart(2,"0")}function H$(t){return`{${sve(t)}}`}function ove(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function a0(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function ave(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var cve="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Nm=44032,qb=4352,Hb=4449,Wb=4519,W$=19,V$=21,c0=28,Vb=V$*c0,uve=W$*Vb,lve=Nm+uve,dve=qb+W$,fve=Hb+V$,hve=Wb+c0;function kp(t){return t>>24&255}function G$(t){return t&16777215}let TC,W4,PC,Sw;function pve(){let t=L$(cve);TC=new Map(j$(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),W4=new Set(Sm(t)),PC=new Map,Sw=new Map;for(let[e,r]of z$(t)){if(!W4.has(e)&&r.length==2){let[n,i]=r,s=Sw.get(n);s||(s=new Map,Sw.set(n,s)),s.set(i,e)}PC.set(e,r.reverse())}}function K$(t){return t>=Nm&&t<lve}function gve(t,e){if(t>=qb&&t<dve&&e>=Hb&&e<fve)return Nm+(t-qb)*Vb+(e-Hb)*c0;if(K$(t)&&e>Wb&&e<hve&&(t-Nm)%c0==0)return t+(e-Wb);{let r=Sw.get(t);return r&&(r=r.get(e),r)?r:-1}}function Q$(t){TC||pve();let e=[],r=[],n=!1;function i(s){let o=TC.get(s);o&&(n=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(K$(s)){let o=s-Nm,a=o/Vb|0,c=o%Vb/c0|0,u=o%c0;i(qb+a),i(Hb+c),u>0&&i(Wb+u)}else{let o=PC.get(s);o?r.push(...o):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=kp(e[0]);for(let o=1;o<e.length;o++){let a=kp(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(s=kp(e[--c]),s<=a))break}s=kp(e[o])}}return e}function mve(t){let e=[],r=[],n=-1,i=0;for(let s of t){let o=kp(s),a=G$(s);if(n==-1)o==0?n=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=o;else{let c=gve(n,a);c>=0?n=c:i==0&&o==0?(e.push(n),n=a):(r.push(a),i=o)}}return n>=0&&e.push(n,...r),e}function Y$(t){return Q$(t).map(G$)}function yve(t){return mve(Q$(t))}const V4=45,J$=".",Z$=65039,X$=1,Gb=t=>Array.from(t);function Tm(t,e){return t.P.has(e)||t.Q.has(e)}class wve extends Array{get is_emoji(){return!0}}let RC,eL,ql,Kb,tL,mh,r6,Df,Sl,G4,OC;function wS(){if(RC)return;let t=L$(Ybe);const e=()=>Sm(t),r=()=>new Set(e()),n=(l,d)=>d.forEach(f=>l.add(f));RC=new Map(z$(t)),eL=r(),ql=e(),Kb=new Set(e().map(l=>ql[l])),ql=new Set(ql),tL=r(),r();let i=j$(t),s=t();const o=()=>{let l=new Set;return e().forEach(d=>n(l,i[d])),n(l,e()),l};mh=Im(l=>{let d=Im(t).map(f=>f+96);if(d.length){let f=l>=s;d[0]-=32,d=a0(d),f&&(d=`Restricted[${d}]`);let h=o(),p=o(),g=!t();return{N:d,P:h,Q:p,M:g,R:f}}}),r6=r(),Df=new Map;let a=e().concat(Gb(r6)).sort((l,d)=>l-d);a.forEach((l,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(l),r6.has(l)||Df.set(l,h)});for(let{V:l,M:d}of new Set(Df.values())){let f=[];for(let p of l){let g=mh.filter(y=>Tm(y,p)),w=f.find(({G:y})=>g.some(b=>y.has(b)));w||(w={G:new Set,V:[]},f.push(w)),w.V.push(p),n(w.G,g)}let h=f.flatMap(p=>Gb(p.G));for(let{G:p,V:g}of f){let w=new Set(h.filter(y=>!p.has(y)));for(let y of g)d.set(y,w)}}Sl=new Set;let c=new Set;const u=l=>Sl.has(l)?c.add(l):Sl.add(l);for(let l of mh){for(let d of l.P)u(d);for(let d of l.Q)u(d)}for(let l of Sl)!Df.has(l)&&!c.has(l)&&Df.set(l,X$);n(Sl,Y$(Sl)),G4=ive(t).map(l=>wve.from(l)).sort(ave),OC=new Map;for(let l of G4){let d=[OC];for(let f of l){let h=d.map(p=>{let g=p.get(f);return g||(g=new Map,p.set(f,g)),g});f===Z$?d.push(...h):d=h}for(let f of d)f.V=l}}function bS(t){return(rL(t)?"":`${vS(AE([t]))} `)+H$(t)}function vS(t){return`"${t}"‎`}function bve(t){if(t.length>=4&&t[2]==V4&&t[3]==V4)throw new Error(`invalid label extension: "${a0(t.slice(0,4))}"`)}function vve(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function Eve(t){let e=t[0],r=q4.get(e);if(r)throw eg(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let o=q4.get(e);if(o){if(i==s)throw eg(`${r} + ${o}`);i=s+1,r=o}}if(i==n)throw eg(`trailing ${r}`)}function AE(t,e=1/0,r=H$){let n=[];Ave(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];rL(a)&&(n.push(a0(t.slice(i,o))),n.push(r(a)),i=o+1)}return n.push(a0(t.slice(i,s))),n.join("")}function Ave(t,e){return wS(),e?Kb.has(t):ql.has(t)}function rL(t){return wS(),tL.has(t)}function _ve(t){return Ive(Cve(t,yve,Pve))}function Cve(t,e,r){if(!t)return[];wS();let n=0;return t.split(J$).map(i=>{let s=ove(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=Tve(s,e,r),c=a.length,u;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(vve(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(f=>f<128))bve(l),u="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)u="Emoji";else{if(ql.has(l[0]))throw eg("leading combining mark");for(let g=1;g<c;g++){let w=a[g];if(!w.is_emoji&&ql.has(w[0]))throw eg(`emoji + combining mark: "${a0(a[g-1])} + ${AE([w[0]])}"`)}Eve(l);let h=Gb(new Set(f)),[p]=Sve(h);Nve(p,f),xve(p,h),u=p.N}}o.type=u}catch(a){o.error=a}return o})}function xve(t,e){let r,n=[];for(let i of e){let s=Df.get(i);if(s===X$)return;if(s){let o=s.M.get(i);if(r=r?r.filter(a=>o.has(a)):Gb(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>Tm(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Sve(t){let e=mh;for(let r of t){let n=e.filter(i=>Tm(i,r));if(!n.length)throw mh.some(i=>Tm(i,r))?iL(e[0],r):nL(r);if(e=n,n.length==1)break}return e}function Ive(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${vS(AE(e,63))}: ${i}`)}return a0(n)}).join(J$)}function nL(t){return new Error(`disallowed character: ${bS(t)}`)}function iL(t,e){let r=bS(e),n=mh.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function eg(t){return new Error(`illegal placement: ${t}`)}function Nve(t,e){for(let r of e)if(!Tm(t,r))throw iL(t,r);if(t.M){let r=Y$(e);for(let n=1,i=r.length;n<i;n++)if(Kb.has(r[n])){let s=n+1;for(let o;s<i&&Kb.has(o=r[s]);s++)for(let a=n;a<s;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${bS(o)}`);if(s-n>H4)throw new Error(`excessive non-spacing marks: ${vS(AE(r.slice(n-1,s)))} (${s-n}/${H4})`);n=s}}}function Tve(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=Rve(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let o=t.pop();if(Sl.has(o))i.push(o);else{let a=RC.get(o);if(a)i.push(...a);else if(!eL.has(o))throw nL(o)}}}return i.length&&n.push(e(i)),n}function Pve(t){return t.filter(e=>e!=Z$)}function Rve(t,e){let r=OC,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return n}function Ove(t){return _ve(t)}function kve(t){return Ove(t)}function Dve(t){let e=[],r,n;function i(a){return _g.parseEvmChainId(a)||1}function s(){return r||(r=od.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{td.open(jl.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),r}async function o(a={}){var g,w;const c=s();let u=a.chainId;if(a.isReconnecting){const y=_g.parseEvmChainId(c.getLastUsedChainId()||""),b=(g=t.chains)==null?void 0:g[0].id;if(u=y||b,!u)throw new Error("ChainId not found in provider")}const l=(w=Ne.state.preferredAccountTypes)==null?void 0:w.eip155,{address:d,chainId:f,accounts:h}=await c.connect({chainId:u,preferredAccountType:l});e=(h==null?void 0:h.map(y=>y.address))||[d];const p=i(f);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:fe.CONNECTOR_ID.AUTH,name:fe.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:fe.CHAIN.EVM,async connect(c={}){if(n)return n;n||(n=new Promise(l=>{l(o(c))}));const u=await n;return n=void 0,u},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=od.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{td.open(jl.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:u}=await c.getChainId();return i(u)},async isAuthorized(){const c=await this.getProvider();return Promise.resolve(c.getLoginEmailUsed())},async switchChain({chainId:c}){var u,l;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new Aa(new Error("chain not found on connector."));const f=await this.getProvider(),h=(u=Ne.state.preferredAccountTypes)==null?void 0:u.eip155,p=await f.connect({chainId:c,preferredAccountType:h});return e=((l=p==null?void 0:p.accounts)==null?void 0:l.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new Aa(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(lc)})},onChainChanged(c){const u=Number(c);a.emitter.emit("change",{chainId:u})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}ES.type="walletConnect";function ES(t,e){const r=t.isNewChainsStale??!0;let n,i,s,o,a,c,u;return l=>({id:"walletConnect",name:"WalletConnect",type:ES.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var f,h,p;try{const g=V.getCaipNetworks(),w=await this.getProvider();if(!w)throw new su;a||(a=this.onDisplayUri,w.on("display_uri",a));const y=await this.isChainsStale();w.session&&y&&await w.disconnect();const b=pe.state.universalProviderConfigOverride;if(!w.session||y){const D=bE.createNamespaces(g,b);await w.connect({optionalNamespaces:D,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(W=>Number(W.id)))}const E=await this.getAccounts(),x=await this.getChainId(),N=(p=(h=(f=w.session)==null?void 0:f.namespaces)==null?void 0:h.eip155)==null?void 0:p.chains,O=N==null?void 0:N.some(D=>Number(D.split(":")[1])===x);let k=1;O?k=x:N!=null&&N[0]&&(k=Number(N[0].split(":")[1])),a&&(w.removeListener("display_uri",a),a=void 0),o&&(w.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),w.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),w.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),w.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),w.on("session_delete",c));const U=b==null?void 0:b.defaultChain;return w.setDefaultChain(U??`eip155:${k}`),{accounts:E,chainId:k}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new tn(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(f){if(!/No matching key/i.test(f.message))throw f}finally{s&&(d==null||d.removeListener("chainChanged",s),s=void 0),u&&(d==null||d.removeListener("disconnect",u),u=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),i&&(d==null||d.removeListener("accountsChanged",i),i=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,w;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const f=(w=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[fe.CHAIN.EVM])==null?void 0:w.accounts;return(f==null?void 0:f.map(y=>y.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;n||(n=await e.getUniversalProvider(),n==null||n.events.setMaxListeners(Number.POSITIVE_INFINITY));const f=_e.getActiveNamespace(),h=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&h!==d&&f){const w=_e.getStoredActiveCaipNetworkId(),y=e.getCaipNetworks(f),b=y==null?void 0:y.find(E=>E.id===w);b&&b.chainNamespace===fe.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(b.id)}))}return n},async getChainId(){var g,w,y,b;const d=(g=e.getCaipNetwork(fe.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const h=(b=(y=(w=(await this.getProvider()).session)==null?void 0:w.namespaces[fe.CHAIN.EVM])==null?void 0:y.chains)==null?void 0:b[0],p=V.getCaipNetworks().find(E=>E.id===h);return p==null?void 0:p.id},async isAuthorized(){try{const[d,f]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&f.session?(await f.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:f}){var g,w,y,b;const h=await this.getProvider();if(!h)throw new su;const p=V.getCaipNetworks().find(E=>E.id===f);if(!p)throw new Aa(new _m);try{await h.request({method:"wallet_switchEthereumChain",params:[{chainId:De(f)}]}),p!=null&&p.caipNetworkId&&h.setDefaultChain(p==null?void 0:p.caipNetworkId),l.emitter.emit("change",{chainId:Number(f)});const E=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...E,f]),{...p,id:p.id}}catch(E){const x=E;if(/(?:user rejected)/iu.test(x.message))throw new tn(x);try{let N;d!=null&&d.blockExplorerUrls?N=d.blockExplorerUrls:N=(g=p.blockExplorers)!=null&&g.default.url?[(w=p.blockExplorers)==null?void 0:w.default.url]:[];const O=((b=(y=p.rpcUrls)==null?void 0:y.chainDefault)==null?void 0:b.http)||[],k={blockExplorerUrls:N,chainId:De(f),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:O};await h.request({method:"wallet_addEthereumChain",params:[k]});const U=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...U,f]),{...p,id:p.id}}catch(N){throw new tn(N)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():l.emitter.emit("change",{accounts:d.map(f=>lc(f))})},onChainChanged(d){const f=Number(d);l.emitter.emit("change",{chainId:f})},onConnect(d){this.setRequestedChainsIds(V.getCaipNetworks().map(f=>Number(f.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),l.emitter.emit("disconnect");const f=await this.getProvider();i&&(f.removeListener("accountsChanged",i),i=void 0),s&&(f.removeListener("chainChanged",s),s=void 0),u&&(f.removeListener("disconnect",u),u=void 0),c&&(f.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))},onDisplayUri(d){l.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var h,p,g;if(!((h=n==null?void 0:n.session)!=null&&h.namespaces))return[];const d=(g=(p=n==null?void 0:n.session)==null?void 0:p.namespaces[fe.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(w=>Number.parseInt(w.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var f;const d=await((f=l.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!r)return!1;const d=l.chains.map(p=>p.id),f=this.getNamespaceChainsIds();if(f.length&&!f.some(p=>d.includes(p)))return!1;const h=await this.getRequestedChainsIds();return!d.every(p=>h.includes(Number(p)))},async setRequestedChainsIds(d){var f;await((f=l.storage)==null?void 0:f.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const yp=vr({pendingTransactions:0}),K4={state:yp,subscribeKey(t,e){return Ei(yp,t,e)},increase(t){yp[t]+=1},decrease(t){yp[t]-=1},reset(t){yp[t]=0}};function Mve(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const Bve={enable:!1,pollingInterval:3e4};class Uve extends f${constructor(e){const r=oa.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,adapterType:fe.ADAPTER_TYPES.WAGMI,namespace:fe.CHAIN.EVM}),this.balancePromises={},this.pendingTransactionsFilter={...Bve,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:r}),this.setupWatchers()}async getAccounts(e){var s;const r=this.getWagmiConnector(e.id);if(!r)return{accounts:[]};if(r.id===fe.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{address:a,accounts:c}=o.user;return Promise.resolve({accounts:(c||[{address:a,type:"eoa"}]).map(u=>Ge.createAccount("eip155",u.address,u.type))})}const{addresses:n,address:i}=Cm(this.wagmiConfig);return Promise.resolve({accounts:(s=n||[i])==null?void 0:s.map(o=>Ge.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(r=>r.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(i=>i.chainNamespace===fe.CHAIN.EVM);const r={},n=[...e.connectors??[]];this.wagmiChains.forEach(i=>{var a,c;const s=(a=e.transports)==null?void 0:a[i.id],o=oa.getCaipNetworkId(i);s?r[i.id]=oa.extendWagmiTransports(i,e.projectId,s):r[i.id]=oa.getViemTransport(i,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=Rwe({...e,chains:this.wagmiChains,connectors:n,transports:r})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=uwe(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),K4.increase("pendingTransactions")}});const e=K4.subscribeKey("pendingTransactions",r=>{var n;r>=fe.LIMITS.PENDING_TRANSACTIONS&&((n=this.unwatchPendingTransactions)==null||n.call(this),e())})}setupWatchers(){w$(this.wagmiConfig,{onChange:(e,r)=>{e.status==="disconnected"&&r.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(r==null?void 0:r.address)||r.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(r==null?void 0:r.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var n,i;const r=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:s}=await Zn(()=>import("./index-543399a2.js"),[]);s&&r.push(s({version:"4",appName:((n=e.metadata)==null?void 0:n.name)??"Unknown",appLogoUrl:((i=e.metadata)==null?void 0:i.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(s){console.error("Failed to import Coinbase Wallet SDK:",s)}r.forEach(s=>{const o=this.wagmiConfig._internal.connectors.setup(s);this.wagmiConfig._internal.connectors.setState(a=>[...a,o])})}addWagmiConnectors(e,r){var o,a,c,u,l;const n=[];e.enableWalletConnect!==!1&&n.push(ES(e,r)),e.enableInjected!==!1&&n.push(vE({shimDisconnect:!0}));const i=((o=e.features)==null?void 0:o.email)===void 0?_n.DEFAULT_FEATURES.email:(a=e.features)==null?void 0:a.email,s=(c=e.features)!=null&&c.socials?((l=(u=e.features)==null?void 0:u.socials)==null?void 0:l.length)>0:_n.DEFAULT_FEATURES.socials;(i||s)&&n.push(Dve({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),n.forEach(d=>{const f=this.wagmiConfig._internal.connectors.setup(d);this.wagmiConfig._internal.connectors.setState(h=>[...h,f])})}async signMessage(e){try{return{signature:await iwe(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:r}=Cm(this.wagmiConfig),n={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:r,type:"legacy",parameters:["nonce"]};await rwe(this.wagmiConfig,n);const i=await nwe(this.wagmiConfig,n);return await dwe(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:r,...n}=e,i=Number(_g.caipNetworkIdToNumber(r.caipNetworkId));return{hash:await fwe(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[i],chainId:i,address:n.tokenAddress,account:n.fromAddress,abi:n.abi,functionName:n.method,args:n.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:r,caipNetwork:n}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let i=!1,s=!1;return oW(r)&&(s=await bE.resolveReownName(r)||!1),n.id===1&&(i=await Z1e(this.wagmiConfig,{name:kve(r),chainId:n.id})),{address:i||s||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await V1e(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return ZF(e.value,e.decimals)}formatUnits(e){return T0(e.value,e.decimals)}async addWagmiConnector(e,r){var i;if(e.id===fe.CONNECTOR_ID.AUTH||e.id===fe.CONNECTOR_ID.WALLET_CONNECT)return;const n=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Iu.ConnectorExplorerIds[e.id],imageUrl:((i=r==null?void 0:r.connectorImages)==null?void 0:i[e.id])??e.icon,name:Iu.ConnectorNamesMap[e.id]??e.name,imageId:Iu.ConnectorImageIds[e.id],type:Iu.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===fe.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:n,chain:this.namespace,chains:[]})}async syncConnectors(e,r){cwe(this.wagmiConfig,{onChange:n=>n.forEach(i=>this.addWagmiConnector(i,e))}),await Promise.all(this.wagmiConfig.connectors.map(n=>this.addWagmiConnector(n,e))),this.addWagmiConnectors(e,r),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:r}=e,i=tc(this.wagmiConfig).find(a=>a.connector.id===r),s=this.getWagmiConnector(r),o=await(s==null?void 0:s.getProvider());return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:o,type:i==null?void 0:i.connector.type,id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const r=this.getWalletConnectConnector();await r.authenticate();const n=this.getWagmiConnector("walletConnect");if(!n)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const i=await S4(this.wagmiConfig,{connector:n,chainId:e?Number(e):void 0});return i.chainId!==Number(e)&&await T4(this.wagmiConfig,{chainId:i.chainId}),{clientId:await r.provider.client.core.crypto.getClientId()}}async connect(e){var u,l,d,f,h;const{id:r,provider:n,type:i,info:s,chainId:o}=e,a=this.getWagmiConnector(r);if(!a)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(n&&s&&a.id===fe.CONNECTOR_ID.EIP6963&&((u=a.setEip6963Wallet)==null||u.call(a,{provider:n,info:s})),a.uid===((d=(l=this.wagmiConfig)==null?void 0:l.state)==null?void 0:d.current)){const p=(h=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:h.get(a.uid);if(p)return{address:p==null?void 0:p.accounts[0],chainId:p==null?void 0:p.chainId,provider:n,type:i,id:r}}const c=await S4(this.wagmiConfig,{connector:a,chainId:o?Number(o):void 0});return{address:c.accounts[0],chainId:c.chainId,provider:n,type:i,id:r}}async reconnect(e){const{id:r}=e,n=this.getWagmiConnector(r);if(!n)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await y$(this.wagmiConfig,{connectors:[n]})}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(i=>i.id===e.chainId);if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n&&this.wagmiConfig){const i=`${n.caipNetworkId}:${e.address}`,s=this.balancePromises[i];if(s)return s;const o=_e.getNativeBalanceCacheForCaipAddress(i);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[i]=new Promise(async a=>{var c,u;try{const l=Number(e.chainId),d=await Y1e(this.wagmiConfig,{address:e.address,chainId:l,token:(u=(c=e.tokens)==null?void 0:c[n.caipNetworkId])==null?void 0:u.address});_e.updateNativeBalanceCache({caipAddress:i,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(l){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",l),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const r=e.chainId,n=await ewe(this.wagmiConfig,{address:e.address,chainId:r});if(n){const i=await X1e(this.wagmiConfig,{name:n,chainId:r});return{profileName:n,profileImage:i??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=tc(this.wagmiConfig);await Promise.all(e.map(async r=>{const n=this.getWagmiConnector(r.connector.id);n&&await g$(this.wagmiConfig,{connector:n})}))}async switchNetwork(e){await T4(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const n=tc(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=s.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const l=Mve(o)[e];if(l)return l}return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const n=tc(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const n=tc(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const n=tc(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new dS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}var Nu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nu||(Nu={}));const Q4="popstate";function Fve(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return kC("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Qb(i)}return Lve(e,r,null,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $ve(){return Math.random().toString(36).substr(2,8)}function Y4(t,e){return{usr:t.state,key:t.key,idx:e}}function kC(t,e,r,n){return r===void 0&&(r=null),Pm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?B0(e):e,{state:r,key:e&&e.key||n||$ve()})}function Qb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function B0(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Lve(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Nu.Pop,c=null,u=l();u==null&&(u=0,o.replaceState(Pm({},o.state,{idx:u}),""));function l(){return(o.state||{idx:null}).idx}function d(){a=Nu.Pop;let w=l(),y=w==null?null:w-u;u=w,c&&c({action:a,location:g.location,delta:y})}function f(w,y){a=Nu.Push;let b=kC(g.location,w,y);r&&r(b,w),u=l()+1;let E=Y4(b,u),x=g.createHref(b);try{o.pushState(E,"",x)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(x)}s&&c&&c({action:a,location:g.location,delta:1})}function h(w,y){a=Nu.Replace;let b=kC(g.location,w,y);r&&r(b,w),u=l();let E=Y4(b,u),x=g.createHref(b);o.replaceState(E,"",x),s&&c&&c({action:a,location:g.location,delta:0})}function p(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:Qb(w);return b=b.replace(/ $/,"%20"),Yr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return a},get location(){return t(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Q4,d),c=w,()=>{i.removeEventListener(Q4,d),c=null}},createHref(w){return e(i,w)},createURL:p,encodeLocation(w){let y=p(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(w){return o.go(w)}};return g}var J4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(J4||(J4={}));function jve(t,e,r){return r===void 0&&(r="/"),zve(t,e,r,!1)}function zve(t,e,r,n){let i=typeof e=="string"?B0(e):e,s=AS(i.pathname||"/",r);if(s==null)return null;let o=oL(t);qve(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=eEe(s);a=Zve(o[c],u,n)}return a}function oL(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Yr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Hu([n,c.relativePath]),l=r.concat(c);s.children&&s.children.length>0&&(Yr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oL(s.children,e,l,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Yve(u,s.index),routesMeta:l})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of aL(s.path))i(s,o,c)}),e}function aL(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=aL(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function qve(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Jve(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Hve=/^:[\w-]+$/,Wve=3,Vve=2,Gve=1,Kve=10,Qve=-2,Z4=t=>t==="*";function Yve(t,e){let r=t.split("/"),n=r.length;return r.some(Z4)&&(n+=Qve),e&&(n+=Vve),r.filter(i=>!Z4(i)).reduce((i,s)=>i+(Hve.test(s)?Wve:s===""?Gve:Kve),n)}function Jve(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Zve(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,l=s==="/"?e:e.slice(s.length)||"/",d=X4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},l),f=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=X4({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},l)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Hu([s,d.pathname]),pathnameBase:iEe(Hu([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Hu([s,d.pathnameBase]))}return o}function X4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Xve(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,l,d)=>{let{paramName:f,isOptional:h}=l;if(f==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Xve(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function eEe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function tEe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?B0(t):t;return{pathname:r?r.startsWith("/")?r:rEe(r,e):e,search:sEe(n),hash:oEe(i)}}function rEe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function n6(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nEe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cL(t,e){let r=nEe(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uL(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=B0(t):(i=Pm({},t),Yr(!i.pathname||!i.pathname.includes("?"),n6("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),n6("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),n6("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let c=tEe(i,a),u=o&&o!=="/"&&o.endsWith("/"),l=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||l)&&(c.pathname+="/"),c}const Hu=t=>t.join("/").replace(/\/\/+/g,"/"),iEe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sEe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oEe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aEe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lL=["post","put","patch","delete"];new Set(lL);const cEe=["get",...lL];new Set(cEe);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}const _S=ie.createContext(null),uEe=ie.createContext(null),Jd=ie.createContext(null),_E=ie.createContext(null),Zd=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),dL=ie.createContext(null);function lEe(t,e){let{relative:r}=e===void 0?{}:e;My()||Yr(!1);let{basename:n,navigator:i}=ie.useContext(Jd),{hash:s,pathname:o,search:a}=hL(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Hu([n,o])),i.createHref({pathname:c,search:a,hash:s})}function My(){return ie.useContext(_E)!=null}function CE(){return My()||Yr(!1),ie.useContext(_E).location}function fL(t){ie.useContext(Jd).static||ie.useLayoutEffect(t)}function dEe(){let{isDataRoute:t}=ie.useContext(Zd);return t?CEe():fEe()}function fEe(){My()||Yr(!1);let t=ie.useContext(_S),{basename:e,future:r,navigator:n}=ie.useContext(Jd),{matches:i}=ie.useContext(Zd),{pathname:s}=CE(),o=JSON.stringify(cL(i,r.v7_relativeSplatPath)),a=ie.useRef(!1);return fL(()=>{a.current=!0}),ie.useCallback(function(u,l){if(l===void 0&&(l={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=uL(u,JSON.parse(o),s,l.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hu([e,d.pathname])),(l.replace?n.replace:n.push)(d,l.state,l)},[e,n,o,s,t])}function hL(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ie.useContext(Jd),{matches:i}=ie.useContext(Zd),{pathname:s}=CE(),o=JSON.stringify(cL(i,n.v7_relativeSplatPath));return ie.useMemo(()=>uL(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function hEe(t,e){return pEe(t,e)}function pEe(t,e,r,n){My()||Yr(!1);let{navigator:i,static:s}=ie.useContext(Jd),{matches:o}=ie.useContext(Zd),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let l=CE(),d;if(e){var f;let y=typeof e=="string"?B0(e):e;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||Yr(!1),d=y}else d=l;let h=d.pathname||"/",p=h;if(u!=="/"){let y=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=!s&&r&&r.matches&&r.matches.length>0?r.matches:jve(t,{pathname:p}),w=bEe(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Hu([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Hu([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return e&&w?ie.createElement(_E.Provider,{value:{location:Rm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nu.Pop}},w):w}function gEe(){let t=_Ee(),e=aEe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),r?ie.createElement("pre",{style:i},r):null,s)}const mEe=ie.createElement(gEe,null);class yEe extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ie.createElement(Zd.Provider,{value:this.props.routeContext},ie.createElement(dL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wEe(t){let{routeContext:e,match:r,children:n}=t,i=ie.useContext(_S);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ie.createElement(Zd.Provider,{value:e},n)}function bEe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let l=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);l>=0||Yr(!1),o=o.slice(0,Math.min(o.length,l+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let l=0;l<o.length;l++){let d=o[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:f,errors:h}=r,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((l,d,f)=>{let h,p=!1,g=null,w=null;r&&(h=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||mEe,c&&(u<0&&f===0?(xEe("route-fallback",!1),p=!0,w=null):u===f&&(p=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),b=()=>{let E;return h?E=g:p?E=w:d.route.Component?E=ie.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=l,ie.createElement(wEe,{match:d,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:E})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?ie.createElement(yEe,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var pL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pL||{}),Yb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yb||{});function vEe(t){let e=ie.useContext(_S);return e||Yr(!1),e}function EEe(t){let e=ie.useContext(uEe);return e||Yr(!1),e}function AEe(t){let e=ie.useContext(Zd);return e||Yr(!1),e}function gL(t){let e=AEe(),r=e.matches[e.matches.length-1];return r.route.id||Yr(!1),r.route.id}function _Ee(){var t;let e=ie.useContext(dL),r=EEe(Yb.UseRouteError),n=gL(Yb.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function CEe(){let{router:t}=vEe(pL.UseNavigateStable),e=gL(Yb.UseNavigateStable),r=ie.useRef(!1);return fL(()=>{r.current=!0}),ie.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rm({fromRouteId:e},s)))},[t,e])}const eR={};function xEe(t,e,r){!e&&!eR[t]&&(eR[t]=!0)}function SEe(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function oo(t){Yr(!1)}function IEe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Nu.Pop,navigator:s,static:o=!1,future:a}=t;My()&&Yr(!1);let c=e.replace(/^\/*/,"/"),u=ie.useMemo(()=>({basename:c,navigator:s,static:o,future:Rm({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof n=="string"&&(n=B0(n));let{pathname:l="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,g=ie.useMemo(()=>{let w=AS(l,c);return w==null?null:{location:{pathname:w,search:d,hash:f,state:h,key:p},navigationType:i}},[c,l,d,f,h,p,i]);return g==null?null:ie.createElement(Jd.Provider,{value:u},ie.createElement(_E.Provider,{children:r,value:g}))}function NEe(t){let{children:e,location:r}=t;return hEe(DC(e),r)}new Promise(()=>{});function DC(t,e){e===void 0&&(e=[]);let r=[];return ie.Children.forEach(t,(n,i)=>{if(!ie.isValidElement(n))return;let s=[...e,i];if(n.type===ie.Fragment){r.push.apply(r,DC(n.props.children,s));return}n.type!==oo&&Yr(!1),!n.props.index||!n.props.children||Yr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=DC(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MC.apply(this,arguments)}function TEe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function PEe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function REe(t,e){return t.button===0&&(!e||e==="_self")&&!PEe(t)}const OEe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kEe="6";try{window.__reactRouterVersion=kEe}catch{}const DEe="startTransition",tR=Tz[DEe];function MEe(t){let{basename:e,children:r,future:n,window:i}=t,s=ie.useRef();s.current==null&&(s.current=Fve({window:i,v5Compat:!0}));let o=s.current,[a,c]=ie.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},l=ie.useCallback(d=>{u&&tR?tR(()=>c(d)):c(d)},[c,u]);return ie.useLayoutEffect(()=>o.listen(l),[o,l]),ie.useEffect(()=>SEe(n),[n]),ie.createElement(IEe,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const BEe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UEe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ho=ie.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:l,viewTransition:d}=e,f=TEe(e,OEe),{basename:h}=ie.useContext(Jd),p,g=!1;if(typeof u=="string"&&UEe.test(u)&&(p=u,BEe))try{let E=new URL(window.location.href),x=u.startsWith("//")?new URL(E.protocol+u):new URL(u),N=AS(x.pathname,h);x.origin===E.origin&&N!=null?u=N+x.search+x.hash:g=!0}catch{}let w=lEe(u,{relative:i}),y=FEe(u,{replace:o,state:a,target:c,preventScrollReset:l,relative:i,viewTransition:d});function b(E){n&&n(E),E.defaultPrevented||y(E)}return ie.createElement("a",MC({},f,{href:p||w,onClick:g||s?n:b,ref:r,target:c}))});var rR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rR||(rR={}));var nR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nR||(nR={}));function FEe(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=dEe(),u=CE(),l=hL(t,{relative:o});return ie.useCallback(d=>{if(REe(d,r)){d.preventDefault();let f=n!==void 0?n:Qb(u)===Qb(l);c(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,l,n,i,r,t,s,o,a])}function $Ee({setIsConnected:t,setAddress:e}){const[r,n]=ie.useState("Connect Wallet"),[i,s]=ie.useState(!1),[o,a]=ie.useState(""),{address:c,isConnected:u}=fS(),{open:l}=U1e(),{disconnect:d}=Gbe();ie.useEffect(()=>{u&&c?(console.log("Found an authorized account:",c),e(c),t(!0),n("Wallet Connected")):(console.log("No authorized account found"),e(""),t(!1),n("Connect Wallet"))},[c,u,e,t]);const f=async()=>{var p;if(!i)try{s(!0),a(""),await l()}catch(g){console.error("Error connecting wallet:",g);let w=g.message||"Unknown error";(p=g.message)!=null&&p.includes("timed out")&&(w="Connection timed out. Please try again."),g.code===4001&&(w="Please connect your wallet to continue."),a(`Failed to connect wallet: ${w}`)}finally{s(!1)}},h=async()=>{try{await d(),e(""),t(!1),n("Connect Wallet"),a("")}catch(p){console.error("Error disconnecting wallet:",p),a(`Failed to disconnect wallet: ${p.message}`)}};return F.jsxs("div",{className:"wallet-connect",children:[F.jsx("button",{className:"wallet-connect-button",onClick:f,disabled:i,children:i?"Connecting...":r}),F.jsx("button",{className:"wallet-connect-button",onClick:h,disabled:i||!u,children:"Disconnect"}),o&&F.jsx("p",{className:"error-message",children:o})]})}var CS={exports:{}};const LEe=tx(GW);CS.exports;(function(t){(function(e,r){function n($,m){if(!$)throw new Error(m||"Assertion failed")}function i($,m){$.super_=m;var v=function(){};v.prototype=m.prototype,$.prototype=new v,$.prototype.constructor=$}function s($,m,v){if(s.isBN($))return $;this.negative=0,this.words=null,this.length=0,this.red=null,$!==null&&((m==="le"||m==="be")&&(v=m,m=10),this._init($||0,m||10,v||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=LEe.Buffer}catch{}s.isBN=function(m){return m instanceof s?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===s.wordSize&&Array.isArray(m.words)},s.max=function(m,v){return m.cmp(v)>0?m:v},s.min=function(m,v){return m.cmp(v)<0?m:v},s.prototype._init=function(m,v,A){if(typeof m=="number")return this._initNumber(m,v,A);if(typeof m=="object")return this._initArray(m,v,A);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),m=m.toString().replace(/\s+/g,"");var T=0;m[0]==="-"&&(T++,this.negative=1),T<m.length&&(v===16?this._parseHex(m,T,A):(this._parseBase(m,v,T),A==="le"&&this._initArray(this.toArray(),v,A)))},s.prototype._initNumber=function(m,v,A){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(n(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),v,A)},s.prototype._initArray=function(m,v,A){if(n(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I,R,L=0;if(A==="be")for(T=m.length-1,I=0;T>=0;T-=3)R=m[T]|m[T-1]<<8|m[T-2]<<16,this.words[I]|=R<<L&67108863,this.words[I+1]=R>>>26-L&67108863,L+=24,L>=26&&(L-=26,I++);else if(A==="le")for(T=0,I=0;T<m.length;T+=3)R=m[T]|m[T+1]<<8|m[T+2]<<16,this.words[I]|=R<<L&67108863,this.words[I+1]=R>>>26-L&67108863,L+=24,L>=26&&(L-=26,I++);return this._strip()};function a($,m){var v=$.charCodeAt(m);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;n(!1,"Invalid character in "+$)}function c($,m,v){var A=a($,v);return v-1>=m&&(A|=a($,v-1)<<4),A}s.prototype._parseHex=function(m,v,A){this.length=Math.ceil((m.length-v)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I=0,R=0,L;if(A==="be")for(T=m.length-1;T>=v;T-=2)L=c(m,v,T)<<I,this.words[R]|=L&67108863,I>=18?(I-=18,R+=1,this.words[R]|=L>>>26):I+=8;else{var M=m.length-v;for(T=M%2===0?v+1:v;T<m.length;T+=2)L=c(m,v,T)<<I,this.words[R]|=L&67108863,I>=18?(I-=18,R+=1,this.words[R]|=L>>>26):I+=8}this._strip()};function u($,m,v,A){for(var T=0,I=0,R=Math.min($.length,v),L=m;L<R;L++){var M=$.charCodeAt(L)-48;T*=A,M>=49?I=M-49+10:M>=17?I=M-17+10:I=M,n(M>=0&&I<A,"Invalid character"),T+=I}return T}s.prototype._parseBase=function(m,v,A){this.words=[0],this.length=1;for(var T=0,I=1;I<=67108863;I*=v)T++;T--,I=I/v|0;for(var R=m.length-A,L=R%T,M=Math.min(R,R-L)+A,_=0,j=A;j<M;j+=T)_=u(m,j,j+T,v),this.imuln(I),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(L!==0){var Z=1;for(_=u(m,j,m.length,v),j=0;j<L;j++)Z*=v;this.imuln(Z),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},s.prototype.copy=function(m){m.words=new Array(this.length);for(var v=0;v<this.length;v++)m.words[v]=this.words[v];m.length=this.length,m.negative=this.negative,m.red=this.red};function l($,m){$.words=m.words,$.length=m.length,$.negative=m.negative,$.red=m.red}if(s.prototype._move=function(m){l(m,this)},s.prototype.clone=function(){var m=new s(null);return this.copy(m),m},s.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(m,v){m=m||10,v=v|0||1;var A;if(m===16||m==="hex"){A="";for(var T=0,I=0,R=0;R<this.length;R++){var L=this.words[R],M=((L<<T|I)&16777215).toString(16);I=L>>>24-T&16777215,T+=2,T>=26&&(T-=26,R--),I!==0||R!==this.length-1?A=f[6-M.length]+M+A:A=M+A}for(I!==0&&(A=I.toString(16)+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(m===(m|0)&&m>=2&&m<=36){var _=h[m],j=p[m];A="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var P=Z.modrn(j).toString(m);Z=Z.idivn(j),Z.isZero()?A=P+A:A=f[_-P.length]+P+A}for(this.isZero()&&(A="0"+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(m,v){return this.toArrayLike(o,m,v)}),s.prototype.toArray=function(m,v){return this.toArrayLike(Array,m,v)};var g=function(m,v){return m.allocUnsafe?m.allocUnsafe(v):new m(v)};s.prototype.toArrayLike=function(m,v,A){this._strip();var T=this.byteLength(),I=A||Math.max(1,T);n(T<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var R=g(m,I),L=v==="le"?"LE":"BE";return this["_toArrayLike"+L](R,T),R},s.prototype._toArrayLikeLE=function(m,v){for(var A=0,T=0,I=0,R=0;I<this.length;I++){var L=this.words[I]<<R|T;m[A++]=L&255,A<m.length&&(m[A++]=L>>8&255),A<m.length&&(m[A++]=L>>16&255),R===6?(A<m.length&&(m[A++]=L>>24&255),T=0,R=0):(T=L>>>24,R+=2)}if(A<m.length)for(m[A++]=T;A<m.length;)m[A++]=0},s.prototype._toArrayLikeBE=function(m,v){for(var A=m.length-1,T=0,I=0,R=0;I<this.length;I++){var L=this.words[I]<<R|T;m[A--]=L&255,A>=0&&(m[A--]=L>>8&255),A>=0&&(m[A--]=L>>16&255),R===6?(A>=0&&(m[A--]=L>>24&255),T=0,R=0):(T=L>>>24,R+=2)}if(A>=0)for(m[A--]=T;A>=0;)m[A--]=0},Math.clz32?s.prototype._countBits=function(m){return 32-Math.clz32(m)}:s.prototype._countBits=function(m){var v=m,A=0;return v>=4096&&(A+=13,v>>>=13),v>=64&&(A+=7,v>>>=7),v>=8&&(A+=4,v>>>=4),v>=2&&(A+=2,v>>>=2),A+v},s.prototype._zeroBits=function(m){if(m===0)return 26;var v=m,A=0;return v&8191||(A+=13,v>>>=13),v&127||(A+=7,v>>>=7),v&15||(A+=4,v>>>=4),v&3||(A+=2,v>>>=2),v&1||A++,A},s.prototype.bitLength=function(){var m=this.words[this.length-1],v=this._countBits(m);return(this.length-1)*26+v};function w($){for(var m=new Array($.bitLength()),v=0;v<m.length;v++){var A=v/26|0,T=v%26;m[v]=$.words[A]>>>T&1}return m}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,v=0;v<this.length;v++){var A=this._zeroBits(this.words[v]);if(m+=A,A!==26)break}return m},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},s.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]|m.words[v];return this._strip()},s.prototype.ior=function(m){return n((this.negative|m.negative)===0),this.iuor(m)},s.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},s.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},s.prototype.iuand=function(m){var v;this.length>m.length?v=m:v=this;for(var A=0;A<v.length;A++)this.words[A]=this.words[A]&m.words[A];return this.length=v.length,this._strip()},s.prototype.iand=function(m){return n((this.negative|m.negative)===0),this.iuand(m)},s.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},s.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},s.prototype.iuxor=function(m){var v,A;this.length>m.length?(v=this,A=m):(v=m,A=this);for(var T=0;T<A.length;T++)this.words[T]=v.words[T]^A.words[T];if(this!==v)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=v.length,this._strip()},s.prototype.ixor=function(m){return n((this.negative|m.negative)===0),this.iuxor(m)},s.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},s.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},s.prototype.inotn=function(m){n(typeof m=="number"&&m>=0);var v=Math.ceil(m/26)|0,A=m%26;this._expand(v),A>0&&v--;for(var T=0;T<v;T++)this.words[T]=~this.words[T]&67108863;return A>0&&(this.words[T]=~this.words[T]&67108863>>26-A),this._strip()},s.prototype.notn=function(m){return this.clone().inotn(m)},s.prototype.setn=function(m,v){n(typeof m=="number"&&m>=0);var A=m/26|0,T=m%26;return this._expand(A+1),v?this.words[A]=this.words[A]|1<<T:this.words[A]=this.words[A]&~(1<<T),this._strip()},s.prototype.iadd=function(m){var v;if(this.negative!==0&&m.negative===0)return this.negative=0,v=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,v=this.isub(m),m.negative=1,v._normSign();var A,T;this.length>m.length?(A=this,T=m):(A=m,T=this);for(var I=0,R=0;R<T.length;R++)v=(A.words[R]|0)+(T.words[R]|0)+I,this.words[R]=v&67108863,I=v>>>26;for(;I!==0&&R<A.length;R++)v=(A.words[R]|0)+I,this.words[R]=v&67108863,I=v>>>26;if(this.length=A.length,I!==0)this.words[this.length]=I,this.length++;else if(A!==this)for(;R<A.length;R++)this.words[R]=A.words[R];return this},s.prototype.add=function(m){var v;return m.negative!==0&&this.negative===0?(m.negative=0,v=this.sub(m),m.negative^=1,v):m.negative===0&&this.negative!==0?(this.negative=0,v=m.sub(this),this.negative=1,v):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},s.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var v=this.iadd(m);return m.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var A=this.cmp(m);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,I;A>0?(T=this,I=m):(T=m,I=this);for(var R=0,L=0;L<I.length;L++)v=(T.words[L]|0)-(I.words[L]|0)+R,R=v>>26,this.words[L]=v&67108863;for(;R!==0&&L<T.length;L++)v=(T.words[L]|0)+R,R=v>>26,this.words[L]=v&67108863;if(R===0&&L<T.length&&T!==this)for(;L<T.length;L++)this.words[L]=T.words[L];return this.length=Math.max(this.length,L),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(m){return this.clone().isub(m)};function y($,m,v){v.negative=m.negative^$.negative;var A=$.length+m.length|0;v.length=A,A=A-1|0;var T=$.words[0]|0,I=m.words[0]|0,R=T*I,L=R&67108863,M=R/67108864|0;v.words[0]=L;for(var _=1;_<A;_++){for(var j=M>>>26,Z=M&67108863,P=Math.min(_,m.length-1),K=Math.max(0,_-$.length+1);K<=P;K++){var ee=_-K|0;T=$.words[ee]|0,I=m.words[K]|0,R=T*I+Z,j+=R/67108864|0,Z=R&67108863}v.words[_]=Z|0,M=j|0}return M!==0?v.words[_]=M|0:v.length--,v._strip()}var b=function(m,v,A){var T=m.words,I=v.words,R=A.words,L=0,M,_,j,Z=T[0]|0,P=Z&8191,K=Z>>>13,ee=T[1]|0,X=ee&8191,ne=ee>>>13,be=T[2]|0,ue=be&8191,ae=be>>>13,Ke=T[3]|0,me=Ke&8191,Oe=Ke>>>13,Gn=T[4]|0,gt=Gn&8191,Rt=Gn>>>13,ys=T[5]|0,bt=ys&8191,St=ys>>>13,ws=T[6]|0,It=ws&8191,mt=ws>>>13,Mr=T[7]|0,vt=Mr&8191,Ot=Mr>>>13,hn=T[8]|0,kt=hn&8191,B=hn>>>13,C=T[9]|0,S=C&8191,q=C>>>13,Y=I[0]|0,J=Y&8191,te=Y>>>13,Ve=I[1]|0,qe=Ve&8191,$e=Ve>>>13,Nt=I[2]|0,Be=Nt&8191,Xt=Nt>>>13,ll=I[3]|0,er=ll&8191,tr=ll>>>13,dl=I[4]|0,rr=dl&8191,nr=dl>>>13,fl=I[5]|0,ir=fl&8191,sr=fl>>>13,hl=I[6]|0,or=hl&8191,ar=hl>>>13,pl=I[7]|0,cr=pl&8191,ur=pl>>>13,gl=I[8]|0,lr=gl&8191,dr=gl>>>13,ml=I[9]|0,fr=ml&8191,hr=ml>>>13;A.negative=m.negative^v.negative,A.length=19,M=Math.imul(P,J),_=Math.imul(P,te),_=_+Math.imul(K,J)|0,j=Math.imul(K,te);var Mc=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,M=Math.imul(X,J),_=Math.imul(X,te),_=_+Math.imul(ne,J)|0,j=Math.imul(ne,te),M=M+Math.imul(P,qe)|0,_=_+Math.imul(P,$e)|0,_=_+Math.imul(K,qe)|0,j=j+Math.imul(K,$e)|0;var Bc=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(Bc>>>26)|0,Bc&=67108863,M=Math.imul(ue,J),_=Math.imul(ue,te),_=_+Math.imul(ae,J)|0,j=Math.imul(ae,te),M=M+Math.imul(X,qe)|0,_=_+Math.imul(X,$e)|0,_=_+Math.imul(ne,qe)|0,j=j+Math.imul(ne,$e)|0,M=M+Math.imul(P,Be)|0,_=_+Math.imul(P,Xt)|0,_=_+Math.imul(K,Be)|0,j=j+Math.imul(K,Xt)|0;var Uc=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(Uc>>>26)|0,Uc&=67108863,M=Math.imul(me,J),_=Math.imul(me,te),_=_+Math.imul(Oe,J)|0,j=Math.imul(Oe,te),M=M+Math.imul(ue,qe)|0,_=_+Math.imul(ue,$e)|0,_=_+Math.imul(ae,qe)|0,j=j+Math.imul(ae,$e)|0,M=M+Math.imul(X,Be)|0,_=_+Math.imul(X,Xt)|0,_=_+Math.imul(ne,Be)|0,j=j+Math.imul(ne,Xt)|0,M=M+Math.imul(P,er)|0,_=_+Math.imul(P,tr)|0,_=_+Math.imul(K,er)|0,j=j+Math.imul(K,tr)|0;var Fc=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(Fc>>>26)|0,Fc&=67108863,M=Math.imul(gt,J),_=Math.imul(gt,te),_=_+Math.imul(Rt,J)|0,j=Math.imul(Rt,te),M=M+Math.imul(me,qe)|0,_=_+Math.imul(me,$e)|0,_=_+Math.imul(Oe,qe)|0,j=j+Math.imul(Oe,$e)|0,M=M+Math.imul(ue,Be)|0,_=_+Math.imul(ue,Xt)|0,_=_+Math.imul(ae,Be)|0,j=j+Math.imul(ae,Xt)|0,M=M+Math.imul(X,er)|0,_=_+Math.imul(X,tr)|0,_=_+Math.imul(ne,er)|0,j=j+Math.imul(ne,tr)|0,M=M+Math.imul(P,rr)|0,_=_+Math.imul(P,nr)|0,_=_+Math.imul(K,rr)|0,j=j+Math.imul(K,nr)|0;var $c=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+($c>>>26)|0,$c&=67108863,M=Math.imul(bt,J),_=Math.imul(bt,te),_=_+Math.imul(St,J)|0,j=Math.imul(St,te),M=M+Math.imul(gt,qe)|0,_=_+Math.imul(gt,$e)|0,_=_+Math.imul(Rt,qe)|0,j=j+Math.imul(Rt,$e)|0,M=M+Math.imul(me,Be)|0,_=_+Math.imul(me,Xt)|0,_=_+Math.imul(Oe,Be)|0,j=j+Math.imul(Oe,Xt)|0,M=M+Math.imul(ue,er)|0,_=_+Math.imul(ue,tr)|0,_=_+Math.imul(ae,er)|0,j=j+Math.imul(ae,tr)|0,M=M+Math.imul(X,rr)|0,_=_+Math.imul(X,nr)|0,_=_+Math.imul(ne,rr)|0,j=j+Math.imul(ne,nr)|0,M=M+Math.imul(P,ir)|0,_=_+Math.imul(P,sr)|0,_=_+Math.imul(K,ir)|0,j=j+Math.imul(K,sr)|0;var qE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(qE>>>26)|0,qE&=67108863,M=Math.imul(It,J),_=Math.imul(It,te),_=_+Math.imul(mt,J)|0,j=Math.imul(mt,te),M=M+Math.imul(bt,qe)|0,_=_+Math.imul(bt,$e)|0,_=_+Math.imul(St,qe)|0,j=j+Math.imul(St,$e)|0,M=M+Math.imul(gt,Be)|0,_=_+Math.imul(gt,Xt)|0,_=_+Math.imul(Rt,Be)|0,j=j+Math.imul(Rt,Xt)|0,M=M+Math.imul(me,er)|0,_=_+Math.imul(me,tr)|0,_=_+Math.imul(Oe,er)|0,j=j+Math.imul(Oe,tr)|0,M=M+Math.imul(ue,rr)|0,_=_+Math.imul(ue,nr)|0,_=_+Math.imul(ae,rr)|0,j=j+Math.imul(ae,nr)|0,M=M+Math.imul(X,ir)|0,_=_+Math.imul(X,sr)|0,_=_+Math.imul(ne,ir)|0,j=j+Math.imul(ne,sr)|0,M=M+Math.imul(P,or)|0,_=_+Math.imul(P,ar)|0,_=_+Math.imul(K,or)|0,j=j+Math.imul(K,ar)|0;var HE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(HE>>>26)|0,HE&=67108863,M=Math.imul(vt,J),_=Math.imul(vt,te),_=_+Math.imul(Ot,J)|0,j=Math.imul(Ot,te),M=M+Math.imul(It,qe)|0,_=_+Math.imul(It,$e)|0,_=_+Math.imul(mt,qe)|0,j=j+Math.imul(mt,$e)|0,M=M+Math.imul(bt,Be)|0,_=_+Math.imul(bt,Xt)|0,_=_+Math.imul(St,Be)|0,j=j+Math.imul(St,Xt)|0,M=M+Math.imul(gt,er)|0,_=_+Math.imul(gt,tr)|0,_=_+Math.imul(Rt,er)|0,j=j+Math.imul(Rt,tr)|0,M=M+Math.imul(me,rr)|0,_=_+Math.imul(me,nr)|0,_=_+Math.imul(Oe,rr)|0,j=j+Math.imul(Oe,nr)|0,M=M+Math.imul(ue,ir)|0,_=_+Math.imul(ue,sr)|0,_=_+Math.imul(ae,ir)|0,j=j+Math.imul(ae,sr)|0,M=M+Math.imul(X,or)|0,_=_+Math.imul(X,ar)|0,_=_+Math.imul(ne,or)|0,j=j+Math.imul(ne,ar)|0,M=M+Math.imul(P,cr)|0,_=_+Math.imul(P,ur)|0,_=_+Math.imul(K,cr)|0,j=j+Math.imul(K,ur)|0;var WE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(WE>>>26)|0,WE&=67108863,M=Math.imul(kt,J),_=Math.imul(kt,te),_=_+Math.imul(B,J)|0,j=Math.imul(B,te),M=M+Math.imul(vt,qe)|0,_=_+Math.imul(vt,$e)|0,_=_+Math.imul(Ot,qe)|0,j=j+Math.imul(Ot,$e)|0,M=M+Math.imul(It,Be)|0,_=_+Math.imul(It,Xt)|0,_=_+Math.imul(mt,Be)|0,j=j+Math.imul(mt,Xt)|0,M=M+Math.imul(bt,er)|0,_=_+Math.imul(bt,tr)|0,_=_+Math.imul(St,er)|0,j=j+Math.imul(St,tr)|0,M=M+Math.imul(gt,rr)|0,_=_+Math.imul(gt,nr)|0,_=_+Math.imul(Rt,rr)|0,j=j+Math.imul(Rt,nr)|0,M=M+Math.imul(me,ir)|0,_=_+Math.imul(me,sr)|0,_=_+Math.imul(Oe,ir)|0,j=j+Math.imul(Oe,sr)|0,M=M+Math.imul(ue,or)|0,_=_+Math.imul(ue,ar)|0,_=_+Math.imul(ae,or)|0,j=j+Math.imul(ae,ar)|0,M=M+Math.imul(X,cr)|0,_=_+Math.imul(X,ur)|0,_=_+Math.imul(ne,cr)|0,j=j+Math.imul(ne,ur)|0,M=M+Math.imul(P,lr)|0,_=_+Math.imul(P,dr)|0,_=_+Math.imul(K,lr)|0,j=j+Math.imul(K,dr)|0;var VE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(VE>>>26)|0,VE&=67108863,M=Math.imul(S,J),_=Math.imul(S,te),_=_+Math.imul(q,J)|0,j=Math.imul(q,te),M=M+Math.imul(kt,qe)|0,_=_+Math.imul(kt,$e)|0,_=_+Math.imul(B,qe)|0,j=j+Math.imul(B,$e)|0,M=M+Math.imul(vt,Be)|0,_=_+Math.imul(vt,Xt)|0,_=_+Math.imul(Ot,Be)|0,j=j+Math.imul(Ot,Xt)|0,M=M+Math.imul(It,er)|0,_=_+Math.imul(It,tr)|0,_=_+Math.imul(mt,er)|0,j=j+Math.imul(mt,tr)|0,M=M+Math.imul(bt,rr)|0,_=_+Math.imul(bt,nr)|0,_=_+Math.imul(St,rr)|0,j=j+Math.imul(St,nr)|0,M=M+Math.imul(gt,ir)|0,_=_+Math.imul(gt,sr)|0,_=_+Math.imul(Rt,ir)|0,j=j+Math.imul(Rt,sr)|0,M=M+Math.imul(me,or)|0,_=_+Math.imul(me,ar)|0,_=_+Math.imul(Oe,or)|0,j=j+Math.imul(Oe,ar)|0,M=M+Math.imul(ue,cr)|0,_=_+Math.imul(ue,ur)|0,_=_+Math.imul(ae,cr)|0,j=j+Math.imul(ae,ur)|0,M=M+Math.imul(X,lr)|0,_=_+Math.imul(X,dr)|0,_=_+Math.imul(ne,lr)|0,j=j+Math.imul(ne,dr)|0,M=M+Math.imul(P,fr)|0,_=_+Math.imul(P,hr)|0,_=_+Math.imul(K,fr)|0,j=j+Math.imul(K,hr)|0;var GE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(GE>>>26)|0,GE&=67108863,M=Math.imul(S,qe),_=Math.imul(S,$e),_=_+Math.imul(q,qe)|0,j=Math.imul(q,$e),M=M+Math.imul(kt,Be)|0,_=_+Math.imul(kt,Xt)|0,_=_+Math.imul(B,Be)|0,j=j+Math.imul(B,Xt)|0,M=M+Math.imul(vt,er)|0,_=_+Math.imul(vt,tr)|0,_=_+Math.imul(Ot,er)|0,j=j+Math.imul(Ot,tr)|0,M=M+Math.imul(It,rr)|0,_=_+Math.imul(It,nr)|0,_=_+Math.imul(mt,rr)|0,j=j+Math.imul(mt,nr)|0,M=M+Math.imul(bt,ir)|0,_=_+Math.imul(bt,sr)|0,_=_+Math.imul(St,ir)|0,j=j+Math.imul(St,sr)|0,M=M+Math.imul(gt,or)|0,_=_+Math.imul(gt,ar)|0,_=_+Math.imul(Rt,or)|0,j=j+Math.imul(Rt,ar)|0,M=M+Math.imul(me,cr)|0,_=_+Math.imul(me,ur)|0,_=_+Math.imul(Oe,cr)|0,j=j+Math.imul(Oe,ur)|0,M=M+Math.imul(ue,lr)|0,_=_+Math.imul(ue,dr)|0,_=_+Math.imul(ae,lr)|0,j=j+Math.imul(ae,dr)|0,M=M+Math.imul(X,fr)|0,_=_+Math.imul(X,hr)|0,_=_+Math.imul(ne,fr)|0,j=j+Math.imul(ne,hr)|0;var KE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(KE>>>26)|0,KE&=67108863,M=Math.imul(S,Be),_=Math.imul(S,Xt),_=_+Math.imul(q,Be)|0,j=Math.imul(q,Xt),M=M+Math.imul(kt,er)|0,_=_+Math.imul(kt,tr)|0,_=_+Math.imul(B,er)|0,j=j+Math.imul(B,tr)|0,M=M+Math.imul(vt,rr)|0,_=_+Math.imul(vt,nr)|0,_=_+Math.imul(Ot,rr)|0,j=j+Math.imul(Ot,nr)|0,M=M+Math.imul(It,ir)|0,_=_+Math.imul(It,sr)|0,_=_+Math.imul(mt,ir)|0,j=j+Math.imul(mt,sr)|0,M=M+Math.imul(bt,or)|0,_=_+Math.imul(bt,ar)|0,_=_+Math.imul(St,or)|0,j=j+Math.imul(St,ar)|0,M=M+Math.imul(gt,cr)|0,_=_+Math.imul(gt,ur)|0,_=_+Math.imul(Rt,cr)|0,j=j+Math.imul(Rt,ur)|0,M=M+Math.imul(me,lr)|0,_=_+Math.imul(me,dr)|0,_=_+Math.imul(Oe,lr)|0,j=j+Math.imul(Oe,dr)|0,M=M+Math.imul(ue,fr)|0,_=_+Math.imul(ue,hr)|0,_=_+Math.imul(ae,fr)|0,j=j+Math.imul(ae,hr)|0;var QE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(QE>>>26)|0,QE&=67108863,M=Math.imul(S,er),_=Math.imul(S,tr),_=_+Math.imul(q,er)|0,j=Math.imul(q,tr),M=M+Math.imul(kt,rr)|0,_=_+Math.imul(kt,nr)|0,_=_+Math.imul(B,rr)|0,j=j+Math.imul(B,nr)|0,M=M+Math.imul(vt,ir)|0,_=_+Math.imul(vt,sr)|0,_=_+Math.imul(Ot,ir)|0,j=j+Math.imul(Ot,sr)|0,M=M+Math.imul(It,or)|0,_=_+Math.imul(It,ar)|0,_=_+Math.imul(mt,or)|0,j=j+Math.imul(mt,ar)|0,M=M+Math.imul(bt,cr)|0,_=_+Math.imul(bt,ur)|0,_=_+Math.imul(St,cr)|0,j=j+Math.imul(St,ur)|0,M=M+Math.imul(gt,lr)|0,_=_+Math.imul(gt,dr)|0,_=_+Math.imul(Rt,lr)|0,j=j+Math.imul(Rt,dr)|0,M=M+Math.imul(me,fr)|0,_=_+Math.imul(me,hr)|0,_=_+Math.imul(Oe,fr)|0,j=j+Math.imul(Oe,hr)|0;var YE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(YE>>>26)|0,YE&=67108863,M=Math.imul(S,rr),_=Math.imul(S,nr),_=_+Math.imul(q,rr)|0,j=Math.imul(q,nr),M=M+Math.imul(kt,ir)|0,_=_+Math.imul(kt,sr)|0,_=_+Math.imul(B,ir)|0,j=j+Math.imul(B,sr)|0,M=M+Math.imul(vt,or)|0,_=_+Math.imul(vt,ar)|0,_=_+Math.imul(Ot,or)|0,j=j+Math.imul(Ot,ar)|0,M=M+Math.imul(It,cr)|0,_=_+Math.imul(It,ur)|0,_=_+Math.imul(mt,cr)|0,j=j+Math.imul(mt,ur)|0,M=M+Math.imul(bt,lr)|0,_=_+Math.imul(bt,dr)|0,_=_+Math.imul(St,lr)|0,j=j+Math.imul(St,dr)|0,M=M+Math.imul(gt,fr)|0,_=_+Math.imul(gt,hr)|0,_=_+Math.imul(Rt,fr)|0,j=j+Math.imul(Rt,hr)|0;var JE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(JE>>>26)|0,JE&=67108863,M=Math.imul(S,ir),_=Math.imul(S,sr),_=_+Math.imul(q,ir)|0,j=Math.imul(q,sr),M=M+Math.imul(kt,or)|0,_=_+Math.imul(kt,ar)|0,_=_+Math.imul(B,or)|0,j=j+Math.imul(B,ar)|0,M=M+Math.imul(vt,cr)|0,_=_+Math.imul(vt,ur)|0,_=_+Math.imul(Ot,cr)|0,j=j+Math.imul(Ot,ur)|0,M=M+Math.imul(It,lr)|0,_=_+Math.imul(It,dr)|0,_=_+Math.imul(mt,lr)|0,j=j+Math.imul(mt,dr)|0,M=M+Math.imul(bt,fr)|0,_=_+Math.imul(bt,hr)|0,_=_+Math.imul(St,fr)|0,j=j+Math.imul(St,hr)|0;var ZE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(ZE>>>26)|0,ZE&=67108863,M=Math.imul(S,or),_=Math.imul(S,ar),_=_+Math.imul(q,or)|0,j=Math.imul(q,ar),M=M+Math.imul(kt,cr)|0,_=_+Math.imul(kt,ur)|0,_=_+Math.imul(B,cr)|0,j=j+Math.imul(B,ur)|0,M=M+Math.imul(vt,lr)|0,_=_+Math.imul(vt,dr)|0,_=_+Math.imul(Ot,lr)|0,j=j+Math.imul(Ot,dr)|0,M=M+Math.imul(It,fr)|0,_=_+Math.imul(It,hr)|0,_=_+Math.imul(mt,fr)|0,j=j+Math.imul(mt,hr)|0;var XE=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(XE>>>26)|0,XE&=67108863,M=Math.imul(S,cr),_=Math.imul(S,ur),_=_+Math.imul(q,cr)|0,j=Math.imul(q,ur),M=M+Math.imul(kt,lr)|0,_=_+Math.imul(kt,dr)|0,_=_+Math.imul(B,lr)|0,j=j+Math.imul(B,dr)|0,M=M+Math.imul(vt,fr)|0,_=_+Math.imul(vt,hr)|0,_=_+Math.imul(Ot,fr)|0,j=j+Math.imul(Ot,hr)|0;var e2=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(e2>>>26)|0,e2&=67108863,M=Math.imul(S,lr),_=Math.imul(S,dr),_=_+Math.imul(q,lr)|0,j=Math.imul(q,dr),M=M+Math.imul(kt,fr)|0,_=_+Math.imul(kt,hr)|0,_=_+Math.imul(B,fr)|0,j=j+Math.imul(B,hr)|0;var t2=(L+M|0)+((_&8191)<<13)|0;L=(j+(_>>>13)|0)+(t2>>>26)|0,t2&=67108863,M=Math.imul(S,fr),_=Math.imul(S,hr),_=_+Math.imul(q,fr)|0,j=Math.imul(q,hr);var r2=(L+M|0)+((_&8191)<<13)|0;return L=(j+(_>>>13)|0)+(r2>>>26)|0,r2&=67108863,R[0]=Mc,R[1]=Bc,R[2]=Uc,R[3]=Fc,R[4]=$c,R[5]=qE,R[6]=HE,R[7]=WE,R[8]=VE,R[9]=GE,R[10]=KE,R[11]=QE,R[12]=YE,R[13]=JE,R[14]=ZE,R[15]=XE,R[16]=e2,R[17]=t2,R[18]=r2,L!==0&&(R[19]=L,A.length++),A};Math.imul||(b=y);function E($,m,v){v.negative=m.negative^$.negative,v.length=$.length+m.length;for(var A=0,T=0,I=0;I<v.length-1;I++){var R=T;T=0;for(var L=A&67108863,M=Math.min(I,m.length-1),_=Math.max(0,I-$.length+1);_<=M;_++){var j=I-_,Z=$.words[j]|0,P=m.words[_]|0,K=Z*P,ee=K&67108863;R=R+(K/67108864|0)|0,ee=ee+L|0,L=ee&67108863,R=R+(ee>>>26)|0,T+=R>>>26,R&=67108863}v.words[I]=L,A=R,R=T}return A!==0?v.words[I]=A:v.length--,v._strip()}function x($,m,v){return E($,m,v)}s.prototype.mulTo=function(m,v){var A,T=this.length+m.length;return this.length===10&&m.length===10?A=b(this,m,v):T<63?A=y(this,m,v):T<1024?A=E(this,m,v):A=x(this,m,v),A},s.prototype.mul=function(m){var v=new s(null);return v.words=new Array(this.length+m.length),this.mulTo(m,v)},s.prototype.mulf=function(m){var v=new s(null);return v.words=new Array(this.length+m.length),x(this,m,v)},s.prototype.imul=function(m){return this.clone().mulTo(m,this)},s.prototype.imuln=function(m){var v=m<0;v&&(m=-m),n(typeof m=="number"),n(m<67108864);for(var A=0,T=0;T<this.length;T++){var I=(this.words[T]|0)*m,R=(I&67108863)+(A&67108863);A>>=26,A+=I/67108864|0,A+=R>>>26,this.words[T]=R&67108863}return A!==0&&(this.words[T]=A,this.length++),this.length=m===0?1:this.length,v?this.ineg():this},s.prototype.muln=function(m){return this.clone().imuln(m)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(m){var v=w(m);if(v.length===0)return new s(1);for(var A=this,T=0;T<v.length&&v[T]===0;T++,A=A.sqr());if(++T<v.length)for(var I=A.sqr();T<v.length;T++,I=I.sqr())v[T]!==0&&(A=A.mul(I));return A},s.prototype.iushln=function(m){n(typeof m=="number"&&m>=0);var v=m%26,A=(m-v)/26,T=67108863>>>26-v<<26-v,I;if(v!==0){var R=0;for(I=0;I<this.length;I++){var L=this.words[I]&T,M=(this.words[I]|0)-L<<v;this.words[I]=M|R,R=L>>>26-v}R&&(this.words[I]=R,this.length++)}if(A!==0){for(I=this.length-1;I>=0;I--)this.words[I+A]=this.words[I];for(I=0;I<A;I++)this.words[I]=0;this.length+=A}return this._strip()},s.prototype.ishln=function(m){return n(this.negative===0),this.iushln(m)},s.prototype.iushrn=function(m,v,A){n(typeof m=="number"&&m>=0);var T;v?T=(v-v%26)/26:T=0;var I=m%26,R=Math.min((m-I)/26,this.length),L=67108863^67108863>>>I<<I,M=A;if(T-=R,T=Math.max(0,T),M){for(var _=0;_<R;_++)M.words[_]=this.words[_];M.length=R}if(R!==0)if(this.length>R)for(this.length-=R,_=0;_<this.length;_++)this.words[_]=this.words[_+R];else this.words[0]=0,this.length=1;var j=0;for(_=this.length-1;_>=0&&(j!==0||_>=T);_--){var Z=this.words[_]|0;this.words[_]=j<<26-I|Z>>>I,j=Z&L}return M&&j!==0&&(M.words[M.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(m,v,A){return n(this.negative===0),this.iushrn(m,v,A)},s.prototype.shln=function(m){return this.clone().ishln(m)},s.prototype.ushln=function(m){return this.clone().iushln(m)},s.prototype.shrn=function(m){return this.clone().ishrn(m)},s.prototype.ushrn=function(m){return this.clone().iushrn(m)},s.prototype.testn=function(m){n(typeof m=="number"&&m>=0);var v=m%26,A=(m-v)/26,T=1<<v;if(this.length<=A)return!1;var I=this.words[A];return!!(I&T)},s.prototype.imaskn=function(m){n(typeof m=="number"&&m>=0);var v=m%26,A=(m-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(v!==0&&A++,this.length=Math.min(A,this.length),v!==0){var T=67108863^67108863>>>v<<v;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(m){return this.clone().imaskn(m)},s.prototype.iaddn=function(m){return n(typeof m=="number"),n(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},s.prototype._iaddn=function(m){this.words[0]+=m;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(m){if(n(typeof m=="number"),n(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(m){return this.clone().iaddn(m)},s.prototype.subn=function(m){return this.clone().isubn(m)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(m,v,A){var T=m.length+A,I;this._expand(T);var R,L=0;for(I=0;I<m.length;I++){R=(this.words[I+A]|0)+L;var M=(m.words[I]|0)*v;R-=M&67108863,L=(R>>26)-(M/67108864|0),this.words[I+A]=R&67108863}for(;I<this.length-A;I++)R=(this.words[I+A]|0)+L,L=R>>26,this.words[I+A]=R&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,I=0;I<this.length;I++)R=-(this.words[I]|0)+L,L=R>>26,this.words[I]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(m,v){var A=this.length-m.length,T=this.clone(),I=m,R=I.words[I.length-1]|0,L=this._countBits(R);A=26-L,A!==0&&(I=I.ushln(A),T.iushln(A),R=I.words[I.length-1]|0);var M=T.length-I.length,_;if(v!=="mod"){_=new s(null),_.length=M+1,_.words=new Array(_.length);for(var j=0;j<_.length;j++)_.words[j]=0}var Z=T.clone()._ishlnsubmul(I,1,M);Z.negative===0&&(T=Z,_&&(_.words[M]=1));for(var P=M-1;P>=0;P--){var K=(T.words[I.length+P]|0)*67108864+(T.words[I.length+P-1]|0);for(K=Math.min(K/R|0,67108863),T._ishlnsubmul(I,K,P);T.negative!==0;)K--,T.negative=0,T._ishlnsubmul(I,1,P),T.isZero()||(T.negative^=1);_&&(_.words[P]=K)}return _&&_._strip(),T._strip(),v!=="div"&&A!==0&&T.iushrn(A),{div:_||null,mod:T}},s.prototype.divmod=function(m,v,A){if(n(!m.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,I,R;return this.negative!==0&&m.negative===0?(R=this.neg().divmod(m,v),v!=="mod"&&(T=R.div.neg()),v!=="div"&&(I=R.mod.neg(),A&&I.negative!==0&&I.iadd(m)),{div:T,mod:I}):this.negative===0&&m.negative!==0?(R=this.divmod(m.neg(),v),v!=="mod"&&(T=R.div.neg()),{div:T,mod:R.mod}):this.negative&m.negative?(R=this.neg().divmod(m.neg(),v),v!=="div"&&(I=R.mod.neg(),A&&I.negative!==0&&I.isub(m)),{div:R.div,mod:I}):m.length>this.length||this.cmp(m)<0?{div:new s(0),mod:this}:m.length===1?v==="div"?{div:this.divn(m.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new s(this.modrn(m.words[0]))}:this._wordDiv(m,v)},s.prototype.div=function(m){return this.divmod(m,"div",!1).div},s.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},s.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},s.prototype.divRound=function(m){var v=this.divmod(m);if(v.mod.isZero())return v.div;var A=v.div.negative!==0?v.mod.isub(m):v.mod,T=m.ushrn(1),I=m.andln(1),R=A.cmp(T);return R<0||I===1&&R===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(m){var v=m<0;v&&(m=-m),n(m<=67108863);for(var A=(1<<26)%m,T=0,I=this.length-1;I>=0;I--)T=(A*T+(this.words[I]|0))%m;return v?-T:T},s.prototype.modn=function(m){return this.modrn(m)},s.prototype.idivn=function(m){var v=m<0;v&&(m=-m),n(m<=67108863);for(var A=0,T=this.length-1;T>=0;T--){var I=(this.words[T]|0)+A*67108864;this.words[T]=I/m|0,A=I%m}return this._strip(),v?this.ineg():this},s.prototype.divn=function(m){return this.clone().idivn(m)},s.prototype.egcd=function(m){n(m.negative===0),n(!m.isZero());var v=this,A=m.clone();v.negative!==0?v=v.umod(m):v=v.clone();for(var T=new s(1),I=new s(0),R=new s(0),L=new s(1),M=0;v.isEven()&&A.isEven();)v.iushrn(1),A.iushrn(1),++M;for(var _=A.clone(),j=v.clone();!v.isZero();){for(var Z=0,P=1;!(v.words[0]&P)&&Z<26;++Z,P<<=1);if(Z>0)for(v.iushrn(Z);Z-- >0;)(T.isOdd()||I.isOdd())&&(T.iadd(_),I.isub(j)),T.iushrn(1),I.iushrn(1);for(var K=0,ee=1;!(A.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(A.iushrn(K);K-- >0;)(R.isOdd()||L.isOdd())&&(R.iadd(_),L.isub(j)),R.iushrn(1),L.iushrn(1);v.cmp(A)>=0?(v.isub(A),T.isub(R),I.isub(L)):(A.isub(v),R.isub(T),L.isub(I))}return{a:R,b:L,gcd:A.iushln(M)}},s.prototype._invmp=function(m){n(m.negative===0),n(!m.isZero());var v=this,A=m.clone();v.negative!==0?v=v.umod(m):v=v.clone();for(var T=new s(1),I=new s(0),R=A.clone();v.cmpn(1)>0&&A.cmpn(1)>0;){for(var L=0,M=1;!(v.words[0]&M)&&L<26;++L,M<<=1);if(L>0)for(v.iushrn(L);L-- >0;)T.isOdd()&&T.iadd(R),T.iushrn(1);for(var _=0,j=1;!(A.words[0]&j)&&_<26;++_,j<<=1);if(_>0)for(A.iushrn(_);_-- >0;)I.isOdd()&&I.iadd(R),I.iushrn(1);v.cmp(A)>=0?(v.isub(A),T.isub(I)):(A.isub(v),I.isub(T))}var Z;return v.cmpn(1)===0?Z=T:Z=I,Z.cmpn(0)<0&&Z.iadd(m),Z},s.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var v=this.clone(),A=m.clone();v.negative=0,A.negative=0;for(var T=0;v.isEven()&&A.isEven();T++)v.iushrn(1),A.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;A.isEven();)A.iushrn(1);var I=v.cmp(A);if(I<0){var R=v;v=A,A=R}else if(I===0||A.cmpn(1)===0)break;v.isub(A)}while(!0);return A.iushln(T)},s.prototype.invm=function(m){return this.egcd(m).a.umod(m)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(m){return this.words[0]&m},s.prototype.bincn=function(m){n(typeof m=="number");var v=m%26,A=(m-v)/26,T=1<<v;if(this.length<=A)return this._expand(A+1),this.words[A]|=T,this;for(var I=T,R=A;I!==0&&R<this.length;R++){var L=this.words[R]|0;L+=I,I=L>>>26,L&=67108863,this.words[R]=L}return I!==0&&(this.words[R]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(m){var v=m<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var A;if(this.length>1)A=1;else{v&&(m=-m),n(m<=67108863,"Number is too big");var T=this.words[0]|0;A=T===m?0:T<m?-1:1}return this.negative!==0?-A|0:A},s.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var v=this.ucmp(m);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var v=0,A=this.length-1;A>=0;A--){var T=this.words[A]|0,I=m.words[A]|0;if(T!==I){T<I?v=-1:T>I&&(v=1);break}}return v},s.prototype.gtn=function(m){return this.cmpn(m)===1},s.prototype.gt=function(m){return this.cmp(m)===1},s.prototype.gten=function(m){return this.cmpn(m)>=0},s.prototype.gte=function(m){return this.cmp(m)>=0},s.prototype.ltn=function(m){return this.cmpn(m)===-1},s.prototype.lt=function(m){return this.cmp(m)===-1},s.prototype.lten=function(m){return this.cmpn(m)<=0},s.prototype.lte=function(m){return this.cmp(m)<=0},s.prototype.eqn=function(m){return this.cmpn(m)===0},s.prototype.eq=function(m){return this.cmp(m)===0},s.red=function(m){return new H(m)},s.prototype.toRed=function(m){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(m){return this.red=m,this},s.prototype.forceRed=function(m){return n(!this.red,"Already a number in reduction context"),this._forceRed(m)},s.prototype.redAdd=function(m){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},s.prototype.redIAdd=function(m){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},s.prototype.redSub=function(m){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},s.prototype.redISub=function(m){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},s.prototype.redShl=function(m){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},s.prototype.redMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},s.prototype.redIMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(m){return n(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var N={k256:null,p224:null,p192:null,p25519:null};function O($,m){this.name=$,this.p=new s(m,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var m=new s(null);return m.words=new Array(Math.ceil(this.n/13)),m},O.prototype.ireduce=function(m){var v=m,A;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),A=v.bitLength();while(A>this.n);var T=A<this.n?-1:v.ucmp(this.p);return T===0?(v.words[0]=0,v.length=1):T>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},O.prototype.split=function(m,v){m.iushrn(this.n,0,v)},O.prototype.imulK=function(m){return m.imul(this.k)};function k(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(k,O),k.prototype.split=function(m,v){for(var A=4194303,T=Math.min(m.length,9),I=0;I<T;I++)v.words[I]=m.words[I];if(v.length=T,m.length<=9){m.words[0]=0,m.length=1;return}var R=m.words[9];for(v.words[v.length++]=R&A,I=10;I<m.length;I++){var L=m.words[I]|0;m.words[I-10]=(L&A)<<4|R>>>22,R=L}R>>>=22,m.words[I-10]=R,R===0&&m.length>10?m.length-=10:m.length-=9},k.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var v=0,A=0;A<m.length;A++){var T=m.words[A]|0;v+=T*977,m.words[A]=v&67108863,v=T*64+(v/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function U(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,O);function D(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,O);function W(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(W,O),W.prototype.imulK=function(m){for(var v=0,A=0;A<m.length;A++){var T=(m.words[A]|0)*19+v,I=T&67108863;T>>>=26,m.words[A]=I,v=T}return v!==0&&(m.words[m.length++]=v),m},s._prime=function(m){if(N[m])return N[m];var v;if(m==="k256")v=new k;else if(m==="p224")v=new U;else if(m==="p192")v=new D;else if(m==="p25519")v=new W;else throw new Error("Unknown prime "+m);return N[m]=v,v};function H($){if(typeof $=="string"){var m=s._prime($);this.m=m.p,this.prime=m}else n($.gtn(1),"modulus must be greater than 1"),this.m=$,this.prime=null}H.prototype._verify1=function(m){n(m.negative===0,"red works only with positives"),n(m.red,"red works only with red numbers")},H.prototype._verify2=function(m,v){n((m.negative|v.negative)===0,"red works only with positives"),n(m.red&&m.red===v.red,"red works only with red numbers")},H.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(l(m,m.umod(this.m)._forceRed(this)),m)},H.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},H.prototype.add=function(m,v){this._verify2(m,v);var A=m.add(v);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},H.prototype.iadd=function(m,v){this._verify2(m,v);var A=m.iadd(v);return A.cmp(this.m)>=0&&A.isub(this.m),A},H.prototype.sub=function(m,v){this._verify2(m,v);var A=m.sub(v);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},H.prototype.isub=function(m,v){this._verify2(m,v);var A=m.isub(v);return A.cmpn(0)<0&&A.iadd(this.m),A},H.prototype.shl=function(m,v){return this._verify1(m),this.imod(m.ushln(v))},H.prototype.imul=function(m,v){return this._verify2(m,v),this.imod(m.imul(v))},H.prototype.mul=function(m,v){return this._verify2(m,v),this.imod(m.mul(v))},H.prototype.isqr=function(m){return this.imul(m,m.clone())},H.prototype.sqr=function(m){return this.mul(m,m)},H.prototype.sqrt=function(m){if(m.isZero())return m.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(m,A)}for(var T=this.m.subn(1),I=0;!T.isZero()&&T.andln(1)===0;)I++,T.iushrn(1);n(!T.isZero());var R=new s(1).toRed(this),L=R.redNeg(),M=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new s(2*_*_).toRed(this);this.pow(_,M).cmp(L)!==0;)_.redIAdd(L);for(var j=this.pow(_,T),Z=this.pow(m,T.addn(1).iushrn(1)),P=this.pow(m,T),K=I;P.cmp(R)!==0;){for(var ee=P,X=0;ee.cmp(R)!==0;X++)ee=ee.redSqr();n(X<K);var ne=this.pow(j,new s(1).iushln(K-X-1));Z=Z.redMul(ne),j=ne.redSqr(),P=P.redMul(j),K=X}return Z},H.prototype.invm=function(m){var v=m._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},H.prototype.pow=function(m,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return m.clone();var A=4,T=new Array(1<<A);T[0]=new s(1).toRed(this),T[1]=m;for(var I=2;I<T.length;I++)T[I]=this.mul(T[I-1],m);var R=T[0],L=0,M=0,_=v.bitLength()%26;for(_===0&&(_=26),I=v.length-1;I>=0;I--){for(var j=v.words[I],Z=_-1;Z>=0;Z--){var P=j>>Z&1;if(R!==T[0]&&(R=this.sqr(R)),P===0&&L===0){M=0;continue}L<<=1,L|=P,M++,!(M!==A&&(I!==0||Z!==0))&&(R=this.mul(R,T[L]),M=0,L=0)}_=26}return R},H.prototype.convertTo=function(m){var v=m.umod(this.m);return v===m?v.clone():v},H.prototype.convertFrom=function(m){var v=m.clone();return v.red=null,v},s.mont=function(m){return new Q(m)};function Q($){H.call(this,$),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,H),Q.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},Q.prototype.convertFrom=function(m){var v=this.imod(m.mul(this.rinv));return v.red=null,v},Q.prototype.imul=function(m,v){if(m.isZero()||v.isZero())return m.words[0]=0,m.length=1,m;var A=m.imul(v),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(T).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},Q.prototype.mul=function(m,v){if(m.isZero()||v.isZero())return new s(0)._forceRed(this);var A=m.mul(v),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(T).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},Q.prototype.invm=function(m){var v=this.imod(m._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(t,ks)})(CS);var jEe=CS.exports;const We=Pa(jEe),zEe="logger/5.8.0";let iR=!1,sR=!1;const Iw={debug:1,default:2,info:2,warning:3,error:4,off:5};let oR=Iw.default,i6=null;function qEe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const aR=qEe();var BC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(BC||(BC={}));var uo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(uo||(uo={}));const cR="0123456789abcdef";let re=class Xr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Iw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(oR>Iw[n])&&console.log.apply(console,r)}debug(...e){this._log(Xr.levels.DEBUG,e)}info(...e){this._log(Xr.levels.INFO,e)}warn(...e){this._log(Xr.levels.WARNING,e)}makeError(e,r,n){if(sR)return this.makeError("censored error",r,{});r||(r=Xr.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const u=n[c];try{if(u instanceof Uint8Array){let l="";for(let d=0;d<u.length;d++)l+=cR[u[d]>>4],l+=cR[u[d]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(u))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case uo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case uo.CALL_EXCEPTION:case uo.INSUFFICIENT_FUNDS:case uo.MISSING_NEW:case uo.NONCE_EXPIRED:case uo.REPLACEMENT_UNDERPRICED:case uo.TRANSACTION_REPLACED:case uo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Xr.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){aR&&this.throwError("platform missing String.prototype.normalize",Xr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:aR})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Xr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Xr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Xr.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Xr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Xr.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Xr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Xr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return i6||(i6=new Xr(zEe)),i6}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Xr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),iR){if(!e)return;this.globalLogger().throwError("error censorship permanent",Xr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}sR=!!e,iR=!!r}static setLogLevel(e){const r=Iw[e.toLowerCase()];if(r==null){Xr.globalLogger().warn("invalid log level - "+e);return}oR=r}static from(e){return new Xr(e)}};re.errors=uo;re.levels=BC;const HEe="bytes/5.8.0",Pr=new re(HEe);function mL(t){return!!t.toHexString}function yh(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return yh(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function xS(t){return yt(t)&&!(t.length%2)||U0(t)}function uR(t){return typeof t=="number"&&t==t&&t%1===0}function U0(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!uR(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!uR(r)||r<0||r>=256)return!1}return!0}function Fe(t,e){if(e||(e={}),typeof t=="number"){Pr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),yh(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),mL(t)&&(t=t.toHexString()),yt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Pr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return yh(new Uint8Array(n))}return U0(t)?yh(new Uint8Array(t)):Pr.throwArgumentError("invalid arrayify value","value",t)}function ss(t){const e=t.map(i=>Fe(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),yh(n)}function u0(t){let e=Fe(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function WEe(t,e){t=Fe(t),t.length>e&&Pr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),yh(r)}function yt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const s6="0123456789abcdef";function Me(t,e){if(e||(e={}),typeof t=="number"){Pr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=s6[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),mL(t))return t.toHexString();if(yt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Pr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(U0(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=s6[(i&240)>>4]+s6[i&15]}return r}return Pr.throwArgumentError("invalid hexlify value","value",t)}function Od(t){if(typeof t!="string")t=Me(t);else if(!yt(t)||t.length%2)return null;return(t.length-2)/2}function ti(t,e,r){return typeof t!="string"?t=Me(t):(!yt(t)||t.length%2)&&Pr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ki(t){let e="0x";return t.forEach(r=>{e+=Me(r).substring(2)}),e}function xE(t){const e=yL(Me(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function yL(t){typeof t!="string"&&(t=Me(t)),yt(t)||Pr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function br(t,e){for(typeof t!="string"?t=Me(t):yt(t)||Pr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Pr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function SE(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(xS(t)){let r=Fe(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Me(r.slice(0,32)),e.s=Me(r.slice(32,64))):r.length===65?(e.r=Me(r.slice(0,32)),e.s=Me(r.slice(32,64)),e.v=r[64]):Pr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Pr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Me(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=WEe(Fe(e._vs),32);e._vs=Me(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Pr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Me(i);e.s==null?e.s=o:e.s!==o&&Pr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Pr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Pr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!yt(e.r)?Pr.throwArgumentError("signature missing or invalid r","signature",t):e.r=br(e.r,32),e.s==null||!yt(e.s)?Pr.throwArgumentError("signature missing or invalid s","signature",t):e.s=br(e.s,32);const r=Fe(e.s);r[0]>=128&&Pr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Me(r);e._vs&&(yt(e._vs)||Pr.throwArgumentError("signature invalid _vs","signature",t),e._vs=br(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Pr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const wL="bignumber/5.8.0";var Jb=We.BN;const Ka=new re(wL),o6={},lR=9007199254740991;function VEe(t){return t!=null&&(oe.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||yt(t)||typeof t=="bigint"||U0(t))}let dR=!1;class oe{constructor(e,r){e!==o6&&Ka.throwError("cannot call constructor directly; use BigNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Si(ct(this).fromTwos(e))}toTwos(e){return Si(ct(this).toTwos(e))}abs(){return this._hex[0]==="-"?oe.from(this._hex.substring(1)):this}add(e){return Si(ct(this).add(ct(e)))}sub(e){return Si(ct(this).sub(ct(e)))}div(e){return oe.from(e).isZero()&&xs("division-by-zero","div"),Si(ct(this).div(ct(e)))}mul(e){return Si(ct(this).mul(ct(e)))}mod(e){const r=ct(e);return r.isNeg()&&xs("division-by-zero","mod"),Si(ct(this).umod(r))}pow(e){const r=ct(e);return r.isNeg()&&xs("negative-power","pow"),Si(ct(this).pow(r))}and(e){const r=ct(e);return(this.isNegative()||r.isNeg())&&xs("unbound-bitwise-result","and"),Si(ct(this).and(r))}or(e){const r=ct(e);return(this.isNegative()||r.isNeg())&&xs("unbound-bitwise-result","or"),Si(ct(this).or(r))}xor(e){const r=ct(e);return(this.isNegative()||r.isNeg())&&xs("unbound-bitwise-result","xor"),Si(ct(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&xs("negative-width","mask"),Si(ct(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&xs("negative-width","shl"),Si(ct(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&xs("negative-width","shr"),Si(ct(this).shrn(e))}eq(e){return ct(this).eq(ct(e))}lt(e){return ct(this).lt(ct(e))}lte(e){return ct(this).lte(ct(e))}gt(e){return ct(this).gt(ct(e))}gte(e){return ct(this).gte(ct(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ct(this).isZero()}toNumber(){try{return ct(this).toNumber()}catch{xs("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ka.throwError("this platform does not support BigInt",re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?dR||(dR=!0,Ka.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ka.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",re.errors.UNEXPECTED_ARGUMENT,{}):Ka.throwError("BigNumber.toString does not accept parameters",re.errors.UNEXPECTED_ARGUMENT,{})),ct(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof oe)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new oe(o6,Om(e)):e.match(/^-?[0-9]+$/)?new oe(o6,Om(new Jb(e))):Ka.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&xs("underflow","BigNumber.from",e),(e>=lR||e<=-lR)&&xs("overflow","BigNumber.from",e),oe.from(String(e));const r=e;if(typeof r=="bigint")return oe.from(r.toString());if(U0(r))return oe.from(Me(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return oe.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(yt(n)||n[0]==="-"&&yt(n.substring(1))))return oe.from(n)}return Ka.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Om(t){if(typeof t!="string")return Om(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ka.throwArgumentError("invalid hex","value",t),t=Om(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Si(t){return oe.from(Om(t))}function ct(t){const e=oe.from(t).toHexString();return e[0]==="-"?new Jb("-"+e.substring(3),16):new Jb(e.substring(2),16)}function xs(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ka.throwError(t,re.errors.NUMERIC_FAULT,n)}function GEe(t){return new Jb(t,36).toString(16)}const hi=new re(wL),tg={},bL=oe.from(0),vL=oe.from(-1);function EL(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),hi.throwError(t,re.errors.NUMERIC_FAULT,i)}let rg="0";for(;rg.length<256;)rg+=rg;function SS(t){if(typeof t!="number")try{t=oe.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+rg.substring(0,t):hi.throwArgumentError("invalid decimal size","decimals",t)}function Nw(t,e){e==null&&(e=0);const r=SS(e);t=oe.from(t);const n=t.lt(bL);n&&(t=t.mul(vL));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function Ha(t,e){e==null&&(e=0);const r=SS(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&hi.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&hi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&hi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&EL("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=oe.from(s),c=oe.from(o);let u=a.mul(r).add(c);return n&&(u=u.mul(vL)),u}class wh{constructor(e,r,n,i){e!==tg&&hi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=SS(i),Object.freeze(this)}static from(e){if(e instanceof wh)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||hi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&hi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&hi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&hi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new wh(tg,r,n,i)}}class kn{constructor(e,r,n,i){e!==tg&&hi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&hi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Ha(this._value,this.format.decimals),n=Ha(e._value,e.format.decimals);return kn.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Ha(this._value,this.format.decimals),n=Ha(e._value,e.format.decimals);return kn.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Ha(this._value,this.format.decimals),n=Ha(e._value,e.format.decimals);return kn.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Ha(this._value,this.format.decimals),n=Ha(e._value,e.format.decimals);return kn.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=kn.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(fR.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=kn.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(fR.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&hi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=kn.from("1"+rg.substring(0,e),this.format),i=KEe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&hi.throwArgumentError("invalid byte width","width",e);const r=oe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return br(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return kn.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!VEe(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),kn.fromString(Nw(e,r),wh.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=wh.from(r),i=Ha(e,n.decimals);!n.signed&&i.lt(bL)&&EL("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=br(s,n.width/8));const o=Nw(i,n.decimals);return new kn(tg,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=wh.from(r);if(Fe(e).length>n.width/8)throw new Error("overflow");let i=oe.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=Nw(i,n.decimals);return new kn(tg,s,o,n)}static from(e,r){if(typeof e=="string")return kn.fromString(e,r);if(U0(e))return kn.fromBytes(e,r);try{return kn.fromValue(e,0,r)}catch(n){if(n.code!==re.errors.INVALID_ARGUMENT)throw n}return hi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const fR=kn.from(1),KEe=kn.from("0.5"),QEe="properties/5.8.0";var YEe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Zb=new re(QEe);function he(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function la(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Wr(t){return YEe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function JEe(t,e){(!t||typeof t!="object")&&Zb.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Zb.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function cn(t){const e={};for(const r in t)e[r]=t[r];return e}const ZEe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function AL(t){if(t==null||ZEe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!AL(n))return!1}return!0}return Zb.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function XEe(t){if(AL(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>kd(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&he(e,r,kd(n))}return e}return Zb.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function kd(t){return XEe(t)}class By{constructor(e){for(const r in e)this[r]=kd(e[r])}}const Uy="abi/5.8.0",ht=new re(Uy),Dd={};let hR={calldata:!0,memory:!0,storage:!0},e2e={calldata:!0,memory:!0};function L1(t,e){if(t==="bytes"||t==="string"){if(hR[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&e2e[e])return!0;return(hR[e]||e==="payable")&&ht.throwArgumentError("invalid modifier","name",e),!1}function t2e(t,e){let r=t;function n(a){ht.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Mf(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),L1(o.type,o.name)&&(o.name=""),o.type=Mf(o.type);let u=o;o=o.parent,o||n(a),delete u.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),L1(o.type,o.name)&&(o.name=""),o.type=Mf(o.type);let l=i(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Mf(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):L1(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&ht.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):L1(o.type,o.name)&&(o.name=""),s.type=Mf(s.type),s}function Tw(t,e){for(let r in e)he(t,r,e[r])}const _t=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),r2e=new RegExp(/^(.*)\[([0-9]*)\]$/);class vn{constructor(e,r){e!==Dd&&ht.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Tw(this,r);let n=this.type.match(r2e);n?Tw(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:vn.fromObject({type:n[1],components:this.components}),baseType:"array"}):Tw(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=_t.sighash),_t[e]||ht.throwArgumentError("invalid format type","format",e),e===_t.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==_t.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===_t.full?", ":",")+")"):r+=this.type,e!==_t.sighash&&(this.indexed===!0&&(r+=" indexed"),e===_t.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?vn.fromString(e,r):vn.fromObject(e)}static fromObject(e){return vn.isParamType(e)?e:new vn(Dd,{name:e.name||null,type:Mf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(vn.fromObject):null})}static fromString(e,r){function n(i){return vn.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(t2e(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function km(t,e){return i2e(t).map(r=>vn.fromString(r,e))}class dc{constructor(e,r){e!==Dd&&ht.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Tw(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return dc.isFragment(e)?e:typeof e=="string"?dc.fromString(e):dc.fromObject(e)}static fromObject(e){if(dc.isFragment(e))return e;switch(e.type){case"function":return ca.fromObject(e);case"event":return sc.fromObject(e);case"constructor":return aa.fromObject(e);case"error":return fu.fromObject(e);case"fallback":case"receive":return null}return ht.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?sc.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ca.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?aa.fromString(e.trim()):e.split(" ")[0]==="error"?fu.fromString(e.substring(5).trim()):ht.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class sc extends dc{format(e){if(e||(e=_t.sighash),_t[e]||ht.throwArgumentError("invalid format type","format",e),e===_t.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==_t.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===_t.full?", ":",")+") ",e!==_t.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?sc.fromString(e):sc.fromObject(e)}static fromObject(e){if(sc.isEventFragment(e))return e;e.type!=="event"&&ht.throwArgumentError("invalid event object","value",e);const r={name:Dm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(vn.fromObject):[],type:"event"};return new sc(Dd,r)}static fromString(e){let r=e.match(Mm);r||ht.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ht.warn("unknown modifier: "+i)}}),sc.fromObject({name:r[1].trim(),anonymous:n,inputs:km(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function _L(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&ht.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||ht.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=oe.from(r[1]),r[0]):t}function CL(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function xL(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&ht.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&ht.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&ht.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ht.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&ht.throwArgumentError("unable to determine stateMutability","value",t),e}class aa extends dc{format(e){if(e||(e=_t.sighash),_t[e]||ht.throwArgumentError("invalid format type","format",e),e===_t.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===_t.sighash&&ht.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===_t.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?aa.fromString(e):aa.fromObject(e)}static fromObject(e){if(aa.isConstructorFragment(e))return e;e.type!=="constructor"&&ht.throwArgumentError("invalid constructor object","value",e);let r=xL(e);r.constant&&ht.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(vn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?oe.from(e.gas):null};return new aa(Dd,n)}static fromString(e){let r={type:"constructor"};e=_L(e,r);let n=e.match(Mm);return(!n||n[1].trim()!=="constructor")&&ht.throwArgumentError("invalid constructor string","value",e),r.inputs=km(n[2].trim(),!1),CL(n[3].trim(),r),aa.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class ca extends aa{format(e){if(e||(e=_t.sighash),_t[e]||ht.throwArgumentError("invalid format type","format",e),e===_t.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==_t.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===_t.full?", ":",")+") ",e!==_t.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?ca.fromString(e):ca.fromObject(e)}static fromObject(e){if(ca.isFunctionFragment(e))return e;e.type!=="function"&&ht.throwArgumentError("invalid function object","value",e);let r=xL(e);const n={type:e.type,name:Dm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(vn.fromObject):[],outputs:e.outputs?e.outputs.map(vn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?oe.from(e.gas):null};return new ca(Dd,n)}static fromString(e){let r={type:"function"};e=_L(e,r);let n=e.split(" returns ");n.length>2&&ht.throwArgumentError("invalid function string","value",e);let i=n[0].match(Mm);if(i||ht.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Dm(r.name),r.inputs=km(i[2],!1),CL(i[3].trim(),r),n.length>1){let s=n[1].match(Mm);(s[1].trim()!=""||s[3].trim()!="")&&ht.throwArgumentError("unexpected tokens","value",e),r.outputs=km(s[2],!1)}else r.outputs=[];return ca.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function pR(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&ht.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class fu extends dc{format(e){if(e||(e=_t.sighash),_t[e]||ht.throwArgumentError("invalid format type","format",e),e===_t.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==_t.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===_t.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?fu.fromString(e):fu.fromObject(e)}static fromObject(e){if(fu.isErrorFragment(e))return e;e.type!=="error"&&ht.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Dm(e.name),inputs:e.inputs?e.inputs.map(vn.fromObject):[]};return pR(new fu(Dd,r))}static fromString(e){let r={type:"error"},n=e.match(Mm);return n||ht.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Dm(r.name),r.inputs=km(n[2],!1),pR(fu.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Mf(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const n2e=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Dm(t){return(!t||!t.match(n2e))&&ht.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Mm=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function i2e(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&ht.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const IS=new re(Uy);function s2e(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class kc{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){IS.throwArgumentError(e,this.localName,r)}}class UC{constructor(e){he(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return ki(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(ss(e._data))}writeBytes(e){let r=Fe(e);const n=r.length%this.wordSize;return n&&(r=ss([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Fe(oe.from(e));return r.length>this.wordSize&&IS.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=ss([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Xb{constructor(e,r,n,i){he(this,"_data",Fe(e)),he(this,"wordSize",r||32),he(this,"_coerceFunc",n),he(this,"allowLoose",i),this._offset=0}get data(){return Me(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Xb.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:IS.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Xb(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return oe.from(this.readBytes(this.wordSize))}}var SL={exports:{}};(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof kr=="object"&&kr.versions&&kr.versions.node;o?i=ks:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],f=[1,256,65536,16777216],h=[6,1536,393216,100663296],p=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],y=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],E={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var x=function(P,K,ee){return function(X){return new _(P,K,P).update(X)[ee]()}},N=function(P,K,ee){return function(X,ne){return new _(P,K,ne).update(X)[ee]()}},O=function(P,K,ee){return function(X,ne,be,ue){return m["cshake"+P].update(X,ne,be,ue)[ee]()}},k=function(P,K,ee){return function(X,ne,be,ue){return m["kmac"+P].update(X,ne,be,ue)[ee]()}},U=function(P,K,ee,X){for(var ne=0;ne<b.length;++ne){var be=b[ne];P[be]=K(ee,X,be)}return P},D=function(P,K){var ee=x(P,K,"hex");return ee.create=function(){return new _(P,K,P)},ee.update=function(X){return ee.create().update(X)},U(ee,x,P,K)},W=function(P,K){var ee=N(P,K,"hex");return ee.create=function(X){return new _(P,K,X)},ee.update=function(X,ne){return ee.create(ne).update(X)},U(ee,N,P,K)},H=function(P,K){var ee=E[P],X=O(P,K,"hex");return X.create=function(ne,be,ue){return!be&&!ue?m["shake"+P].create(ne):new _(P,K,ne).bytepad([be,ue],ee)},X.update=function(ne,be,ue,ae){return X.create(be,ue,ae).update(ne)},U(X,O,P,K)},Q=function(P,K){var ee=E[P],X=k(P,K,"hex");return X.create=function(ne,be,ue){return new j(P,K,be).bytepad(["KMAC",ue],ee).bytepad([ne],ee)},X.update=function(ne,be,ue,ae){return X.create(ne,ue,ae).update(be)},U(X,k,P,K)},$=[{name:"keccak",padding:f,bits:w,createMethod:D},{name:"sha3",padding:h,bits:w,createMethod:D},{name:"shake",padding:l,bits:y,createMethod:W},{name:"cshake",padding:d,bits:y,createMethod:H},{name:"kmac",padding:d,bits:y,createMethod:Q}],m={},v=[],A=0;A<$.length;++A)for(var T=$[A],I=T.bits,R=0;R<I.length;++R){var L=T.name+"_"+I[R];if(v.push(L),m[L]=T.createMethod(I[R],T.padding),T.name!=="sha3"){var M=T.name+I[R];v.push(M),m[M]=m[L]}}function _(P,K,ee){this.blocks=[],this.s=[],this.padding=K,this.outputBits=ee,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ee>>5,this.extraBytes=(ee&31)>>3;for(var X=0;X<50;++X)this.s[X]=0}_.prototype.update=function(P){if(this.finalized)throw new Error(r);var K,ee=typeof P;if(ee!=="string"){if(ee==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);K=!0}for(var X=this.blocks,ne=this.byteCount,be=P.length,ue=this.blockCount,ae=0,Ke=this.s,me,Oe;ae<be;){if(this.reset)for(this.reset=!1,X[0]=this.block,me=1;me<ue+1;++me)X[me]=0;if(K)for(me=this.start;ae<be&&me<ne;++ae)X[me>>2]|=P[ae]<<p[me++&3];else for(me=this.start;ae<be&&me<ne;++ae)Oe=P.charCodeAt(ae),Oe<128?X[me>>2]|=Oe<<p[me++&3]:Oe<2048?(X[me>>2]|=(192|Oe>>6)<<p[me++&3],X[me>>2]|=(128|Oe&63)<<p[me++&3]):Oe<55296||Oe>=57344?(X[me>>2]|=(224|Oe>>12)<<p[me++&3],X[me>>2]|=(128|Oe>>6&63)<<p[me++&3],X[me>>2]|=(128|Oe&63)<<p[me++&3]):(Oe=65536+((Oe&1023)<<10|P.charCodeAt(++ae)&1023),X[me>>2]|=(240|Oe>>18)<<p[me++&3],X[me>>2]|=(128|Oe>>12&63)<<p[me++&3],X[me>>2]|=(128|Oe>>6&63)<<p[me++&3],X[me>>2]|=(128|Oe&63)<<p[me++&3]);if(this.lastByteIndex=me,me>=ne){for(this.start=me-ne,this.block=X[ue],me=0;me<ue;++me)Ke[me]^=X[me];Z(Ke),this.reset=!0}else this.start=me}return this},_.prototype.encode=function(P,K){var ee=P&255,X=1,ne=[ee];for(P=P>>8,ee=P&255;ee>0;)ne.unshift(ee),P=P>>8,ee=P&255,++X;return K?ne.push(X):ne.unshift(X),this.update(ne),ne.length},_.prototype.encodeString=function(P){var K,ee=typeof P;if(ee!=="string"){if(ee==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);K=!0}var X=0,ne=P.length;if(K)X=ne;else for(var be=0;be<P.length;++be){var ue=P.charCodeAt(be);ue<128?X+=1:ue<2048?X+=2:ue<55296||ue>=57344?X+=3:(ue=65536+((ue&1023)<<10|P.charCodeAt(++be)&1023),X+=4)}return X+=this.encode(X*8),this.update(P),X},_.prototype.bytepad=function(P,K){for(var ee=this.encode(K),X=0;X<P.length;++X)ee+=this.encodeString(P[X]);var ne=K-ee%K,be=[];return be.length=ne,this.update(be),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,K=this.lastByteIndex,ee=this.blockCount,X=this.s;if(P[K>>2]|=this.padding[K&3],this.lastByteIndex===this.byteCount)for(P[0]=P[ee],K=1;K<ee+1;++K)P[K]=0;for(P[ee-1]|=2147483648,K=0;K<ee;++K)X[K]^=P[K];Z(X)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var P=this.blockCount,K=this.s,ee=this.outputBlocks,X=this.extraBytes,ne=0,be=0,ue="",ae;be<ee;){for(ne=0;ne<P&&be<ee;++ne,++be)ae=K[ne],ue+=u[ae>>4&15]+u[ae&15]+u[ae>>12&15]+u[ae>>8&15]+u[ae>>20&15]+u[ae>>16&15]+u[ae>>28&15]+u[ae>>24&15];be%P===0&&(Z(K),ne=0)}return X&&(ae=K[ne],ue+=u[ae>>4&15]+u[ae&15],X>1&&(ue+=u[ae>>12&15]+u[ae>>8&15]),X>2&&(ue+=u[ae>>20&15]+u[ae>>16&15])),ue},_.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,K=this.s,ee=this.outputBlocks,X=this.extraBytes,ne=0,be=0,ue=this.outputBits>>3,ae;X?ae=new ArrayBuffer(ee+1<<2):ae=new ArrayBuffer(ue);for(var Ke=new Uint32Array(ae);be<ee;){for(ne=0;ne<P&&be<ee;++ne,++be)Ke[be]=K[ne];be%P===0&&Z(K)}return X&&(Ke[ne]=K[ne],ae=ae.slice(0,ue)),ae},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var P=this.blockCount,K=this.s,ee=this.outputBlocks,X=this.extraBytes,ne=0,be=0,ue=[],ae,Ke;be<ee;){for(ne=0;ne<P&&be<ee;++ne,++be)ae=be<<2,Ke=K[ne],ue[ae]=Ke&255,ue[ae+1]=Ke>>8&255,ue[ae+2]=Ke>>16&255,ue[ae+3]=Ke>>24&255;be%P===0&&Z(K)}return X&&(ae=be<<2,Ke=K[ne],ue[ae]=Ke&255,X>1&&(ue[ae+1]=Ke>>8&255),X>2&&(ue[ae+2]=Ke>>16&255)),ue};function j(P,K,ee){_.call(this,P,K,ee)}j.prototype=new _,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var Z=function(P){var K,ee,X,ne,be,ue,ae,Ke,me,Oe,Gn,gt,Rt,ys,bt,St,ws,It,mt,Mr,vt,Ot,hn,kt,B,C,S,q,Y,J,te,Ve,qe,$e,Nt,Be,Xt,ll,er,tr,dl,rr,nr,fl,ir,sr,hl,or,ar,pl,cr,ur,gl,lr,dr,ml,fr,hr,Mc,Bc,Uc,Fc,$c;for(X=0;X<48;X+=2)ne=P[0]^P[10]^P[20]^P[30]^P[40],be=P[1]^P[11]^P[21]^P[31]^P[41],ue=P[2]^P[12]^P[22]^P[32]^P[42],ae=P[3]^P[13]^P[23]^P[33]^P[43],Ke=P[4]^P[14]^P[24]^P[34]^P[44],me=P[5]^P[15]^P[25]^P[35]^P[45],Oe=P[6]^P[16]^P[26]^P[36]^P[46],Gn=P[7]^P[17]^P[27]^P[37]^P[47],gt=P[8]^P[18]^P[28]^P[38]^P[48],Rt=P[9]^P[19]^P[29]^P[39]^P[49],K=gt^(ue<<1|ae>>>31),ee=Rt^(ae<<1|ue>>>31),P[0]^=K,P[1]^=ee,P[10]^=K,P[11]^=ee,P[20]^=K,P[21]^=ee,P[30]^=K,P[31]^=ee,P[40]^=K,P[41]^=ee,K=ne^(Ke<<1|me>>>31),ee=be^(me<<1|Ke>>>31),P[2]^=K,P[3]^=ee,P[12]^=K,P[13]^=ee,P[22]^=K,P[23]^=ee,P[32]^=K,P[33]^=ee,P[42]^=K,P[43]^=ee,K=ue^(Oe<<1|Gn>>>31),ee=ae^(Gn<<1|Oe>>>31),P[4]^=K,P[5]^=ee,P[14]^=K,P[15]^=ee,P[24]^=K,P[25]^=ee,P[34]^=K,P[35]^=ee,P[44]^=K,P[45]^=ee,K=Ke^(gt<<1|Rt>>>31),ee=me^(Rt<<1|gt>>>31),P[6]^=K,P[7]^=ee,P[16]^=K,P[17]^=ee,P[26]^=K,P[27]^=ee,P[36]^=K,P[37]^=ee,P[46]^=K,P[47]^=ee,K=Oe^(ne<<1|be>>>31),ee=Gn^(be<<1|ne>>>31),P[8]^=K,P[9]^=ee,P[18]^=K,P[19]^=ee,P[28]^=K,P[29]^=ee,P[38]^=K,P[39]^=ee,P[48]^=K,P[49]^=ee,ys=P[0],bt=P[1],sr=P[11]<<4|P[10]>>>28,hl=P[10]<<4|P[11]>>>28,q=P[20]<<3|P[21]>>>29,Y=P[21]<<3|P[20]>>>29,Bc=P[31]<<9|P[30]>>>23,Uc=P[30]<<9|P[31]>>>23,rr=P[40]<<18|P[41]>>>14,nr=P[41]<<18|P[40]>>>14,$e=P[2]<<1|P[3]>>>31,Nt=P[3]<<1|P[2]>>>31,St=P[13]<<12|P[12]>>>20,ws=P[12]<<12|P[13]>>>20,or=P[22]<<10|P[23]>>>22,ar=P[23]<<10|P[22]>>>22,J=P[33]<<13|P[32]>>>19,te=P[32]<<13|P[33]>>>19,Fc=P[42]<<2|P[43]>>>30,$c=P[43]<<2|P[42]>>>30,lr=P[5]<<30|P[4]>>>2,dr=P[4]<<30|P[5]>>>2,Be=P[14]<<6|P[15]>>>26,Xt=P[15]<<6|P[14]>>>26,It=P[25]<<11|P[24]>>>21,mt=P[24]<<11|P[25]>>>21,pl=P[34]<<15|P[35]>>>17,cr=P[35]<<15|P[34]>>>17,Ve=P[45]<<29|P[44]>>>3,qe=P[44]<<29|P[45]>>>3,kt=P[6]<<28|P[7]>>>4,B=P[7]<<28|P[6]>>>4,ml=P[17]<<23|P[16]>>>9,fr=P[16]<<23|P[17]>>>9,ll=P[26]<<25|P[27]>>>7,er=P[27]<<25|P[26]>>>7,Mr=P[36]<<21|P[37]>>>11,vt=P[37]<<21|P[36]>>>11,ur=P[47]<<24|P[46]>>>8,gl=P[46]<<24|P[47]>>>8,fl=P[8]<<27|P[9]>>>5,ir=P[9]<<27|P[8]>>>5,C=P[18]<<20|P[19]>>>12,S=P[19]<<20|P[18]>>>12,hr=P[29]<<7|P[28]>>>25,Mc=P[28]<<7|P[29]>>>25,tr=P[38]<<8|P[39]>>>24,dl=P[39]<<8|P[38]>>>24,Ot=P[48]<<14|P[49]>>>18,hn=P[49]<<14|P[48]>>>18,P[0]=ys^~St&It,P[1]=bt^~ws&mt,P[10]=kt^~C&q,P[11]=B^~S&Y,P[20]=$e^~Be&ll,P[21]=Nt^~Xt&er,P[30]=fl^~sr&or,P[31]=ir^~hl&ar,P[40]=lr^~ml&hr,P[41]=dr^~fr&Mc,P[2]=St^~It&Mr,P[3]=ws^~mt&vt,P[12]=C^~q&J,P[13]=S^~Y&te,P[22]=Be^~ll&tr,P[23]=Xt^~er&dl,P[32]=sr^~or&pl,P[33]=hl^~ar&cr,P[42]=ml^~hr&Bc,P[43]=fr^~Mc&Uc,P[4]=It^~Mr&Ot,P[5]=mt^~vt&hn,P[14]=q^~J&Ve,P[15]=Y^~te&qe,P[24]=ll^~tr&rr,P[25]=er^~dl&nr,P[34]=or^~pl&ur,P[35]=ar^~cr&gl,P[44]=hr^~Bc&Fc,P[45]=Mc^~Uc&$c,P[6]=Mr^~Ot&ys,P[7]=vt^~hn&bt,P[16]=J^~Ve&kt,P[17]=te^~qe&B,P[26]=tr^~rr&$e,P[27]=dl^~nr&Nt,P[36]=pl^~ur&fl,P[37]=cr^~gl&ir,P[46]=Bc^~Fc&lr,P[47]=Uc^~$c&dr,P[8]=Ot^~ys&St,P[9]=hn^~bt&ws,P[18]=Ve^~kt&C,P[19]=qe^~B&S,P[28]=rr^~$e&Be,P[29]=nr^~Nt&Xt,P[38]=ur^~fl&sr,P[39]=gl^~ir&hl,P[48]=Fc^~lr&ml,P[49]=$c^~dr&fr,P[0]^=g[X],P[1]^=g[X+1]};if(a)t.exports=m;else for(A=0;A<v.length;++A)i[v[A]]=m[v[A]]})()})(SL);var o2e=SL.exports;const a2e=Pa(o2e);function on(t){return"0x"+a2e.keccak_256(Fe(t))}const c2e="rlp/5.8.0",Zo=new re(c2e);function gR(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function mR(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function IL(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(IL(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=gR(n.length);return i.unshift(247+i.length),i.concat(n)}xS(t)||Zo.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Fe(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=gR(e.length);return r.unshift(183+r.length),r.concat(e)}function IE(t){return Me(IL(t))}function yR(t,e,r,n){const i=[];for(;r<e+1+n;){const s=NL(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Zo.throwError("child data too short",re.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function NL(t,e){if(t.length===0&&Zo.throwError("data too short",re.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Zo.throwError("data short segment too short",re.errors.BUFFER_OVERRUN,{});const n=mR(t,e+1,r);return e+1+r+n>t.length&&Zo.throwError("data long segment too short",re.errors.BUFFER_OVERRUN,{}),yR(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Zo.throwError("data array too short",re.errors.BUFFER_OVERRUN,{}),yR(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Zo.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const n=mR(t,e+1,r);e+1+r+n>t.length&&Zo.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const i=Me(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Zo.throwError("data too short",re.errors.BUFFER_OVERRUN,{});const n=Me(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Me(t[e])}}function NS(t){const e=Fe(t),r=NL(e,0);return r.consumed!==e.length&&Zo.throwArgumentError("invalid rlp data","data",t),r.result}const u2e="address/5.8.0",Jf=new re(u2e);function wR(t){yt(t,20)||Jf.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Fe(on(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const l2e=9007199254740991;function d2e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const TS={};for(let t=0;t<10;t++)TS[String(t)]=String(t);for(let t=0;t<26;t++)TS[String.fromCharCode(65+t)]=String(10+t);const bR=Math.floor(d2e(l2e));function f2e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>TS[n]).join("");for(;e.length>=bR;){let n=e.substring(0,bR);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function zn(t){let e=null;if(typeof t!="string"&&Jf.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=wR(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Jf.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==f2e(t)&&Jf.throwArgumentError("bad icap checksum","address",t),e=GEe(t.substring(4));e.length<40;)e="0"+e;e=wR("0x"+e)}else Jf.throwArgumentError("invalid address","address",t);return e}function TL(t){let e=null;try{e=zn(t.from)}catch{Jf.throwArgumentError("missing from address","transaction",t)}const r=u0(Fe(oe.from(t.nonce).toHexString()));return zn(ti(on(IE([e,r])),12))}class h2e extends kc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=zn(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return zn(br(e.readValue().toHexString(),20))}}class p2e extends kc{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Zf=new re(Uy);function PL(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{const l=u.localName;return l||Zf.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),c[l]&&Zf.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),c[l]=!0,r[l]})}else Zf.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Zf.throwArgumentError("types/value length mismatch","tuple",r);let i=new UC(t.wordSize),s=new UC(t.wordSize),o=[];e.forEach((c,u)=>{let l=n[u];if(c.dynamic){let d=s.length;c.encode(s,l);let f=i.writeUpdatableValue();o.push(h=>{f(h+d)})}else c.encode(i,l)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function RL(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(u){if(u.code===re.errors.BUFFER_OVERRUN)throw u;o=u,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===re.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class g2e extends kc{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Zf.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return PL(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Zf.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new p2e(this.coder));return e.coerce(this.name,RL(e,n))}}class m2e extends kc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class OL extends kc{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Fe(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class y2e extends OL{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Me(super.decode(e)))}}class w2e extends kc{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Fe(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Me(e.readBytes(this.size)))}}class b2e extends kc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const v2e="0x0000000000000000000000000000000000000000",E2e=oe.from(-1),kL=oe.from(0),A2e=oe.from(1),_2e=oe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),C2e="0x0000000000000000000000000000000000000000000000000000000000000000";class x2e extends kc{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=oe.from(r),i=_2e.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(A2e).mul(E2e)))&&this._throwError("value out-of-bounds",r)}else(n.lt(kL)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const S2e="strings/5.8.0",DL=new re(S2e);var Bm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Bm||(Bm={}));var Xi;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Xi||(Xi={}));function I2e(t,e,r,n,i){return DL.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function ML(t,e,r,n,i){if(t===Xi.BAD_PREFIX||t===Xi.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Xi.OVERRUN?r.length-e-1:0}function N2e(t,e,r,n,i){return t===Xi.OVERLONG?(n.push(i),0):(n.push(65533),ML(t,e,r))}const T2e=Object.freeze({error:I2e,ignore:ML,replace:N2e});function BL(t,e){e==null&&(e=T2e.error),t=Fe(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Xi.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Xi.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Xi.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let u=t[n];if((u&192)!=128){n+=e(Xi.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(Xi.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Xi.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Xi.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Sa(t,e=Bm.current){e!=Bm.current&&(DL.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Fe(r)}function P2e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Fy(t,e){return P2e(BL(t,e))}function R2e(t,e=Bm.current){return BL(Sa(t,e))}class O2e extends OL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Sa(r))}decode(e){return Fy(super.decode(e))}}class j1 extends kc{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return PL(e,this.coders,r)}decode(e){return e.coerce(this.name,RL(e,this.coders))}}const z1=new re(Uy),k2e=new RegExp(/^bytes([0-9]*)$/),D2e=new RegExp(/^(u?int)([0-9]*)$/);class M2e{constructor(e){he(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new h2e(e.name);case"bool":return new m2e(e.name);case"string":return new O2e(e.name);case"bytes":return new y2e(e.name);case"array":return new g2e(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new j1((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new b2e(e.name)}let r=e.type.match(D2e);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&z1.throwArgumentError("invalid "+r[1]+" bit length","param",e),new x2e(n/8,r[1]==="int",e.name)}if(r=e.type.match(k2e),r){let n=parseInt(r[1]);return(n===0||n>32)&&z1.throwArgumentError("invalid bytes length","param",e),new w2e(n,e.name)}return z1.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Xb(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new UC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(vn.from(i)));return new j1(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&z1.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(vn.from(o))),i=new j1(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(vn.from(o)));return new j1(i,"_").decode(this._getReader(Fe(r),n))}}const B2e=new M2e;function Xf(t){return on(Sa(t))}const UL="hash/5.8.0";function FL(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Fe(e)}function $L(t){t=Fe(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function LL(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function U2e(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function F2e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let N=1;N<n;N++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const d=31,f=Math.pow(2,d),h=f>>>1,p=h>>1,g=f-1;let w=0;for(let N=0;N<d;N++)w=w<<1|l();let y=[],b=0,E=f;for(;;){let N=Math.floor(((w-b+1)*i-1)/E),O=0,k=n;for(;k-O>1;){let W=O+k>>>1;N<s[W]?k=W:O=W}if(O==0)break;y.push(O);let U=b+Math.floor(E*s[O]/i),D=b+Math.floor(E*s[O+1]/i)-1;for(;!((U^D)&h);)w=w<<1&g|l(),U=U<<1&g,D=D<<1&g|1;for(;U&~D&p;)w=w&h|w<<1&g>>>1|l(),U=U<<1^h,D=(D^h)<<1|h|1;b=U,E=1+D-U}let x=n-4;return y.map(N=>{switch(N-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return N-1}})}function $2e(t){let e=0;return()=>t[e++]}function L2e(t){return $2e(F2e(t))}function j2e(t){return t&1?~t>>1:t>>1}function z2e(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function vR(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function q2e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=j2e(e());return r}function ev(t,e){let r=vR(t(),t),n=t(),i=vR(n,t),s=z2e(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function H2e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(V2e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(G2e(r,t))}return U2e(LL(e))}function W2e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function jL(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)q2e(t,r).forEach((s,o)=>n[o].push(s));return n}function V2e(t,e){let r=1+e(),n=e(),i=W2e(e),s=jL(i.length,1+t,e);return LL(s.map((o,a)=>{const c=o[0],u=o.slice(1);return Array(i[a]).fill(void 0).map((l,d)=>{let f=d*n;return[c+d*r,u.map(h=>h+f)]})}))}function G2e(t,e){let r=1+e();return jL(r,1+t,e).map(i=>[i[0],i.slice(1)])}function K2e(t){let e=ev(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=ev(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,l)=>l.set.size-u.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function Q2e(){return L2e(FL("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const NE=Q2e(),Y2e=new Set(ev(NE)),J2e=new Set(ev(NE)),Z2e=H2e(NE),X2e=K2e(NE),ER=45,AR=95;function zL(t){return R2e(t)}function eAe(t){return t.filter(e=>e!=65039)}function qL(t){for(let e of t.split(".")){let r=zL(e);try{for(let n=r.lastIndexOf(AR)-1;n>=0;n--)if(r[n]!==AR)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===ER&&r[3]===ER)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function tAe(t){return qL(rAe(t,eAe))}function rAe(t,e){let r=zL(t).reverse(),n=[];for(;r.length;){let i=iAe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(Y2e.has(s)){n.push(s);continue}if(J2e.has(s))continue;let o=Z2e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return qL(nAe(String.fromCodePoint(...n)))}function nAe(t){return t.normalize("NFC")}function iAe(t,e){var r;let n=X2e,i,s,o=[],a=t.length;for(e&&(e.length=0);a;){let c=t[--a];if(n=(r=n.branches.find(u=>u.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const sAe=new re(UL),HL=new Uint8Array(32);HL.fill(0);function _R(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function WL(t){const e=Sa(tAe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(_R(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(_R(e.slice(n))),r}function Pw(t){typeof t!="string"&&sAe.throwArgumentError("invalid ENS name; not a string","name",t);let e=HL;const r=WL(t);for(;r.length;)e=on(ss([e,on(r.pop())]));return Me(e)}function oAe(t){return Me(ss(WL(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var aAe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Ar=new re(UL),VL=new Uint8Array(32);VL.fill(0);const cAe=oe.from(-1),GL=oe.from(0),KL=oe.from(1),uAe=oe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function lAe(t){const e=Fe(t),r=e.length%32;return r?ki([e,VL.slice(r)]):Me(e)}const dAe=br(KL.toHexString(),32),fAe=br(GL.toHexString(),32),CR={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},a6=["name","version","chainId","verifyingContract","salt"];function xR(t){return function(e){return typeof e!="string"&&Ar.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const hAe={name:xR("name"),version:xR("version"),chainId:function(t){try{return oe.from(t).toString()}catch{}return Ar.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return zn(t).toLowerCase()}catch{}return Ar.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Fe(t);if(e.length!==32)throw new Error("bad length");return Me(e)}catch{}return Ar.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function c6(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Ar.throwArgumentError("invalid numeric width","type",t);const i=uAe.mask(r?n-1:n),s=r?i.add(KL).mul(cAe):GL;return function(o){const a=oe.from(o);return(a.lt(s)||a.gt(i))&&Ar.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),br(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Ar.throwArgumentError("invalid bytes width","type",t),function(n){return Fe(n).length!==r&&Ar.throwArgumentError(`invalid length for ${t}`,"value",n),lAe(n)}}}switch(t){case"address":return function(e){return br(zn(e),32)};case"bool":return function(e){return e?dAe:fAe};case"bytes":return function(e){return on(e)};case"string":return function(e){return Xf(e)}}return null}function SR(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Qi{constructor(e){he(this,"types",Object.freeze(kd(e))),he(this,"_encoderCache",{}),he(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(u=>{c[u.name]&&Ar.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),c[u.name]=!0;const l=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&Ar.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!c6(l)&&(n[l]||Ar.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(a),r[a][l]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Ar.throwArgumentError("missing primary type","types",e):s.length>1&&Ar.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),he(this,"primaryType",s[0]);function o(a,c){c[a]&&Ar.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(u=>{n[u]&&(o(u,c),Object.keys(c).forEach(l=>{i[l][u]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=SR(a,e[a])+c.map(u=>SR(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=c6(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Ar.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(on)),on(ki(c))}}const n=this.types[e];if(n){const i=Xf(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const u=this.getEncoder(c)(s[a]);return this._types[c]?on(u):u});return o.unshift(i),ki(o)}}return Ar.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Ar.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return on(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(c6(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Ar.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Ar.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Qi(e)}static getPrimaryType(e){return Qi.from(e).primaryType}static hashStruct(e,r,n){return Qi.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=CR[n];i||Ar.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>a6.indexOf(n.name)-a6.indexOf(i.name)),Qi.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return ki(["0x1901",Qi.hashDomain(e),Qi.from(r).hash(n)])}static hash(e,r,n){return on(Qi.encode(e,r,n))}static resolveNames(e,r,n,i){return aAe(this,void 0,void 0,function*(){e=cn(e);const s={};e.verifyingContract&&!yt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Qi.from(r);o.visit(n,(a,c)=>(a==="address"&&!yt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Qi.hashDomain(e);const i={},s=[];a6.forEach(c=>{const u=e[c];u!=null&&(i[c]=hAe[c](u),s.push({name:c,type:CR[c]}))});const o=Qi.from(r),a=cn(r);return a.EIP712Domain?Ar.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return Me(Fe(u));if(c.match(/^u?int/))return oe.from(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&Ar.throwArgumentError("invalid string","value",u),u}return Ar.throwArgumentError("unsupported type","type",c)})}}}const Er=new re(Uy);class pAe extends By{}class gAe extends By{}class mAe extends By{}class FC extends By{static isIndexed(e){return!!(e&&e._isIndexed)}}const yAe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function IR(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class NR{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,he(this,"fragments",r.map(n=>dc.from(n)).filter(n=>n!=null)),he(this,"_abiCoder",la(new.target,"getAbiCoder")()),he(this,"functions",{}),he(this,"errors",{}),he(this,"events",{}),he(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Er.warn("duplicate definition - constructor");return}he(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Er.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||he(this,"deploy",aa.from({payable:!1,type:"constructor"})),he(this,"_isInterface",!0)}format(e){e||(e=_t.full),e===_t.sighash&&Er.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===_t.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return B2e}static getAddress(e){return zn(e)}static getSighash(e){return ti(Xf(e.format()),0,4)}static getEventTopic(e){return Xf(e.format())}getFunction(e){if(yt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Er.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Er.throwArgumentError("no matching function","name",n):i.length>1&&Er.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[ca.fromString(e).format()];return r||Er.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(yt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Er.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Er.throwArgumentError("no matching event","name",n):i.length>1&&Er.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[sc.fromString(e).format()];return r||Er.throwArgumentError("no matching event","signature",e),r}getError(e){if(yt(e)){const n=la(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Er.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Er.throwArgumentError("no matching error","name",n):i.length>1&&Er.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[ca.fromString(e).format()];return r||Er.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return la(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),la(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Fe(r);return Me(n.slice(0,4))!==this.getSighash(e)&&Er.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Me(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Me(ss([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Fe(r);return Me(n.slice(0,4))!==this.getSighash(e)&&Er.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Me(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Me(ss([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Fe(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const u=Me(n.slice(0,4)),l=yAe[u];if(l)o=this._abiCoder.decode(l.inputs,n.slice(4)),a=l.name,c=l.signature,l.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const d=this.getError(u);o=this._abiCoder.decode(d.inputs,n.slice(4)),a=d.name,c=d.format()}catch{}break}}return Er.throwError("call revert exception"+s,re.errors.CALL_EXCEPTION,{method:e.format(),data:Me(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Me(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Er.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Xf(o):s.type==="bytes"?on(Me(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=oe.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),br(Me(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Er.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Er.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Er.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(Xf(c));else if(o.type==="bytes")n.push(on(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let f=this.getEventTopic(e);(!yt(n[0],32)||n[0].toLowerCase()!==f)&&Er.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:f,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((f,h)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(i.push(vn.fromObject({type:"bytes32",name:f.name})),o.push(!0)):(i.push(f),o.push(!1)):(s.push(f),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,ss(n)):null,c=this._abiCoder.decode(s,r,!0),u=[],l=0,d=0;e.inputs.forEach((f,h)=>{if(f.indexed)if(a==null)u[h]=new FC({_isIndexed:!0,hash:null});else if(o[h])u[h]=new FC({_isIndexed:!0,hash:a[d++]});else try{u[h]=a[d++]}catch(p){u[h]=p}else try{u[h]=c[l++]}catch(p){u[h]=p}if(f.name&&u[f.name]==null){const p=u[h];p instanceof Error?Object.defineProperty(u,f.name,{enumerable:!0,get:()=>{throw IR(`property ${JSON.stringify(f.name)}`,p)}}):u[f.name]=p}});for(let f=0;f<u.length;f++){const h=u[f];h instanceof Error&&Object.defineProperty(u,f,{enumerable:!0,get:()=>{throw IR(`index ${f}`,h)}})}return Object.freeze(u)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new gAe({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:oe.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new pAe({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Me(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new mAe({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const wAe="abstract-provider/5.8.0";var bAe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const vAe=new re(wAe);class EAe extends By{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class TE{constructor(){vAe.checkAbstract(new.target,TE),he(this,"_isProvider",!0)}getFeeData(){return bAe(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Wr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=oe.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const AAe="abstract-signer/5.8.0";var no=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Is=new re(AAe),_Ae=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],CAe=[re.errors.INSUFFICIENT_FUNDS,re.errors.NONCE_EXPIRED,re.errors.REPLACEMENT_UNDERPRICED];class $y{constructor(){Is.checkAbstract(new.target,$y),he(this,"_isSigner",!0)}getBalance(e){return no(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return no(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return no(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Wr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return no(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Wr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return no(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return no(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return no(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return no(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return no(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)_Ae.indexOf(n)===-1&&Is.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=cn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Is.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return no(this,void 0,void 0,function*(){const r=yield Wr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>no(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Is.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Is.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Is.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Is.throwError("network does not support EIP-1559",re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Is.throwError("failed to get consistent fee data",re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(CAe.indexOf(i.code)>=0)throw i;return Is.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Is.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Wr(r)})}_checkProvider(e){this.provider||Is.throwError("missing provider",re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class PS extends $y{constructor(e,r){super(),he(this,"address",e),he(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Is.throwError(e,re.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new PS(this.address,e)}}var QL={},ut={},Ly=YL;function YL(t,e){if(!t)throw new Error(e||"Assertion failed")}YL.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var $C={exports:{}};typeof Object.create=="function"?$C.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$C.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var xAe=$C.exports,SAe=Ly,IAe=xAe;ut.inherits=IAe;function NAe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function TAe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):NAe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}ut.toArray=TAe;function PAe(t){for(var e="",r=0;r<t.length;r++)e+=ZL(t[r].toString(16));return e}ut.toHex=PAe;function JL(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ut.htonl=JL;function RAe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=JL(i)),r+=XL(i.toString(16))}return r}ut.toHex32=RAe;function ZL(t){return t.length===1?"0"+t:t}ut.zero2=ZL;function XL(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ut.zero8=XL;function OAe(t,e,r,n){var i=r-e;SAe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}ut.join32=OAe;function kAe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}ut.split32=kAe;function DAe(t,e){return t>>>e|t<<32-e}ut.rotr32=DAe;function MAe(t,e){return t<<e|t>>>32-e}ut.rotl32=MAe;function BAe(t,e){return t+e>>>0}ut.sum32=BAe;function UAe(t,e,r){return t+e+r>>>0}ut.sum32_3=UAe;function FAe(t,e,r,n){return t+e+r+n>>>0}ut.sum32_4=FAe;function $Ae(t,e,r,n,i){return t+e+r+n+i>>>0}ut.sum32_5=$Ae;function LAe(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}ut.sum64=LAe;function jAe(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}ut.sum64_hi=jAe;function zAe(t,e,r,n){var i=e+n;return i>>>0}ut.sum64_lo=zAe;function qAe(t,e,r,n,i,s,o,a){var c=0,u=e;u=u+n>>>0,c+=u<e?1:0,u=u+s>>>0,c+=u<s?1:0,u=u+a>>>0,c+=u<a?1:0;var l=t+r+i+o+c;return l>>>0}ut.sum64_4_hi=qAe;function HAe(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}ut.sum64_4_lo=HAe;function WAe(t,e,r,n,i,s,o,a,c,u){var l=0,d=e;d=d+n>>>0,l+=d<e?1:0,d=d+s>>>0,l+=d<s?1:0,d=d+a>>>0,l+=d<a?1:0,d=d+u>>>0,l+=d<u?1:0;var f=t+r+i+o+c+l;return f>>>0}ut.sum64_5_hi=WAe;function VAe(t,e,r,n,i,s,o,a,c,u){var l=e+n+s+a+u;return l>>>0}ut.sum64_5_lo=VAe;function GAe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}ut.rotr64_hi=GAe;function KAe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ut.rotr64_lo=KAe;function QAe(t,e,r){return t>>>r}ut.shr64_hi=QAe;function YAe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ut.shr64_lo=YAe;var F0={},TR=ut,JAe=Ly;function PE(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}F0.BlockHash=PE;PE.prototype.update=function(e,r){if(e=TR.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=TR.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};PE.prototype.digest=function(e){return this.update(this._pad()),JAe(this.pending===null),this._digest(e)};PE.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var $0={},Ra={},ZAe=ut,ya=ZAe.rotr32;function XAe(t,e,r,n){if(t===0)return ej(e,r,n);if(t===1||t===3)return rj(e,r,n);if(t===2)return tj(e,r,n)}Ra.ft_1=XAe;function ej(t,e,r){return t&e^~t&r}Ra.ch32=ej;function tj(t,e,r){return t&e^t&r^e&r}Ra.maj32=tj;function rj(t,e,r){return t^e^r}Ra.p32=rj;function e6e(t){return ya(t,2)^ya(t,13)^ya(t,22)}Ra.s0_256=e6e;function t6e(t){return ya(t,6)^ya(t,11)^ya(t,25)}Ra.s1_256=t6e;function r6e(t){return ya(t,7)^ya(t,18)^t>>>3}Ra.g0_256=r6e;function n6e(t){return ya(t,17)^ya(t,19)^t>>>10}Ra.g1_256=n6e;var l0=ut,i6e=F0,s6e=Ra,u6=l0.rotl32,wp=l0.sum32,o6e=l0.sum32_5,a6e=s6e.ft_1,nj=i6e.BlockHash,c6e=[1518500249,1859775393,2400959708,3395469782];function Ia(){if(!(this instanceof Ia))return new Ia;nj.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}l0.inherits(Ia,nj);var u6e=Ia;Ia.blockSize=512;Ia.outSize=160;Ia.hmacStrength=80;Ia.padLength=64;Ia.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=u6(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),d=o6e(u6(s,5),a6e(l,o,a,c),u,n[i],c6e[l]);u=c,c=a,a=u6(o,30),o=s,s=d}this.h[0]=wp(this.h[0],s),this.h[1]=wp(this.h[1],o),this.h[2]=wp(this.h[2],a),this.h[3]=wp(this.h[3],c),this.h[4]=wp(this.h[4],u)};Ia.prototype._digest=function(e){return e==="hex"?l0.toHex32(this.h,"big"):l0.split32(this.h,"big")};var d0=ut,l6e=F0,L0=Ra,d6e=Ly,io=d0.sum32,f6e=d0.sum32_4,h6e=d0.sum32_5,p6e=L0.ch32,g6e=L0.maj32,m6e=L0.s0_256,y6e=L0.s1_256,w6e=L0.g0_256,b6e=L0.g1_256,ij=l6e.BlockHash,v6e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Na(){if(!(this instanceof Na))return new Na;ij.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v6e,this.W=new Array(64)}d0.inherits(Na,ij);var sj=Na;Na.blockSize=512;Na.outSize=256;Na.hmacStrength=192;Na.padLength=64;Na.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=f6e(b6e(n[i-2]),n[i-7],w6e(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],f=this.h[7];for(d6e(this.k.length===n.length),i=0;i<n.length;i++){var h=h6e(f,y6e(u),p6e(u,l,d),this.k[i],n[i]),p=io(m6e(s),g6e(s,o,a));f=d,d=l,l=u,u=io(c,h),c=a,a=o,o=s,s=io(h,p)}this.h[0]=io(this.h[0],s),this.h[1]=io(this.h[1],o),this.h[2]=io(this.h[2],a),this.h[3]=io(this.h[3],c),this.h[4]=io(this.h[4],u),this.h[5]=io(this.h[5],l),this.h[6]=io(this.h[6],d),this.h[7]=io(this.h[7],f)};Na.prototype._digest=function(e){return e==="hex"?d0.toHex32(this.h,"big"):d0.split32(this.h,"big")};var LC=ut,oj=sj;function Ic(){if(!(this instanceof Ic))return new Ic;oj.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}LC.inherits(Ic,oj);var E6e=Ic;Ic.blockSize=512;Ic.outSize=224;Ic.hmacStrength=192;Ic.padLength=64;Ic.prototype._digest=function(e){return e==="hex"?LC.toHex32(this.h.slice(0,7),"big"):LC.split32(this.h.slice(0,7),"big")};var Li=ut,A6e=F0,_6e=Ly,wa=Li.rotr64_hi,ba=Li.rotr64_lo,aj=Li.shr64_hi,cj=Li.shr64_lo,Yc=Li.sum64,l6=Li.sum64_hi,d6=Li.sum64_lo,C6e=Li.sum64_4_hi,x6e=Li.sum64_4_lo,S6e=Li.sum64_5_hi,I6e=Li.sum64_5_lo,uj=A6e.BlockHash,N6e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Mo(){if(!(this instanceof Mo))return new Mo;uj.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N6e,this.W=new Array(160)}Li.inherits(Mo,uj);var lj=Mo;Mo.blockSize=1024;Mo.outSize=512;Mo.hmacStrength=192;Mo.padLength=128;Mo.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=$6e(n[i-4],n[i-3]),o=L6e(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],u=U6e(n[i-30],n[i-29]),l=F6e(n[i-30],n[i-29]),d=n[i-32],f=n[i-31];n[i]=C6e(s,o,a,c,u,l,d,f),n[i+1]=x6e(s,o,a,c,u,l,d,f)}};Mo.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],d=this.h[7],f=this.h[8],h=this.h[9],p=this.h[10],g=this.h[11],w=this.h[12],y=this.h[13],b=this.h[14],E=this.h[15];_6e(this.k.length===n.length);for(var x=0;x<n.length;x+=2){var N=b,O=E,k=M6e(f,h),U=B6e(f,h),D=T6e(f,h,p,g,w),W=P6e(f,h,p,g,w,y),H=this.k[x],Q=this.k[x+1],$=n[x],m=n[x+1],v=S6e(N,O,k,U,D,W,H,Q,$,m),A=I6e(N,O,k,U,D,W,H,Q,$,m);N=k6e(i,s),O=D6e(i,s),k=R6e(i,s,o,a,c),U=O6e(i,s,o,a,c,u);var T=l6(N,O,k,U),I=d6(N,O,k,U);b=w,E=y,w=p,y=g,p=f,g=h,f=l6(l,d,v,A),h=d6(d,d,v,A),l=c,d=u,c=o,u=a,o=i,a=s,i=l6(v,A,T,I),s=d6(v,A,T,I)}Yc(this.h,0,i,s),Yc(this.h,2,o,a),Yc(this.h,4,c,u),Yc(this.h,6,l,d),Yc(this.h,8,f,h),Yc(this.h,10,p,g),Yc(this.h,12,w,y),Yc(this.h,14,b,E)};Mo.prototype._digest=function(e){return e==="hex"?Li.toHex32(this.h,"big"):Li.split32(this.h,"big")};function T6e(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function P6e(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function R6e(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function O6e(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function k6e(t,e){var r=wa(t,e,28),n=wa(e,t,2),i=wa(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function D6e(t,e){var r=ba(t,e,28),n=ba(e,t,2),i=ba(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function M6e(t,e){var r=wa(t,e,14),n=wa(t,e,18),i=wa(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function B6e(t,e){var r=ba(t,e,14),n=ba(t,e,18),i=ba(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function U6e(t,e){var r=wa(t,e,1),n=wa(t,e,8),i=aj(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function F6e(t,e){var r=ba(t,e,1),n=ba(t,e,8),i=cj(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function $6e(t,e){var r=wa(t,e,19),n=wa(e,t,29),i=aj(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function L6e(t,e){var r=ba(t,e,19),n=ba(e,t,29),i=cj(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var jC=ut,dj=lj;function Nc(){if(!(this instanceof Nc))return new Nc;dj.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}jC.inherits(Nc,dj);var j6e=Nc;Nc.blockSize=1024;Nc.outSize=384;Nc.hmacStrength=192;Nc.padLength=128;Nc.prototype._digest=function(e){return e==="hex"?jC.toHex32(this.h.slice(0,12),"big"):jC.split32(this.h.slice(0,12),"big")};$0.sha1=u6e;$0.sha224=E6e;$0.sha256=sj;$0.sha384=j6e;$0.sha512=lj;var fj={},Md=ut,z6e=F0,q1=Md.rotl32,PR=Md.sum32,bp=Md.sum32_3,RR=Md.sum32_4,hj=z6e.BlockHash;function Ta(){if(!(this instanceof Ta))return new Ta;hj.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Md.inherits(Ta,hj);fj.ripemd160=Ta;Ta.blockSize=512;Ta.outSize=160;Ta.hmacStrength=192;Ta.padLength=64;Ta.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,u=i,l=s,d=o,f=a,h=0;h<80;h++){var p=PR(q1(RR(n,OR(h,i,s,o),e[W6e[h]+r],q6e(h)),G6e[h]),a);n=a,a=o,o=q1(s,10),s=i,i=p,p=PR(q1(RR(c,OR(79-h,u,l,d),e[V6e[h]+r],H6e(h)),K6e[h]),f),c=f,f=d,d=q1(l,10),l=u,u=p}p=bp(this.h[1],s,d),this.h[1]=bp(this.h[2],o,f),this.h[2]=bp(this.h[3],a,c),this.h[3]=bp(this.h[4],n,u),this.h[4]=bp(this.h[0],i,l),this.h[0]=p};Ta.prototype._digest=function(e){return e==="hex"?Md.toHex32(this.h,"little"):Md.split32(this.h,"little")};function OR(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function q6e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function H6e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var W6e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],V6e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],G6e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],K6e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Q6e=ut,Y6e=Ly;function f0(t,e,r){if(!(this instanceof f0))return new f0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Q6e.toArray(e,r))}var J6e=f0;f0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Y6e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};f0.prototype.update=function(e,r){return this.inner.update(e,r),this};f0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=ut,e.common=F0,e.sha=$0,e.ripemd=fj,e.hmac=J6e,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(QL);const Qo=Pa(QL);function j0(t,e,r){return r={path:e,exports:{},require:function(n,i){return Z6e(n,i??r.path)}},t(r,r.exports),r.exports}function Z6e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var RS=pj;function pj(t,e){if(!t)throw new Error(e||"Assertion failed")}pj.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var _o=j0(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)c[u]=o[u]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var u=0;u<o.length;u+=2)c.push(parseInt(o[u]+o[u+1],16))}else for(var u=0;u<o.length;u++){var l=o.charCodeAt(u),d=l>>8,f=l&255;d?c.push(d,f):c.push(f)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),ms=j0(function(t,e){var r=e;r.assert=RS,r.toArray=_o.toArray,r.zero2=_o.zero2,r.toHex=_o.toHex,r.encode=_o.encode;function n(c,u,l){var d=new Array(Math.max(c.bitLength(),l)+1),f;for(f=0;f<d.length;f+=1)d[f]=0;var h=1<<u+1,p=c.clone();for(f=0;f<d.length;f++){var g,w=p.andln(h-1);p.isOdd()?(w>(h>>1)-1?g=(h>>1)-w:g=w,p.isubn(g)):g=0,d[f]=g,p.iushrn(1)}return d}r.getNAF=n;function i(c,u){var l=[[],[]];c=c.clone(),u=u.clone();for(var d=0,f=0,h;c.cmpn(-d)>0||u.cmpn(-f)>0;){var p=c.andln(3)+d&3,g=u.andln(3)+f&3;p===3&&(p=-1),g===3&&(g=-1);var w;p&1?(h=c.andln(7)+d&7,(h===3||h===5)&&g===2?w=-p:w=p):w=0,l[0].push(w);var y;g&1?(h=u.andln(7)+f&7,(h===3||h===5)&&p===2?y=-g:y=g):y=0,l[1].push(y),2*d===w+1&&(d=1-d),2*f===y+1&&(f=1-f),c.iushrn(1),u.iushrn(1)}return l}r.getJSF=i;function s(c,u,l){var d="_"+u;c.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=l.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new We(c,"hex","le")}r.intFromLE=a}),tv=ms.getNAF,X6e=ms.getJSF,rv=ms.assert;function cl(t,e){this.type=t,this.p=new We(e.p,16),this.red=e.prime?We.red(e.prime):We.mont(this.p),this.zero=new We(0).toRed(this.red),this.one=new We(1).toRed(this.red),this.two=new We(2).toRed(this.red),this.n=e.n&&new We(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xd=cl;cl.prototype.point=function(){throw new Error("Not implemented")};cl.prototype.validate=function(){throw new Error("Not implemented")};cl.prototype._fixedNafMul=function(e,r){rv(e.precomputed);var n=e._getDoubles(),i=tv(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var u=a+n.step-1;u>=a;u--)c=(c<<1)+i[u];o.push(c)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)c=o[a],c===f?d=d.mixedAdd(n.points[a]):c===-f&&(d=d.mixedAdd(n.points[a].neg()));l=l.add(d)}return l.toP()};cl.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=tv(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var u=0;c>=0&&o[c]===0;c--)u++;if(c>=0&&u++,a=a.dblp(u),c<0)break;var l=o[c];rv(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};cl.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,l,d,f;for(l=0;l<i;l++){f=r[l];var h=f._getNAFPoints(e);o[l]=h.wnd,a[l]=h.points}for(l=i-1;l>=1;l-=2){var p=l-1,g=l;if(o[p]!==1||o[g]!==1){c[p]=tv(n[p],o[p],this._bitLength),c[g]=tv(n[g],o[g],this._bitLength),u=Math.max(c[p].length,u),u=Math.max(c[g].length,u);continue}var w=[r[p],null,null,r[g]];r[p].y.cmp(r[g].y)===0?(w[1]=r[p].add(r[g]),w[2]=r[p].toJ().mixedAdd(r[g].neg())):r[p].y.cmp(r[g].y.redNeg())===0?(w[1]=r[p].toJ().mixedAdd(r[g]),w[2]=r[p].add(r[g].neg())):(w[1]=r[p].toJ().mixedAdd(r[g]),w[2]=r[p].toJ().mixedAdd(r[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=X6e(n[p],n[g]);for(u=Math.max(b[0].length,u),c[p]=new Array(u),c[g]=new Array(u),d=0;d<u;d++){var E=b[0][d]|0,x=b[1][d]|0;c[p][d]=y[(E+1)*3+(x+1)],c[g][d]=0,a[p]=w}}var N=this.jpoint(null,null,null),O=this._wnafT4;for(l=u;l>=0;l--){for(var k=0;l>=0;){var U=!0;for(d=0;d<i;d++)O[d]=c[d][l]|0,O[d]!==0&&(U=!1);if(!U)break;k++,l--}if(l>=0&&k++,N=N.dblp(k),l<0)break;for(d=0;d<i;d++){var D=O[d];D!==0&&(D>0?f=a[d][D-1>>1]:D<0&&(f=a[d][-D-1>>1].neg()),f.type==="affine"?N=N.mixedAdd(f):N=N.add(f))}}for(l=0;l<i;l++)a[l]=null;return s?N:N.toP()};function Ys(t,e){this.curve=t,this.type=e,this.precomputed=null}cl.BasePoint=Ys;Ys.prototype.eq=function(){throw new Error("Not implemented")};Ys.prototype.validate=function(){return this.curve.validate(this)};cl.prototype.decodePoint=function(e,r){e=ms.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?rv(e[e.length-1]%2===0):e[0]===7&&rv(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ys.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ys.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ys.prototype.encode=function(e,r){return ms.encode(this._encode(r),e)};Ys.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ys.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ys.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ys.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ys.prototype._getBeta=function(){return null};Ys.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var OS=j0(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),e5e=ms.assert;function Js(t){Xd.call(this,"short",t),this.a=new We(t.a,16).toRed(this.red),this.b=new We(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}OS(Js,Xd);var t5e=Js;Js.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new We(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new We(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],e5e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new We(a.a,16),b:new We(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Js.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:We.mont(e),n=new We(2).toRed(r).redInvm(),i=n.redNeg(),s=new We(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Js.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new We(1),o=new We(0),a=new We(0),c=new We(1),u,l,d,f,h,p,g,w=0,y,b;n.cmpn(0)!==0;){var E=i.div(n);y=i.sub(E.mul(n)),b=a.sub(E.mul(s));var x=c.sub(E.mul(o));if(!d&&y.cmp(r)<0)u=g.neg(),l=s,d=y.neg(),f=b;else if(d&&++w===2)break;g=y,i=n,n=y,a=s,s=b,c=o,o=x}h=y.neg(),p=b;var N=d.sqr().add(f.sqr()),O=h.sqr().add(p.sqr());return O.cmp(N)>=0&&(h=u,p=l),d.negative&&(d=d.neg(),f=f.neg()),h.negative&&(h=h.neg(),p=p.neg()),[{a:d,b:f},{a:h,b:p}]};Js.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),u=s.mul(n.b),l=o.mul(i.b),d=e.sub(a).sub(c),f=u.add(l).neg();return{k1:d,k2:f}};Js.prototype.pointFromX=function(e,r){e=new We(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Js.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Js.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],u=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[o*2]=c,i[o*2+1]=u,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,s,o*2,n),d=0;d<o*2;d++)i[d]=null,s[d]=null;return l};function Nn(t,e,r,n){Xd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new We(e,16),this.y=new We(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}OS(Nn,Xd.BasePoint);Js.prototype.point=function(e,r,n){return new Nn(this,e,r,n)};Js.prototype.pointFromJSON=function(e,r){return Nn.fromJSON(this,e,r)};Nn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Nn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Nn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Nn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Nn.prototype.isInfinity=function(){return this.inf};Nn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Nn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Nn.prototype.getX=function(){return this.x.fromRed()};Nn.prototype.getY=function(){return this.y.fromRed()};Nn.prototype.mul=function(e){return e=new We(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Nn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Nn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Nn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Nn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Nn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Vn(t,e,r,n){Xd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new We(0)):(this.x=new We(e,16),this.y=new We(r,16),this.z=new We(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}OS(Vn,Xd.BasePoint);Js.prototype.jpoint=function(e,r,n){return new Vn(this,e,r,n)};Vn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Vn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Vn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),u=o.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),d=l.redMul(c),f=i.redMul(l),h=u.redSqr().redIAdd(d).redISub(f).redISub(f),p=u.redMul(f.redISub(h)).redISub(o.redMul(d)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,p,g)};Vn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),d=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(d).redISub(d),h=c.redMul(d.redISub(f)).redISub(s.redMul(l)),p=this.z.redMul(a);return this.curve.jpoint(f,h,p)};Vn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,u=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var d=o.redSqr(),f=l.redSqr(),h=f.redSqr(),p=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(u)),g=o.redMul(f),w=p.redSqr().redISub(g.redAdd(g)),y=g.redISub(w),b=p.redMul(y);b=b.redIAdd(b).redISub(h);var E=l.redMul(c);r+1<e&&(u=u.redMul(h)),o=w,c=E,l=b}return this.curve.jpoint(o,l.redMul(s),c)};Vn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Vn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),u=c.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=u,r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),p=this.x.redAdd(f).redSqr().redISub(d).redISub(h);p=p.redIAdd(p);var g=d.redAdd(d).redIAdd(d),w=g.redSqr(),y=h.redIAdd(h);y=y.redIAdd(y),y=y.redIAdd(y),e=w.redISub(p).redISub(p),r=g.redMul(p.redISub(e)).redISub(y),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Vn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=c.redSqr().redISub(a).redISub(a);e=u;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),p=this.x.redSub(d).redMul(this.x.redAdd(d));p=p.redAdd(p).redIAdd(p);var g=h.redIAdd(h);g=g.redIAdd(g);var w=g.redAdd(g);e=p.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var y=f.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),r=p.redMul(g.redISub(e)).redISub(y)}return this.curve.jpoint(e,r,n)};Vn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),u=r.redAdd(r);u=u.redIAdd(u);var l=u.redMul(a),d=c.redSqr().redISub(l.redAdd(l)),f=l.redISub(d),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=c.redMul(f).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(d,p,g)};Vn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var l=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(u),d=r.redMul(l);d=d.redIAdd(d),d=d.redIAdd(d);var f=this.x.redMul(c).redISub(d);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(f,h,p)};Vn.prototype.mul=function(e,r){return e=new We(e,r),this.curve._wnafMul(this,e)};Vn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Vn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Vn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Vn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Rw=j0(function(t,e){var r=e;r.base=Xd,r.short=t5e,r.mont=null,r.edwards=null}),Ow=j0(function(t,e){var r=e,n=ms.assert;function i(a){a.type==="short"?this.curve=new Rw.short(a):a.type==="edwards"?this.curve=new Rw.edwards(a):this.curve=new Rw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Qo.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Qo.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Qo.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Qo.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Qo.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qo.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qo.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Qo.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Xu(t){if(!(this instanceof Xu))return new Xu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=_o.toArray(t.entropy,t.entropyEnc||"hex"),r=_o.toArray(t.nonce,t.nonceEnc||"hex"),n=_o.toArray(t.pers,t.persEnc||"hex");RS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var gj=Xu;Xu.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Xu.prototype._hmac=function(){return new Qo.hmac(this.hash,this.K)};Xu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Xu.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=_o.toArray(e,r),n=_o.toArray(n,i),RS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Xu.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=_o.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,_o.encode(o,r)};var zC=ms.assert;function ii(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var kS=ii;ii.fromPublic=function(e,r,n){return r instanceof ii?r:new ii(e,{pub:r,pubEnc:n})};ii.fromPrivate=function(e,r,n){return r instanceof ii?r:new ii(e,{priv:r,privEnc:n})};ii.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ii.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ii.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ii.prototype._importPrivate=function(e,r){this.priv=new We(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ii.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?zC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&zC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ii.prototype.derive=function(e){return e.validate()||zC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ii.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ii.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ii.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var r5e=ms.assert;function RE(t,e){if(t instanceof RE)return t;this._importDER(t,e)||(r5e(t.r&&t.s,"Signature without r or s"),this.r=new We(t.r,16),this.s=new We(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var OE=RE;function n5e(){this.place=0}function f6(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function kR(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}RE.prototype._importDER=function(e,r){e=ms.toArray(e,r);var n=new n5e;if(e[n.place++]!==48)return!1;var i=f6(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=f6(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=f6(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new We(o),this.s=new We(c),this.recoveryParam=null,!0};function h6(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}RE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=kR(r),n=kR(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];h6(i,r.length),i=i.concat(r),i.push(2),h6(i,n.length);var s=i.concat(n),o=[48];return h6(o,s.length),o=o.concat(s),ms.encode(o,e)};var i5e=function(){throw new Error("unsupported")},Ol=ms.assert;function Hs(t){if(!(this instanceof Hs))return new Hs(t);typeof t=="string"&&(Ol(Object.prototype.hasOwnProperty.call(Ow,t),"Unknown curve "+t),t=Ow[t]),t instanceof Ow.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var s5e=Hs;Hs.prototype.keyPair=function(e){return new kS(this,e)};Hs.prototype.keyFromPrivate=function(e,r){return kS.fromPrivate(this,e,r)};Hs.prototype.keyFromPublic=function(e,r){return kS.fromPublic(this,e,r)};Hs.prototype.genKeyPair=function(e){e||(e={});for(var r=new gj({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||i5e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new We(2));;){var s=new We(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Hs.prototype._truncateToN=function(e,r,n){var i;if(We.isBN(e)||typeof e=="number")e=new We(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new We(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new We(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Hs.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!We.isBN(e)){Ol(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Ol(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Ol((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Ol(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);Ol(new We(c).eq(e),"Can not sign message");for(var u=new gj({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new We(1)),d=0;;d++){var f=i.k?i.k(d):new We(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var p=h.getX(),g=p.umod(this.n);if(g.cmpn(0)!==0){var w=f.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var y=(h.getY().isOdd()?1:0)|(p.cmp(g)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),y^=1),new OE({r:g,s:w,recoveryParam:y})}}}}}};Hs.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new OE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),u=c.mul(e).umod(this.n),l=c.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(u,n.getPublic(),l),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(u,n.getPublic(),l),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)};Hs.prototype.recoverPubKey=function(t,e,r,n){Ol((3&r)===r,"The recovery param is more than two bits"),e=new OE(e,n);var i=this.n,s=new We(t),o=e.r,a=e.s,c=r&1,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=e.r.invm(i),d=i.sub(s).mul(l).umod(i),f=a.mul(l).umod(i);return this.g.mulAdd(d,o,f)};Hs.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new OE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var o5e=j0(function(t,e){var r=e;r.version="6.6.1",r.utils=ms,r.rand=function(){throw new Error("unsupported")},r.curve=Rw,r.curves=Ow,r.ec=s5e,r.eddsa=null}),a5e=o5e.ec;const c5e="signing-key/5.8.0",qC=new re(c5e);let p6=null;function na(){return p6||(p6=new a5e("secp256k1")),p6}class u5e{constructor(e){he(this,"curve","secp256k1"),he(this,"privateKey",Me(e)),Od(this.privateKey)!==32&&qC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=na().keyFromPrivate(Fe(this.privateKey));he(this,"publicKey","0x"+r.getPublic(!1,"hex")),he(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),he(this,"_isSigningKey",!0)}_addPoint(e){const r=na().keyFromPublic(Fe(this.publicKey)),n=na().keyFromPublic(Fe(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=na().keyFromPrivate(Fe(this.privateKey)),n=Fe(e);n.length!==32&&qC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return SE({recoveryParam:i.recoveryParam,r:br("0x"+i.r.toString(16),32),s:br("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=na().keyFromPrivate(Fe(this.privateKey)),n=na().keyFromPublic(Fe(mj(e)));return br("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function l5e(t,e){const r=SE(e),n={r:Fe(r.r),s:Fe(r.s)};return"0x"+na().recoverPubKey(Fe(t),n,r.recoveryParam).encode("hex",!1)}function mj(t,e){const r=Fe(t);if(r.length===32){const n=new u5e(r);return e?"0x"+na().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Me(r):"0x"+na().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+na().keyFromPublic(r).getPublic(!0,"hex"):Me(r)}return qC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const d5e="transactions/5.8.0",Dc=new re(d5e);var DR;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(DR||(DR={}));function DS(t){return t==="0x"?null:zn(t)}function ni(t){return t==="0x"?kL:oe.from(t)}function f5e(t){const e=mj(t);return zn(ti(on(ti(e,1)),12))}function yj(t,e){return f5e(l5e(Fe(t),e))}function es(t,e){const r=u0(oe.from(t).toHexString());return r.length>32&&Dc.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function g6(t,e){return{address:zn(t),storageKeys:(e||[]).map((r,n)=>(Od(r)!==32&&Dc.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function z0(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Dc.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),g6(r[0],r[1])):g6(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return g6(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function wj(t){return z0(t).map(e=>[e.address,e.storageKeys])}function h5e(t,e){if(t.gasPrice!=null){const n=oe.from(t.gasPrice),i=oe.from(t.maxFeePerGas||0);n.eq(i)||Dc.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[es(t.chainId||0,"chainId"),es(t.nonce||0,"nonce"),es(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),es(t.maxFeePerGas||0,"maxFeePerGas"),es(t.gasLimit||0,"gasLimit"),t.to!=null?zn(t.to):"0x",es(t.value||0,"value"),t.data||"0x",wj(t.accessList||[])];if(e){const n=SE(e);r.push(es(n.recoveryParam,"recoveryParam")),r.push(u0(n.r)),r.push(u0(n.s))}return ki(["0x02",IE(r)])}function p5e(t,e){const r=[es(t.chainId||0,"chainId"),es(t.nonce||0,"nonce"),es(t.gasPrice||0,"gasPrice"),es(t.gasLimit||0,"gasLimit"),t.to!=null?zn(t.to):"0x",es(t.value||0,"value"),t.data||"0x",wj(t.accessList||[])];if(e){const n=SE(e);r.push(es(n.recoveryParam,"recoveryParam")),r.push(u0(n.r)),r.push(u0(n.s))}return ki(["0x01",IE(r)])}function bj(t,e,r){try{const n=ni(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Dc.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=br(e[1],32),t.s=br(e[2],32);try{const n=on(r(t));t.from=yj(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function g5e(t){const e=NS(t.slice(1));e.length!==9&&e.length!==12&&Dc.throwArgumentError("invalid component count for transaction type: 2","payload",Me(t));const r=ni(e[2]),n=ni(e[3]),i={type:2,chainId:ni(e[0]).toNumber(),nonce:ni(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ni(e[4]),to:DS(e[5]),value:ni(e[6]),data:e[7],accessList:z0(e[8])};return e.length===9||(i.hash=on(t),bj(i,e.slice(9),h5e)),i}function m5e(t){const e=NS(t.slice(1));e.length!==8&&e.length!==11&&Dc.throwArgumentError("invalid component count for transaction type: 1","payload",Me(t));const r={type:1,chainId:ni(e[0]).toNumber(),nonce:ni(e[1]).toNumber(),gasPrice:ni(e[2]),gasLimit:ni(e[3]),to:DS(e[4]),value:ni(e[5]),data:e[6],accessList:z0(e[7])};return e.length===8||(r.hash=on(t),bj(r,e.slice(8),p5e)),r}function y5e(t){const e=NS(t);e.length!==9&&e.length!==6&&Dc.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:ni(e[0]).toNumber(),gasPrice:ni(e[1]),gasLimit:ni(e[2]),to:DS(e[3]),value:ni(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=oe.from(e[6]).toNumber()}catch{return r}if(r.r=br(e[7],32),r.s=br(e[8],32),oe.from(r.r).isZero()&&oe.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Me(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=on(IE(i));try{r.from=yj(s,{r:Me(r.r),s:Me(r.s),recoveryParam:n})}catch{}r.hash=on(t)}return r.type=null,r}function w5e(t){const e=Fe(t);if(e[0]>127)return y5e(e);switch(e[0]){case 1:return m5e(e);case 2:return g5e(e)}return Dc.throwError(`unsupported transaction type: ${e[0]}`,re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const b5e="contracts/5.8.0";var Bd=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Br=new re(b5e);function nv(t,e){return Bd(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Br.throwArgumentError("invalid address or ENS name","name",r);try{return zn(r)}catch{}t||Br.throwError("a provider or signer is needed to resolve ENS names",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Br.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function kw(t,e,r){return Bd(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>kw(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield nv(t,e):r.type==="tuple"?yield kw(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>kw(t,n,r.arrayChildren))):Promise.reject(Br.makeError("invalid value for array",re.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function kE(t,e,r){return Bd(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=cn(r.pop())),Br.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Wr({override:nv(t.signer,n.from),signer:t.signer.getAddress()}).then(u=>Bd(this,void 0,void 0,function*(){return zn(u.signer)!==u.override&&Br.throwError("Contract with a Signer cannot override from",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=t.signer.getAddress():n.from&&(n.from=nv(t.provider,n.from));const i=yield Wr({args:kw(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Wr(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=oe.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=oe.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=oe.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=oe.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=oe.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=z0(a.accessList)),o.gasLimit==null&&e.gas!=null){let u=21e3;const l=Fe(s);for(let d=0;d<l.length;d++)u+=4,l[d]&&(u+=64);o.gasLimit=oe.from(e.gas).add(u)}if(a.value){const u=oe.from(a.value);!u.isZero()&&!e.payable&&Br.throwError("non-payable method cannot override value",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=u}a.customData&&(o.customData=cn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(u=>n[u]!=null);return c.length&&Br.throwError(`cannot override ${c.map(u=>JSON.stringify(u)).join(",")}`,re.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function v5e(t,e){return function(...r){return kE(t,e,r)}}function E5e(t,e){const r=t.signer||t.provider;return function(...n){return Bd(this,void 0,void 0,function*(){r||Br.throwError("estimate require a provider or signer",re.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield kE(t,e,n);return yield r.estimateGas(i)})}}function A5e(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=kd(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,u)=>t.interface.decodeEventLog(a.eventFragment,c,u),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function vj(t,e,r){const n=t.signer||t.provider;return function(...i){return Bd(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=cn(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield kE(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===re.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function _5e(t,e){return function(...r){return Bd(this,void 0,void 0,function*(){t.signer||Br.throwError("sending a transaction requires a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield kE(t,e,r),i=yield t.signer.sendTransaction(n);return A5e(t,i),i})}}function MR(t,e,r){return e.constant?vj(t,e,r):_5e(t,e)}function Ej(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Um{constructor(e,r){he(this,"tag",e),he(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class C5e extends Um{constructor(){super("error",null)}}class BR extends Um{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&Br.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(Ej(s),s),he(this,"address",e),he(this,"interface",r),he(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=s2e(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class UR extends Um{constructor(e,r){super("*",{address:e}),he(this,"address",e),he(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class x5e{constructor(e,r,n){he(this,"interface",la(new.target,"getInterface")(r)),n==null?(he(this,"provider",null),he(this,"signer",null)):$y.isSigner(n)?(he(this,"provider",n.provider||null),he(this,"signer",n)):TE.isProvider(n)?(he(this,"provider",n),he(this,"signer",null)):Br.throwArgumentError("invalid signer or provider","signerOrProvider",n),he(this,"callStatic",{}),he(this,"estimateGas",{}),he(this,"functions",{}),he(this,"populateTransaction",{}),he(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];he(this.filters,a,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,u)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?he(this.filters,a,this.filters[c[0]]):Br.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(he(this,"_runningEvents",{}),he(this,"_wrappedEmits",{}),e==null&&Br.throwArgumentError("invalid contract address or ENS name","addressOrName",e),he(this,"address",e),this.provider)he(this,"resolvedAddress",nv(this.provider,e));else try{he(this,"resolvedAddress",Promise.resolve(zn(e)))}catch{Br.throwError("provider is required to use ENS name as contract address",re.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){Br.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&he(this,o,MR(this,a,!0)),this.functions[o]==null&&he(this.functions,o,MR(this,a,!1)),this.callStatic[o]==null&&he(this.callStatic,o,vj(this,a,!0)),this.populateTransaction[o]==null&&he(this.populateTransaction,o,v5e(this,a)),this.estimateGas[o]==null&&he(this.estimateGas,o,E5e(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&he(this,o,this[c])}catch{}this.functions[o]==null&&he(this.functions,o,this.functions[c]),this.callStatic[o]==null&&he(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&he(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&he(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return TL(e)}static getInterface(e){return NR.isInterface(e)?e:new NR(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Br.throwError("contract not deployed",re.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Br.throwError("sending a transactions require a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=cn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Br.throwError("cannot override "+n,re.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new PS(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&he(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return FC.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new C5e);if(e==="event")return this._normalizeRunningEvent(new Um("event",null));if(e==="*")return this._normalizeRunningEvent(new UR(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new BR(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new BR(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Um(Ej(r),r))}return this._normalizeRunningEvent(new UR(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=kd(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Br.throwError("events require a provider or a signer with a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=cn(i.filter);return typeof r=="string"&&yt(r,32)?(n!=null&&Br.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}let S5e=class extends x5e{};class Aj{constructor(e){he(this,"alphabet",e),he(this,"base",e.length),he(this,"_alphabetMap",{}),he(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Fe(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Fe(new Uint8Array(r.reverse()))}}new Aj("abcdefghijklmnopqrstuvwxyz234567");const HC=new Aj("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function FR(t){return"0x"+Qo.sha256().update(Fe(t)).digest("hex")}const I5e="networks/5.8.0",$R=new re(I5e);function N5e(t){return t&&typeof t.renetwork=="function"}function lo(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return lo(r)},e}function iv(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return iv(t,n)},r}const LR={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:lo("homestead")},jR={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:lo("ropsten")},zR={chainId:63,name:"classicMordor",_defaultProvider:iv("https://www.ethercluster.com/mordor","classicMordor")},H1={unspecified:{chainId:0,name:"unspecified"},homestead:LR,mainnet:LR,morden:{chainId:2,name:"morden"},ropsten:jR,testnet:jR,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:lo("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:lo("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:lo("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:lo("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:lo("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:iv("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:zR,classicTestnet:zR,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:iv("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:lo("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:lo("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:lo("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function T5e(t){if(t==null)return null;if(typeof t=="number"){for(const n in H1){const i=H1[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=H1[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=H1[t.name];if(!e)return typeof t.chainId!="number"&&$R.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&$R.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(N5e(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const P5e="web/5.8.0";var R5e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};function O5e(t,e){return R5e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Fe(new Uint8Array(i))}})}var k5e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const ao=new re(P5e);function qR(t){return new Promise(e=>{setTimeout(e,t)})}function Jc(t,e){if(t==null)return null;if(typeof t=="string")return t;if(xS(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Fy(t)}catch{}return Me(t)}return t}function D5e(t){return Sa(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function M5e(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;ao.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;ao.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const u={method:"GET"};let l=!1,d=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&ao.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(d=t.timeout),t.headers)for(const y in t.headers)a[y.toLowerCase()]={key:y,value:String(t.headers[y])},["if-none-match","if-modified-since"].indexOf(y.toLowerCase())>=0&&(l=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&ao.throwError("basic authentication requires a secure https url",re.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const y=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+$L(Sa(y))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=cn(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(f):null;if(h)try{const y={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?FL(h[3]):D5e(h[3])};let b=y.body;return r&&(b=r(y.body,y)),Promise.resolve(b)}catch(y){ao.throwError("processing response error",re.errors.SERVER_ERROR,{body:Jc(h[1],h[2]),error:y,requestBody:null,requestMethod:"GET",url:c})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach(y=>{const b=a[y];p[b.key]=b.value}),u.headers=p;const g=function(){let y=null;return{promise:new Promise(function(x,N){d&&(y=setTimeout(()=>{y!=null&&(y=null,N(ao.makeError("timeout",re.errors.TIMEOUT,{requestBody:Jc(u.body,p["content-type"]),requestMethod:u.method,timeout:d,url:c})))},d))}),cancel:function(){y!=null&&(clearTimeout(y),y=null)}}}(),w=function(){return k5e(this,void 0,void 0,function*(){for(let y=0;y<n;y++){let b=null;try{if(b=yield O5e(c,u),y<n){if(b.statusCode===301||b.statusCode===302){const x=b.headers.location||"";if(u.method==="GET"&&x.match(/^https:/)){c=b.headers.location;continue}}else if(b.statusCode===429){let x=!0;if(i&&(x=yield i(y,c)),x){let N=0;const O=b.headers["retry-after"];typeof O=="string"&&O.match(/^[1-9][0-9]*$/)?N=parseInt(O)*1e3:N=s*parseInt(String(Math.random()*Math.pow(2,y))),yield qR(N);continue}}}}catch(x){b=x.response,b==null&&(g.cancel(),ao.throwError("missing response",re.errors.SERVER_ERROR,{requestBody:Jc(u.body,p["content-type"]),requestMethod:u.method,serverError:x,url:c}))}let E=b.body;if(l&&b.statusCode===304?E=null:!o&&(b.statusCode<200||b.statusCode>=300)&&(g.cancel(),ao.throwError("bad response",re.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:Jc(E,b.headers?b.headers["content-type"]:null),requestBody:Jc(u.body,p["content-type"]),requestMethod:u.method,url:c})),r)try{const x=yield r(E,b);return g.cancel(),x}catch(x){if(x.throttleRetry&&y<n){let N=!0;if(i&&(N=yield i(y,c)),N){const O=s*parseInt(String(Math.random()*Math.pow(2,y)));yield qR(O);continue}}g.cancel(),ao.throwError("processing response error",re.errors.SERVER_ERROR,{body:Jc(E,b.headers?b.headers["content-type"]:null),error:x,requestBody:Jc(u.body,p["content-type"]),requestMethod:u.method,url:c})}return g.cancel(),E}return ao.throwError("failed response",re.errors.SERVER_ERROR,{requestBody:Jc(u.body,p["content-type"]),requestMethod:u.method,url:c})})}();return Promise.race([g.promise,w])}function MS(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Fy(s))}catch(c){ao.throwError("invalid JSON",re.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Sa(e);const s=typeof t=="string"?{url:t}:cn(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=cn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return M5e(t,i,n)}function Dp(t,e){return e||(e={}),e=cn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function u(){return t().then(function(l){if(l!==void 0)o()&&r(l);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let d=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));d<e.floor&&(d=e.floor),d>e.ceiling&&(d=e.ceiling),setTimeout(u,d)}return null},function(l){o()&&n(l)})}u()})}var sv="qpzry9x8gf2tvdw0s3jn54khce6mua7l",WC={};for(var W1=0;W1<sv.length;W1++){var m6=sv.charAt(W1);if(WC[m6]!==void 0)throw new TypeError(m6+" is ambiguous");WC[m6]=W1}function bh(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function _j(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=bh(e)^n>>5}for(e=bh(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=bh(e)^i&31}return e}function B5e(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=_j(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=bh(n)^o,i+=sv.charAt(o)}for(s=0;s<6;++s)n=bh(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=sv.charAt(a)}return i}function Cj(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=_j(s);if(typeof a=="string")return a;for(var c=[],u=0;u<o.length;++u){var l=o.charAt(u),d=WC[l];if(d===void 0)return"Unknown character "+l;a=bh(a)^d,!(u+6>=o.length)&&c.push(d)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:c}}function U5e(){var t=Cj.apply(null,arguments);if(typeof t=="object")return t}function F5e(t){var e=Cj.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function DE(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function $5e(t){var e=DE(t,8,5,!0);if(Array.isArray(e))return e}function L5e(t){var e=DE(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function j5e(t){var e=DE(t,5,8,!1);if(Array.isArray(e))return e}function z5e(t){var e=DE(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var q5e={decodeUnsafe:U5e,decode:F5e,encode:B5e,toWordsUnsafe:$5e,toWords:L5e,fromWordsUnsafe:j5e,fromWords:z5e};const HR=Pa(q5e),BS="providers/5.8.0",vp=new re(BS);class Te{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),u=this.type.bind(this),l=d=>this.data(d,!0);return e.transaction={hash:o,type:u,accessList:Te.allowNull(this.accessList.bind(this),null),blockHash:Te.allowNull(o,null),blockNumber:Te.allowNull(c,null),transactionIndex:Te.allowNull(c,null),confirmations:Te.allowNull(c,null),from:r,gasPrice:Te.allowNull(n),maxPriorityFeePerGas:Te.allowNull(n),maxFeePerGas:Te.allowNull(n),gasLimit:n,to:Te.allowNull(r,null),value:n,nonce:c,data:s,r:Te.allowNull(this.uint256),s:Te.allowNull(this.uint256),v:Te.allowNull(c),creates:Te.allowNull(r,null),raw:Te.allowNull(s)},e.transactionRequest={from:Te.allowNull(r),nonce:Te.allowNull(c),gasLimit:Te.allowNull(n),gasPrice:Te.allowNull(n),maxPriorityFeePerGas:Te.allowNull(n),maxFeePerGas:Te.allowNull(n),to:Te.allowNull(r),value:Te.allowNull(n),data:Te.allowNull(l),type:Te.allowNull(c),accessList:Te.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:Te.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Te.allowNull(this.address,null),from:Te.allowNull(this.address,null),contractAddress:Te.allowNull(r,null),transactionIndex:c,root:Te.allowNull(a),gasUsed:n,logsBloom:Te.allowNull(s),blockHash:o,transactionHash:o,logs:Te.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Te.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Te.allowNull(n),status:Te.allowNull(c),type:u},e.block={hash:Te.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Te.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Te.allowNull(r),extraData:s,transactions:Te.allowNull(Te.arrayOf(o)),baseFeePerGas:Te.allowNull(n)},e.blockWithTransactions=cn(e.block),e.blockWithTransactions.transactions=Te.allowNull(Te.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Te.allowNull(i,void 0),toBlock:Te.allowNull(i,void 0),blockHash:Te.allowNull(o,void 0),address:Te.allowNull(r,void 0),topics:Te.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Te.allowNull(c),blockHash:Te.allowNull(o),transactionIndex:c,removed:Te.allowNull(this.boolean.bind(this)),address:r,data:Te.allowFalsish(s,"0x"),topics:Te.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return z0(e||[])}number(e){return e==="0x"?0:oe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:oe.from(e).toNumber()}bigNumber(e){return oe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),yt(e))?e.toLowerCase():vp.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return zn(e)}callAddress(e){if(!yt(e,32))return null;const r=zn(ti(e,12));return r===v2e?null:r}contractAddress(e){return TL(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||yt(e))return xE(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Od(n)!==32?vp.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=oe.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!yt(e))throw new Error("invalid uint256");return br(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Te.check(r,e);return i._difficulty=n==null?null:oe.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Te.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&oe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Te.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;yt(n)&&(n=oe.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),yt(n)&&(n=oe.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return w5e(e)}receiptLog(e){return Te.check(this.formats.receiptLog,e)}receipt(e){const r=Te.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=oe.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&vp.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):vp.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&vp.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Te.check(this.formats.filter,e)}filterLog(e){return Te.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var Ye=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const ot=new re(BS),H5e=10;function WR(t){return t==null?"null":(Od(t)!==32&&ot.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function VR(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[WR(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return WR(e)}).join("&")}function W5e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function If(t){if(typeof t=="string"){if(t=t.toLowerCase(),Od(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+VR(t);if(EAe.isForkEvent(t))throw ot.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+VR(t.topics||[])}throw new Error("invalid event - "+t)}function Ep(){return new Date().getTime()}function GR(t){return new Promise(e=>{setTimeout(e,t)})}const V5e=["block","network","pending","poll"];let G5e=class{constructor(e,r,n){he(this,"tag",e),he(this,"listener",r),he(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=W5e(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||V5e.indexOf(this.tag)>=0}};const K5e={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function y6(t){return br(oe.from(t).toHexString(),32)}function KR(t){return HC.encode(ss([t,ti(FR(FR(t)),0,4)]))}const xj=new RegExp("^(ipfs)://(.*)$","i"),QR=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),xj,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Dw(t,e){try{return Fy(Fm(t,e))}catch{}return null}function Fm(t,e){if(t==="0x")return null;const r=oe.from(ti(t,e,e+32)).toNumber(),n=oe.from(ti(t,r,r+32)).toNumber();return ti(t,r+32,r+32+n)}function w6(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ot.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function YR(t){const e=Fe(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Q5e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Sj(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Fe(t[n]);e[n]=YR(r),e.push(YR(i.length)),e.push(Q5e(i)),r+=32+Math.ceil(i.length/32)*32}return ki(e)}class JR{constructor(e,r,n,i){he(this,"provider",e),he(this,"name",n),he(this,"address",e.formatter.address(r)),he(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>oe.from(e).eq(1)).catch(e=>{if(e.code===re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Ye(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:ki([e,Pw(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=ki(["0x9061b923",Sj([oAe(this.name),n.data])]));try{let s=yield this.provider.call(n);return Fe(s).length%32===4&&ot.throwError("resolver threw error",re.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Fm(s,0)),s}catch(s){if(s.code===re.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return Ye(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Fm(n,0):null})}_getAddress(e,r){const n=K5e[String(e)];if(n==null&&ot.throwError(`unsupported coin type: ${e}`,re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Fe(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return KR(ss([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return KR(ss([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=HR.toWords(i.slice(2));return a.unshift(o),HR.encode(n.prefix,a)}}return null}getAddress(e){return Ye(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===C2e?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===re.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",y6(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&ot.throwError("invalid or unsupported coin data",re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Ye(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<QR.length;n++){const i=r.match(QR[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:w6(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const u=yield this.provider.formatter.address(c[0]),l=br(oe.from(c[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:ki(["0x6352211e",l])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=oe.from(yield this.provider.call({to:u,data:ki(["0x00fdd58e",br(a,32),l])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const d={to:this.provider.formatter.address(c[0]),data:ki([o,l])};let f=Dw(yield this.provider.call(d),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=w6(f)),e.push({type:"metadata-url",content:f});const h=yield MS(f);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let p=h.image;if(typeof p!="string")return null;if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(xj)==null)return null;e.push({type:"url-ipfs",content:p}),p=w6(p)}return e.push({type:"url",content:p}),{linkage:e,url:p}}}}}catch{}return null})}getContentHash(){return Ye(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+HC.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+HC.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+$L("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return ot.throwError("invalid or unsupported content hash data",re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Ye(this,void 0,void 0,function*(){let r=Sa(e);r=ss([y6(64),y6(r.length),r]),r.length%32!==0&&(r=ss([r,br("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Me(r));return n==null||n==="0x"?null:Fy(n)})}}let b6=null,Y5e=1;class J5e extends TE{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),he(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=la(new.target,"getNetwork")(e);r?(he(this,"_network",r),this.emit("network",r,null)):ot.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ye(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||ot.throwError("no network detected",re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:he(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Dp(()=>this._ready().then(e=>e,e=>{if(!(e.code===re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return b6==null&&(b6=new Te),b6}static getNetwork(e){return T5e(e??"homestead")}ccipReadFetch(e,r,n){return Ye(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],u=c.replace("{sender}",i).replace("{data}",s),l=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),d=yield MS({url:u,errorPassThrough:!0},l,(h,p)=>(h.status=p.statusCode,h));if(d.data)return d.data;const f=d.message||"unknown error";if(d.status>=400&&d.status<500)return ot.throwError(`response not found during CCIP fetch: ${f}`,re.errors.SERVER_ERROR,{url:c,errorMessage:f});o.push(f)}return ot.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,re.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return Ye(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Ep()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Ep(),n=Wr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Ep();return i=oe.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Ye(this,void 0,void 0,function*(){const e=Y5e++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ot.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ot.makeError("network block skew detected",re.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(s,u)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ye(this,void 0,void 0,function*(){return ot.throwError("provider does not support network detection",re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Ye(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield GR(0),this._network;const n=ot.makeError("underlying network changed",re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ep();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ep(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Ye(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Ye(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let u=!1;const l=function(){return u?!0:(u=!0,c.forEach(f=>{f()}),!1)},d=f=>{f.confirmations<r||l()||o(f)};if(this.on(e,d),c.push(()=>{this.removeListener(e,d)}),i){let f=i.startBlock,h=null;const p=g=>Ye(this,void 0,void 0,function*(){u||(yield GR(1e3),this.getTransactionCount(i.from).then(w=>Ye(this,void 0,void 0,function*(){if(!u){if(w<=i.nonce)f=g;else{{const y=yield this.getTransaction(e);if(y&&y.blockNumber!=null)return}for(h==null&&(h=f-3,h<i.startBlock&&(h=i.startBlock));h<=g;){if(u)return;const y=yield this.getBlockWithTransactions(h);for(let b=0;b<y.transactions.length;b++){const E=y.transactions[b];if(E.hash===e)return;if(E.from===i.from&&E.nonce===i.nonce){if(u)return;const x=yield this.waitForTransaction(E.hash,r);if(l())return;let N="replaced";E.data===i.data&&E.to===i.to&&E.value.eq(i.value)?N="repriced":E.data==="0x"&&E.from===E.to&&E.value.isZero()&&(N="cancelled"),a(ot.makeError("transaction was replaced",re.errors.TRANSACTION_REPLACED,{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:this._wrapTransaction(E),hash:e,receipt:x}));return}}h++}}u||this.once("block",p)}}),w=>{u||this.once("block",p)}))});if(u)return;this.once("block",p),c.push(()=>{this.removeListener("block",p)})}if(typeof n=="number"&&n>0){const f=setTimeout(()=>{l()||a(ot.makeError("timeout exceeded",re.errors.TIMEOUT,{timeout:n}))},n);f.unref&&f.unref(),c.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Ye(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return oe.from(e)}catch(r){return ot.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Wr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return oe.from(i)}catch(s){return ot.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Wr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return oe.from(i).toNumber()}catch(s){return ot.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Wr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Me(i)}catch(s){return ot.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Wr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>xE(o))}),s=yield this.perform("getStorageAt",i);try{return Me(s)}catch(o){return ot.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Od(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&ot.throwError("Transaction hash mismatch from Provider.sendTransaction.",re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>Ye(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&ot.throwError("transaction failed",re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>Me(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Ye(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?oe.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Me(s):null))}),this.formatter.transactionRequest(yield Wr(n))})}_getFilter(e){return Ye(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Wr(r))})}_call(e,r,n){return Ye(this,void 0,void 0,function*(){n>=H5e&&ot.throwError("CCIP read exceeded maximum redirections",re.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Od(s)%32===4)try{const o=ti(s,4),a=ti(o,0,32);oe.from(a).eq(i)||ot.throwError("CCIP Read sender did not match",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],u=oe.from(ti(o,32,64)).toNumber(),l=oe.from(ti(o,u,u+32)).toNumber(),d=ti(o,u+32);for(let y=0;y<l;y++){const b=Dw(d,y*32);b==null&&ot.throwError("CCIP Read contained corrupt URL string",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(b)}const f=Fm(o,64);oe.from(ti(o,100,128)).isZero()||ot.throwError("CCIP Read callback selector included junk",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const h=ti(o,96,100),p=Fm(o,128),g=yield this.ccipReadFetch(e,f,c);g==null&&ot.throwError("CCIP Read disabled or provided no URLs",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:ki([h,Sj([g,p])])};return this._call(w,r,n+1)}catch(o){if(o.code===re.errors.SERVER_ERROR)throw o}try{return Me(s)}catch(o){return ot.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Wr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Wr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return oe.from(n)}catch(i){return ot.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Ye(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&ot.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&ot.throwError("ENS name not configured",re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Ye(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(yt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),yt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ot.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Dp(()=>Ye(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const u=s.transactions[c];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=o-u.blockNumber+1;l<=0&&(l=1),u.confirmations=l}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Ye(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Dp(()=>Ye(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Ye(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Dp(()=>Ye(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Ye(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Wr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Te.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Ye(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Ye(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&ot.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Ye(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new JR(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Ye(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||ot.throwError("network does not support ENS",re.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Pw(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Ye(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(yt(e))throw n}typeof e!="string"&&ot.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Ye(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Dw(yield this.call({to:n,data:"0x691f3431"+Pw(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Ye(this,void 0,void 0,function*(){let r=null;if(yt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new JR(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a}try{const a=Dw(yield this.call({to:o,data:"0x691f3431"+Pw(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return ot.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new G5e(If(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=If(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=If(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=If(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=If(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=If(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Qa=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Vr=new re(BS),Z5e=["call","estimateGas"];function ng(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=yt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=ng(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return ng(JSON.parse(t),e)}catch{}return null}function Ij(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=ng(e,!0);if(s)return s.data;Vr.throwError("missing revert data in call exception; Transaction reverted without a reason string",re.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=ng(e.body,!1);s==null&&(s=ng(e,!1)),s&&Vr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Vr.throwError("insufficient funds for intrinsic transaction cost",re.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Vr.throwError("nonce has already been used",re.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Vr.throwError("replacement fee too low",re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Vr.throwError("legacy pre-eip-155 transactions not supported",re.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Z5e.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Vr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function ZR(t){return new Promise(function(e){setTimeout(e,t)})}function X5e(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Ap(t){return t&&t.toLowerCase()}const VC={};class Nj extends $y{constructor(e,r,n){if(super(),e!==VC)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");he(this,"provider",r),n==null&&(n=0),typeof n=="string"?(he(this,"_address",this.provider.formatter.address(n)),he(this,"_index",null)):typeof n=="number"?(he(this,"_index",n),he(this,"_address",null)):Vr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Vr.throwError("cannot alter JSON-RPC Signer connection",re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new e_e(VC,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Vr.throwError("unknown account #"+this._index,re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=cn(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=cn(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Qa(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Vr.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Wr({tx:Wr(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Vr.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Vr.throwError("user rejected transaction",re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Ij("sendTransaction",o,s)))})}signTransaction(e){return Vr.throwError("signing transactions is unsupported",re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Qa(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Dp(()=>Qa(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Qa(this,void 0,void 0,function*(){const r=typeof e=="string"?Sa(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Me(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Vr.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Qa(this,void 0,void 0,function*(){const r=typeof e=="string"?Sa(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Me(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Vr.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Qa(this,void 0,void 0,function*(){const i=yield Qi.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Qi.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Vr.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Qa(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class e_e extends Nj{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const t_e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class r_e extends J5e{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=la(this.constructor,"defaultUrl")()),typeof e=="string"?he(this,"connection",Object.freeze({url:e})):he(this,"connection",Object.freeze(cn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Qa(this,void 0,void 0,function*(){yield ZR(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=la(this.constructor,"getNetwork");try{return r(oe.from(e).toNumber())}catch(n){return Vr.throwError("could not detect network",re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Vr.throwError("could not detect network",re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Nj(VC,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:kd(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=MS(this.connection,JSON.stringify(n),X5e).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Ap(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Ap(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Ap(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Ap(r.address),br(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[la(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[la(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Ap(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Qa(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&oe.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=cn(r),r.transaction=cn(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Vr.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Ij(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return ZR(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=cn(t_e);if(r)for(const s in r)r[s]&&(n[s]=!0);JEe(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=xE(oe.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Me(e[s]))}),e.accessList&&(i.accessList=z0(e.accessList)),i}}const n_e=["wei","kwei","mwei","gwei","szabo","finney","ether"];function i_e(t,e){if(typeof e=="string"){const r=n_e.indexOf(e);r!==-1&&(e=3*r)}return Nw(t,e??18)}const s_e="hh-sol-artifact-1",o_e="SynergyNFT",a_e="contracts/SynergyNFT.sol",c_e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"tokenURI",type:"string"},{indexed:!1,internalType:"uint256",name:"nftType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"NFTMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nftType",type:"uint256"}],name:"getNftTypeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"string",name:"tokenURI",type:"string"},{internalType:"uint256",name:"nftType",type:"uint256"}],name:"mintNFT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nftTypeCounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nftTypeToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],u_e="0x60806040523480156200001157600080fd5b506040518060400160405280600a81526020016914de5b995c99de53919560b21b8152506040518060400160405280600481526020016314d3919560e21b815250816000908162000063919062000190565b50600162000072828262000190565b5050506200008f620000896200009560201b60201c565b62000099565b6200025c565b3390565b600680546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200011657607f821691505b6020821081036200013757634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156200018b57600081815260208120601f850160051c81016020861015620001665750805b601f850160051c820191505b81811015620001875782815560010162000172565b5050505b505050565b81516001600160401b03811115620001ac57620001ac620000eb565b620001c481620001bd845462000101565b846200013d565b602080601f831160018114620001fc5760008415620001e35750858301515b600019600386901b1c1916600185901b17855562000187565b600085815260208120601f198616915b828110156200022d578886015182559484019460019091019084016200020c565b50858210156200024c5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b611910806200026c6000396000f3fe6080604052600436106101405760003560e01c806356189236116100b657806395d89b411161006f57806395d89b41146103a8578063a22cb465146103bd578063b88d4fde146103dd578063c87b56dd146103fd578063e985e9c51461041d578063f2fde38b1461046657600080fd5b806356189236146102f35780636352211e146103085780636e3381a01461032857806370a0823114610355578063715018a6146103755780638da5cb5b1461038a57600080fd5b8063095ea7b311610108578063095ea7b3146102225780632330a6ad1461024457806323b872dd146102715780633ccfd60b1461029157806342842e0e146102a65780634b73c85b146102c657600080fd5b806301ffc9a714610145578063034964a61461017a57806306fdde03146101b5578063081812fc146101d757806308598df01461020f575b600080fd5b34801561015157600080fd5b506101656101603660046113c8565b610486565b60405190151581526020015b60405180910390f35b34801561018657600080fd5b506101a76101953660046113e5565b60096020526000908152604090205481565b604051908152602001610171565b3480156101c157600080fd5b506101ca6104d8565b604051610171919061144e565b3480156101e357600080fd5b506101f76101f23660046113e5565b61056a565b6040516001600160a01b039091168152602001610171565b6101a761021d366004611509565b610591565b34801561022e57600080fd5b5061024261023d366004611574565b610722565b005b34801561025057600080fd5b506101a761025f3660046113e5565b60009081526008602052604090205490565b34801561027d57600080fd5b5061024261028c36600461159e565b610837565b34801561029d57600080fd5b50610242610868565b3480156102b257600080fd5b506102426102c136600461159e565b6108ac565b3480156102d257600080fd5b506101a76102e13660046113e5565b600a6020526000908152604090205481565b3480156102ff57600080fd5b506101a76108c7565b34801561031457600080fd5b506101f76103233660046113e5565b6108d7565b34801561033457600080fd5b506101a76103433660046113e5565b60086020526000908152604090205481565b34801561036157600080fd5b506101a76103703660046115da565b610937565b34801561038157600080fd5b506102426109bd565b34801561039657600080fd5b506006546001600160a01b03166101f7565b3480156103b457600080fd5b506101ca6109d1565b3480156103c957600080fd5b506102426103d83660046115f5565b6109e0565b3480156103e957600080fd5b506102426103f8366004611631565b6109ef565b34801561040957600080fd5b506101ca6104183660046113e5565b610a27565b34801561042957600080fd5b506101656104383660046116ad565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b34801561047257600080fd5b506102426104813660046115da565b610a9b565b60006001600160e01b031982166380ac58cd60e01b14806104b757506001600160e01b03198216635b5e139f60e01b145b806104d257506301ffc9a760e01b6001600160e01b03198316145b92915050565b6060600080546104e7906116e0565b80601f0160208091040260200160405190810160405280929190818152602001828054610513906116e0565b80156105605780601f1061053557610100808354040283529160200191610560565b820191906000526020600020905b81548152906001019060200180831161054357829003601f168201915b5050505050905090565b600061057582610b11565b506000908152600460205260409020546001600160a01b031690565b600060038211156105dc5760405162461bcd60e51b815260206004820152601060248201526f496e76616c6964204e4654207479706560801b60448201526064015b60405180910390fd5b6000826000036105f557506706f05b59d3b20000610626565b8260010361060c5750670a688906bd8b0000610626565b826002036106235750670de0b6b3a7640000610626565b50345b8034101561066d5760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b60448201526064016105d3565b61067b600780546001019055565b600061068660075490565b90506106928682610b70565b60008481526008602052604081208054916106ac8361171a565b90915550506000818152600960209081526040808320879055600a90915290819020429081905590516001600160a01b038816917fe8915ac6c158f57d31247fae068c0e2ca5206c051f0f5fd91cfbe6451434004f916107119185918a918a91611741565b60405180910390a295945050505050565b600061072d826108d7565b9050806001600160a01b0316836001600160a01b03160361079a5760405162461bcd60e51b815260206004820152602160248201527f4552433732313a20617070726f76616c20746f2063757272656e74206f776e656044820152603960f91b60648201526084016105d3565b336001600160a01b03821614806107b657506107b68133610438565b6108285760405162461bcd60e51b815260206004820152603d60248201527f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60448201527f6b656e206f776e6572206f7220617070726f76656420666f7220616c6c00000060648201526084016105d3565b6108328383610b8a565b505050565b6108413382610bf8565b61085d5760405162461bcd60e51b81526004016105d39061176d565b610832838383610c77565b610870610ddb565b6006546040516001600160a01b03909116904780156108fc02916000818181858888f193505050501580156108a9573d6000803e3d6000fd5b50565b610832838383604051806020016040528060008152506109ef565b60006108d260075490565b905090565b6000818152600260205260408120546001600160a01b0316806104d25760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b60448201526064016105d3565b60006001600160a01b0382166109a15760405162461bcd60e51b815260206004820152602960248201527f4552433732313a2061646472657373207a65726f206973206e6f7420612076616044820152683634b21037bbb732b960b91b60648201526084016105d3565b506001600160a01b031660009081526003602052604090205490565b6109c5610ddb565b6109cf6000610e35565b565b6060600180546104e7906116e0565b6109eb338383610e87565b5050565b6109f93383610bf8565b610a155760405162461bcd60e51b81526004016105d39061176d565b610a2184848484610f55565b50505050565b6060610a3282610b11565b6000610a4960408051602081019091526000815290565b90506000815111610a695760405180602001604052806000815250610a94565b80610a7384610f88565b604051602001610a849291906117ba565b6040516020818303038152906040525b9392505050565b610aa3610ddb565b6001600160a01b038116610b085760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016105d3565b6108a981610e35565b6000818152600260205260409020546001600160a01b03166108a95760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b60448201526064016105d3565b6109eb82826040518060200160405280600081525061101b565b600081815260046020526040902080546001600160a01b0319166001600160a01b0384169081179091558190610bbf826108d7565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b600080610c04836108d7565b9050806001600160a01b0316846001600160a01b03161480610c4b57506001600160a01b0380821660009081526005602090815260408083209388168352929052205460ff165b80610c6f5750836001600160a01b0316610c648461056a565b6001600160a01b0316145b949350505050565b826001600160a01b0316610c8a826108d7565b6001600160a01b031614610cb05760405162461bcd60e51b81526004016105d3906117e9565b6001600160a01b038216610d125760405162461bcd60e51b8152602060048201526024808201527f4552433732313a207472616e7366657220746f20746865207a65726f206164646044820152637265737360e01b60648201526084016105d3565b826001600160a01b0316610d25826108d7565b6001600160a01b031614610d4b5760405162461bcd60e51b81526004016105d3906117e9565b600081815260046020908152604080832080546001600160a01b03199081169091556001600160a01b0387811680865260038552838620805460001901905590871680865283862080546001019055868652600290945282852080549092168417909155905184937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b6006546001600160a01b031633146109cf5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016105d3565b600680546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b816001600160a01b0316836001600160a01b031603610ee85760405162461bcd60e51b815260206004820152601960248201527f4552433732313a20617070726f766520746f2063616c6c65720000000000000060448201526064016105d3565b6001600160a01b03838116600081815260056020908152604080832094871680845294825291829020805460ff191686151590811790915591519182527f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a3505050565b610f60848484610c77565b610f6c8484848461104e565b610a215760405162461bcd60e51b81526004016105d39061182e565b60606000610f958361114f565b600101905060008167ffffffffffffffff811115610fb557610fb561147d565b6040519080825280601f01601f191660200182016040528015610fdf576020820181803683370190505b5090508181016020015b600019016f181899199a1a9b1b9c1cb0b131b232b360811b600a86061a8153600a8504945084610fe957509392505050565b6110258383611227565b611032600084848461104e565b6108325760405162461bcd60e51b81526004016105d39061182e565b60006001600160a01b0384163b1561114457604051630a85bd0160e11b81526001600160a01b0385169063150b7a0290611092903390899088908890600401611880565b6020604051808303816000875af19250505080156110cd575060408051601f3d908101601f191682019092526110ca918101906118bd565b60015b61112a573d8080156110fb576040519150601f19603f3d011682016040523d82523d6000602084013e611100565b606091505b5080516000036111225760405162461bcd60e51b81526004016105d39061182e565b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050610c6f565b506001949350505050565b60008072184f03e93ff9f4daa797ed6e38ed64bf6a1f0160401b831061118e5772184f03e93ff9f4daa797ed6e38ed64bf6a1f0160401b830492506040015b6d04ee2d6d415b85acef810000000083106111ba576d04ee2d6d415b85acef8100000000830492506020015b662386f26fc1000083106111d857662386f26fc10000830492506010015b6305f5e10083106111f0576305f5e100830492506008015b612710831061120457612710830492506004015b60648310611216576064830492506002015b600a83106104d25760010192915050565b6001600160a01b03821661127d5760405162461bcd60e51b815260206004820181905260248201527f4552433732313a206d696e7420746f20746865207a65726f206164647265737360448201526064016105d3565b6000818152600260205260409020546001600160a01b0316156112e25760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e7465640000000060448201526064016105d3565b6000818152600260205260409020546001600160a01b0316156113475760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e7465640000000060448201526064016105d3565b6001600160a01b038216600081815260036020908152604080832080546001019055848352600290915280822080546001600160a01b0319168417905551839291907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6001600160e01b0319811681146108a957600080fd5b6000602082840312156113da57600080fd5b8135610a94816113b2565b6000602082840312156113f757600080fd5b5035919050565b60005b83811015611419578181015183820152602001611401565b50506000910152565b6000815180845261143a8160208601602086016113fe565b601f01601f19169290920160200192915050565b602081526000610a946020830184611422565b80356001600160a01b038116811461147857600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff808411156114ae576114ae61147d565b604051601f8501601f19908116603f011681019082821181831017156114d6576114d661147d565b816040528093508581528686860111156114ef57600080fd5b858560208301376000602087830101525050509392505050565b60008060006060848603121561151e57600080fd5b61152784611461565b9250602084013567ffffffffffffffff81111561154357600080fd5b8401601f8101861361155457600080fd5b61156386823560208401611493565b925050604084013590509250925092565b6000806040838503121561158757600080fd5b61159083611461565b946020939093013593505050565b6000806000606084860312156115b357600080fd5b6115bc84611461565b92506115ca60208501611461565b9150604084013590509250925092565b6000602082840312156115ec57600080fd5b610a9482611461565b6000806040838503121561160857600080fd5b61161183611461565b91506020830135801515811461162657600080fd5b809150509250929050565b6000806000806080858703121561164757600080fd5b61165085611461565b935061165e60208601611461565b925060408501359150606085013567ffffffffffffffff81111561168157600080fd5b8501601f8101871361169257600080fd5b6116a187823560208401611493565b91505092959194509250565b600080604083850312156116c057600080fd5b6116c983611461565b91506116d760208401611461565b90509250929050565b600181811c908216806116f457607f821691505b60208210810361171457634e487b7160e01b600052602260045260246000fd5b50919050565b60006001820161173a57634e487b7160e01b600052601160045260246000fd5b5060010190565b84815260806020820152600061175a6080830186611422565b6040830194909452506060015292915050565b6020808252602d908201527f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560408201526c1c881bdc88185c1c1c9bdd9959609a1b606082015260800190565b600083516117cc8184602088016113fe565b8351908301906117e08183602088016113fe565b01949350505050565b60208082526025908201527f4552433732313a207472616e736665722066726f6d20696e636f72726563742060408201526437bbb732b960d91b606082015260800190565b60208082526032908201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560408201527131b2b4bb32b91034b6b83632b6b2b73a32b960711b606082015260800190565b6001600160a01b03858116825284166020820152604081018390526080606082018190526000906118b390830184611422565b9695505050505050565b6000602082840312156118cf57600080fd5b8151610a94816113b256fea2646970667358221220cec327511dc71d97e862971009b7b33aaee61c6dfcaac96e93db8634167d276e64736f6c63430008140033",l_e="0x6080604052600436106101405760003560e01c806356189236116100b657806395d89b411161006f57806395d89b41146103a8578063a22cb465146103bd578063b88d4fde146103dd578063c87b56dd146103fd578063e985e9c51461041d578063f2fde38b1461046657600080fd5b806356189236146102f35780636352211e146103085780636e3381a01461032857806370a0823114610355578063715018a6146103755780638da5cb5b1461038a57600080fd5b8063095ea7b311610108578063095ea7b3146102225780632330a6ad1461024457806323b872dd146102715780633ccfd60b1461029157806342842e0e146102a65780634b73c85b146102c657600080fd5b806301ffc9a714610145578063034964a61461017a57806306fdde03146101b5578063081812fc146101d757806308598df01461020f575b600080fd5b34801561015157600080fd5b506101656101603660046113c8565b610486565b60405190151581526020015b60405180910390f35b34801561018657600080fd5b506101a76101953660046113e5565b60096020526000908152604090205481565b604051908152602001610171565b3480156101c157600080fd5b506101ca6104d8565b604051610171919061144e565b3480156101e357600080fd5b506101f76101f23660046113e5565b61056a565b6040516001600160a01b039091168152602001610171565b6101a761021d366004611509565b610591565b34801561022e57600080fd5b5061024261023d366004611574565b610722565b005b34801561025057600080fd5b506101a761025f3660046113e5565b60009081526008602052604090205490565b34801561027d57600080fd5b5061024261028c36600461159e565b610837565b34801561029d57600080fd5b50610242610868565b3480156102b257600080fd5b506102426102c136600461159e565b6108ac565b3480156102d257600080fd5b506101a76102e13660046113e5565b600a6020526000908152604090205481565b3480156102ff57600080fd5b506101a76108c7565b34801561031457600080fd5b506101f76103233660046113e5565b6108d7565b34801561033457600080fd5b506101a76103433660046113e5565b60086020526000908152604090205481565b34801561036157600080fd5b506101a76103703660046115da565b610937565b34801561038157600080fd5b506102426109bd565b34801561039657600080fd5b506006546001600160a01b03166101f7565b3480156103b457600080fd5b506101ca6109d1565b3480156103c957600080fd5b506102426103d83660046115f5565b6109e0565b3480156103e957600080fd5b506102426103f8366004611631565b6109ef565b34801561040957600080fd5b506101ca6104183660046113e5565b610a27565b34801561042957600080fd5b506101656104383660046116ad565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b34801561047257600080fd5b506102426104813660046115da565b610a9b565b60006001600160e01b031982166380ac58cd60e01b14806104b757506001600160e01b03198216635b5e139f60e01b145b806104d257506301ffc9a760e01b6001600160e01b03198316145b92915050565b6060600080546104e7906116e0565b80601f0160208091040260200160405190810160405280929190818152602001828054610513906116e0565b80156105605780601f1061053557610100808354040283529160200191610560565b820191906000526020600020905b81548152906001019060200180831161054357829003601f168201915b5050505050905090565b600061057582610b11565b506000908152600460205260409020546001600160a01b031690565b600060038211156105dc5760405162461bcd60e51b815260206004820152601060248201526f496e76616c6964204e4654207479706560801b60448201526064015b60405180910390fd5b6000826000036105f557506706f05b59d3b20000610626565b8260010361060c5750670a688906bd8b0000610626565b826002036106235750670de0b6b3a7640000610626565b50345b8034101561066d5760405162461bcd60e51b8152602060048201526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b60448201526064016105d3565b61067b600780546001019055565b600061068660075490565b90506106928682610b70565b60008481526008602052604081208054916106ac8361171a565b90915550506000818152600960209081526040808320879055600a90915290819020429081905590516001600160a01b038816917fe8915ac6c158f57d31247fae068c0e2ca5206c051f0f5fd91cfbe6451434004f916107119185918a918a91611741565b60405180910390a295945050505050565b600061072d826108d7565b9050806001600160a01b0316836001600160a01b03160361079a5760405162461bcd60e51b815260206004820152602160248201527f4552433732313a20617070726f76616c20746f2063757272656e74206f776e656044820152603960f91b60648201526084016105d3565b336001600160a01b03821614806107b657506107b68133610438565b6108285760405162461bcd60e51b815260206004820152603d60248201527f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60448201527f6b656e206f776e6572206f7220617070726f76656420666f7220616c6c00000060648201526084016105d3565b6108328383610b8a565b505050565b6108413382610bf8565b61085d5760405162461bcd60e51b81526004016105d39061176d565b610832838383610c77565b610870610ddb565b6006546040516001600160a01b03909116904780156108fc02916000818181858888f193505050501580156108a9573d6000803e3d6000fd5b50565b610832838383604051806020016040528060008152506109ef565b60006108d260075490565b905090565b6000818152600260205260408120546001600160a01b0316806104d25760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b60448201526064016105d3565b60006001600160a01b0382166109a15760405162461bcd60e51b815260206004820152602960248201527f4552433732313a2061646472657373207a65726f206973206e6f7420612076616044820152683634b21037bbb732b960b91b60648201526084016105d3565b506001600160a01b031660009081526003602052604090205490565b6109c5610ddb565b6109cf6000610e35565b565b6060600180546104e7906116e0565b6109eb338383610e87565b5050565b6109f93383610bf8565b610a155760405162461bcd60e51b81526004016105d39061176d565b610a2184848484610f55565b50505050565b6060610a3282610b11565b6000610a4960408051602081019091526000815290565b90506000815111610a695760405180602001604052806000815250610a94565b80610a7384610f88565b604051602001610a849291906117ba565b6040516020818303038152906040525b9392505050565b610aa3610ddb565b6001600160a01b038116610b085760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016105d3565b6108a981610e35565b6000818152600260205260409020546001600160a01b03166108a95760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b60448201526064016105d3565b6109eb82826040518060200160405280600081525061101b565b600081815260046020526040902080546001600160a01b0319166001600160a01b0384169081179091558190610bbf826108d7565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b600080610c04836108d7565b9050806001600160a01b0316846001600160a01b03161480610c4b57506001600160a01b0380821660009081526005602090815260408083209388168352929052205460ff165b80610c6f5750836001600160a01b0316610c648461056a565b6001600160a01b0316145b949350505050565b826001600160a01b0316610c8a826108d7565b6001600160a01b031614610cb05760405162461bcd60e51b81526004016105d3906117e9565b6001600160a01b038216610d125760405162461bcd60e51b8152602060048201526024808201527f4552433732313a207472616e7366657220746f20746865207a65726f206164646044820152637265737360e01b60648201526084016105d3565b826001600160a01b0316610d25826108d7565b6001600160a01b031614610d4b5760405162461bcd60e51b81526004016105d3906117e9565b600081815260046020908152604080832080546001600160a01b03199081169091556001600160a01b0387811680865260038552838620805460001901905590871680865283862080546001019055868652600290945282852080549092168417909155905184937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b6006546001600160a01b031633146109cf5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016105d3565b600680546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b816001600160a01b0316836001600160a01b031603610ee85760405162461bcd60e51b815260206004820152601960248201527f4552433732313a20617070726f766520746f2063616c6c65720000000000000060448201526064016105d3565b6001600160a01b03838116600081815260056020908152604080832094871680845294825291829020805460ff191686151590811790915591519182527f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a3505050565b610f60848484610c77565b610f6c8484848461104e565b610a215760405162461bcd60e51b81526004016105d39061182e565b60606000610f958361114f565b600101905060008167ffffffffffffffff811115610fb557610fb561147d565b6040519080825280601f01601f191660200182016040528015610fdf576020820181803683370190505b5090508181016020015b600019016f181899199a1a9b1b9c1cb0b131b232b360811b600a86061a8153600a8504945084610fe957509392505050565b6110258383611227565b611032600084848461104e565b6108325760405162461bcd60e51b81526004016105d39061182e565b60006001600160a01b0384163b1561114457604051630a85bd0160e11b81526001600160a01b0385169063150b7a0290611092903390899088908890600401611880565b6020604051808303816000875af19250505080156110cd575060408051601f3d908101601f191682019092526110ca918101906118bd565b60015b61112a573d8080156110fb576040519150601f19603f3d011682016040523d82523d6000602084013e611100565b606091505b5080516000036111225760405162461bcd60e51b81526004016105d39061182e565b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050610c6f565b506001949350505050565b60008072184f03e93ff9f4daa797ed6e38ed64bf6a1f0160401b831061118e5772184f03e93ff9f4daa797ed6e38ed64bf6a1f0160401b830492506040015b6d04ee2d6d415b85acef810000000083106111ba576d04ee2d6d415b85acef8100000000830492506020015b662386f26fc1000083106111d857662386f26fc10000830492506010015b6305f5e10083106111f0576305f5e100830492506008015b612710831061120457612710830492506004015b60648310611216576064830492506002015b600a83106104d25760010192915050565b6001600160a01b03821661127d5760405162461bcd60e51b815260206004820181905260248201527f4552433732313a206d696e7420746f20746865207a65726f206164647265737360448201526064016105d3565b6000818152600260205260409020546001600160a01b0316156112e25760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e7465640000000060448201526064016105d3565b6000818152600260205260409020546001600160a01b0316156113475760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e7465640000000060448201526064016105d3565b6001600160a01b038216600081815260036020908152604080832080546001019055848352600290915280822080546001600160a01b0319168417905551839291907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6001600160e01b0319811681146108a957600080fd5b6000602082840312156113da57600080fd5b8135610a94816113b2565b6000602082840312156113f757600080fd5b5035919050565b60005b83811015611419578181015183820152602001611401565b50506000910152565b6000815180845261143a8160208601602086016113fe565b601f01601f19169290920160200192915050565b602081526000610a946020830184611422565b80356001600160a01b038116811461147857600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff808411156114ae576114ae61147d565b604051601f8501601f19908116603f011681019082821181831017156114d6576114d661147d565b816040528093508581528686860111156114ef57600080fd5b858560208301376000602087830101525050509392505050565b60008060006060848603121561151e57600080fd5b61152784611461565b9250602084013567ffffffffffffffff81111561154357600080fd5b8401601f8101861361155457600080fd5b61156386823560208401611493565b925050604084013590509250925092565b6000806040838503121561158757600080fd5b61159083611461565b946020939093013593505050565b6000806000606084860312156115b357600080fd5b6115bc84611461565b92506115ca60208501611461565b9150604084013590509250925092565b6000602082840312156115ec57600080fd5b610a9482611461565b6000806040838503121561160857600080fd5b61161183611461565b91506020830135801515811461162657600080fd5b809150509250929050565b6000806000806080858703121561164757600080fd5b61165085611461565b935061165e60208601611461565b925060408501359150606085013567ffffffffffffffff81111561168157600080fd5b8501601f8101871361169257600080fd5b6116a187823560208401611493565b91505092959194509250565b600080604083850312156116c057600080fd5b6116c983611461565b91506116d760208401611461565b90509250929050565b600181811c908216806116f457607f821691505b60208210810361171457634e487b7160e01b600052602260045260246000fd5b50919050565b60006001820161173a57634e487b7160e01b600052601160045260246000fd5b5060010190565b84815260806020820152600061175a6080830186611422565b6040830194909452506060015292915050565b6020808252602d908201527f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560408201526c1c881bdc88185c1c1c9bdd9959609a1b606082015260800190565b600083516117cc8184602088016113fe565b8351908301906117e08183602088016113fe565b01949350505050565b60208082526025908201527f4552433732313a207472616e736665722066726f6d20696e636f72726563742060408201526437bbb732b960d91b606082015260800190565b60208082526032908201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560408201527131b2b4bb32b91034b6b83632b6b2b73a32b960711b606082015260800190565b6001600160a01b03858116825284166020820152604081018390526080606082018190526000906118b390830184611422565b9695505050505050565b6000602082840312156118cf57600080fd5b8151610a94816113b256fea2646970667358221220cec327511dc71d97e862971009b7b33aaee61c6dfcaac96e93db8634167d276e64736f6c63430008140033",d_e={},f_e={},Tj={_format:s_e,contractName:o_e,sourceName:a_e,abi:c_e,bytecode:u_e,deployedBytecode:l_e,linkReferences:d_e,deployedLinkReferences:f_e};const h_e="0x9fABC73C4ab85A45AFC536eCc2ce4929c812F3B1";function XR({userAddress:t}){const{data:e}=Qbe(),{isConnected:r}=fS(),n=Kbe();Yd();const[i,s]=ie.useState(!1),[o,a]=ie.useState(""),[c,u]=ie.useState("0"),[l,d]=ie.useState("");ie.useEffect(()=>{(async()=>{if(r&&t&&n)try{const p=await n.getBalance({address:t}),g=rE(p);u(g)}catch(p){console.error("Error fetching balance:",p),a("Failed to fetch balance")}})()},[r,t,n]);const f=async h=>{if(!r||!e){a("Please connect your wallet");return}s(!0),a(""),d("");try{const p=Hfe({address:h_e,abi:Tj,client:{wallet:e,public:n}});let g,w;switch(h){case"loyalty":g=p.write.mintLoyaltyNFT,w=kA("0.01");break;case"supporter":g=p.write.mintSupporterNFT,w=kA("0.05");break;case"vip":g=p.write.mintVIPNFT,w=kA("0.1");break;default:throw new Error("Invalid NFT tier")}const y=await p.estimateGas.mintLoyaltyNFT({account:t,value:w}),{request:b}=await p.simulate.mintLoyaltyNFT({account:t,value:w}),E=await e.writeTransaction(b);if(d(E),(await n.waitForTransactionReceipt({hash:E})).status==="success")console.log(`${h} NFT minted successfully! Transaction hash: ${E}`);else throw new Error("Transaction failed")}catch(p){console.error("Error minting NFT:",p),a(`Failed to mint ${h} NFT: ${p.message}`)}finally{s(!1)}};return F.jsxs("div",{className:"nft-minter",children:[F.jsx("h2",{children:"Mint Your NFT"}),F.jsxs("p",{children:["Wallet Balance: ",c," ETH"]}),r?F.jsxs("div",{className:"mint-buttons",children:[F.jsx("button",{onClick:()=>f("loyalty"),disabled:i,className:"mint-button",children:i?"Minting...":"Mint Loyalty NFT (0.01 ETH)"}),F.jsx("button",{onClick:()=>f("supporter"),disabled:i,className:"mint-button",children:i?"Minting...":"Mint Supporter NFT (0.05 ETH)"}),F.jsx("button",{onClick:()=>f("vip"),disabled:i,className:"mint-button",children:i?"Minting...":"Mint VIP NFT (0.1 ETH)"})]}):F.jsx("p",{children:"Please connect your wallet to mint NFTs"}),o&&F.jsx("p",{className:"error-message",children:o}),l&&F.jsxs("p",{className:"success-message",children:["Transaction successful!"," ",F.jsx("a",{href:`https://amoy.polygonscan.com/tx/${l}`,target:"_blank",rel:"noopener noreferrer",children:"View on PolygonScan"})]})]})}var US={exports:{}},Pj=function(e,r){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(r,i)}},p_e=Pj,ul=Object.prototype.toString;function FS(t){return Array.isArray(t)}function GC(t){return typeof t>"u"}function g_e(t){return t!==null&&!GC(t)&&t.constructor!==null&&!GC(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Rj(t){return ul.call(t)==="[object ArrayBuffer]"}function m_e(t){return ul.call(t)==="[object FormData]"}function y_e(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Rj(t.buffer),e}function w_e(t){return typeof t=="string"}function b_e(t){return typeof t=="number"}function Oj(t){return t!==null&&typeof t=="object"}function Mw(t){if(ul.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function v_e(t){return ul.call(t)==="[object Date]"}function E_e(t){return ul.call(t)==="[object File]"}function A_e(t){return ul.call(t)==="[object Blob]"}function kj(t){return ul.call(t)==="[object Function]"}function __e(t){return Oj(t)&&kj(t.pipe)}function C_e(t){return ul.call(t)==="[object URLSearchParams]"}function x_e(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function S_e(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function $S(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),FS(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function KC(){var t={};function e(i,s){Mw(t[s])&&Mw(i)?t[s]=KC(t[s],i):Mw(i)?t[s]=KC({},i):FS(i)?t[s]=i.slice():t[s]=i}for(var r=0,n=arguments.length;r<n;r++)$S(arguments[r],e);return t}function I_e(t,e,r){return $S(e,function(i,s){r&&typeof i=="function"?t[s]=p_e(i,r):t[s]=i}),t}function N_e(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var qi={isArray:FS,isArrayBuffer:Rj,isBuffer:g_e,isFormData:m_e,isArrayBufferView:y_e,isString:w_e,isNumber:b_e,isObject:Oj,isPlainObject:Mw,isUndefined:GC,isDate:v_e,isFile:E_e,isBlob:A_e,isFunction:kj,isStream:__e,isURLSearchParams:C_e,isStandardBrowserEnv:S_e,forEach:$S,merge:KC,extend:I_e,trim:x_e,stripBOM:N_e},Nf=qi;function eO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Dj=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Nf.isURLSearchParams(r))i=r.toString();else{var s=[];Nf.forEach(r,function(c,u){c===null||typeof c>"u"||(Nf.isArray(c)?u=u+"[]":c=[c],Nf.forEach(c,function(d){Nf.isDate(d)?d=d.toISOString():Nf.isObject(d)&&(d=JSON.stringify(d)),s.push(eO(u)+"="+eO(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},T_e=qi;function ME(){this.handlers=[]}ME.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};ME.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ME.prototype.forEach=function(e){T_e.forEach(this.handlers,function(n){n!==null&&e(n)})};var P_e=ME,R_e=qi,O_e=function(e,r){R_e.forEach(e,function(i,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[s])})},Mj=function(e,r,n,i,s){return e.config=r,n&&(e.code=n),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Bj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v6,tO;function Uj(){if(tO)return v6;tO=1;var t=Mj;return v6=function(r,n,i,s,o){var a=new Error(r);return t(a,n,i,s,o)},v6}var E6,rO;function k_e(){if(rO)return E6;rO=1;var t=Uj();return E6=function(r,n,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},E6}var A6,nO;function D_e(){if(nO)return A6;nO=1;var t=qi;return A6=t.isStandardBrowserEnv()?function(){return{write:function(n,i,s,o,a,c){var u=[];u.push(n+"="+encodeURIComponent(i)),t.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),A6}var _6,iO;function M_e(){return iO||(iO=1,_6=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),_6}var C6,sO;function B_e(){return sO||(sO=1,C6=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),C6}var x6,oO;function U_e(){if(oO)return x6;oO=1;var t=M_e(),e=B_e();return x6=function(n,i){return n&&!t(i)?e(n,i):i},x6}var S6,aO;function F_e(){if(aO)return S6;aO=1;var t=qi,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return S6=function(n){var i={},s,o,a;return n&&t.forEach(n.split(`
`),function(u){if(a=u.indexOf(":"),s=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},S6}var I6,cO;function $_e(){if(cO)return I6;cO=1;var t=qi;return I6=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function s(o){var a=o;return r&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(a){var c=t.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),I6}var N6,uO;function BE(){if(uO)return N6;uO=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,N6=t,N6}var T6,lO;function dO(){if(lO)return T6;lO=1;var t=qi,e=k_e(),r=D_e(),n=Dj,i=U_e(),s=F_e(),o=$_e(),a=Uj(),c=Bj,u=BE();return T6=function(d){return new Promise(function(h,p){var g=d.data,w=d.headers,y=d.responseType,b;function E(){d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}t.isFormData(g)&&delete w["Content-Type"];var x=new XMLHttpRequest;if(d.auth){var N=d.auth.username||"",O=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";w.Authorization="Basic "+btoa(N+":"+O)}var k=i(d.baseURL,d.url);x.open(d.method.toUpperCase(),n(k,d.params,d.paramsSerializer),!0),x.timeout=d.timeout;function U(){if(x){var W="getAllResponseHeaders"in x?s(x.getAllResponseHeaders()):null,H=!y||y==="text"||y==="json"?x.responseText:x.response,Q={data:H,status:x.status,statusText:x.statusText,headers:W,config:d,request:x};e(function(m){h(m),E()},function(m){p(m),E()},Q),x=null}}if("onloadend"in x?x.onloadend=U:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(U)},x.onabort=function(){x&&(p(a("Request aborted",d,"ECONNABORTED",x)),x=null)},x.onerror=function(){p(a("Network Error",d,null,x)),x=null},x.ontimeout=function(){var H=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",Q=d.transitional||c;d.timeoutErrorMessage&&(H=d.timeoutErrorMessage),p(a(H,d,Q.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},t.isStandardBrowserEnv()){var D=(d.withCredentials||o(k))&&d.xsrfCookieName?r.read(d.xsrfCookieName):void 0;D&&(w[d.xsrfHeaderName]=D)}"setRequestHeader"in x&&t.forEach(w,function(H,Q){typeof g>"u"&&Q.toLowerCase()==="content-type"?delete w[Q]:x.setRequestHeader(Q,H)}),t.isUndefined(d.withCredentials)||(x.withCredentials=!!d.withCredentials),y&&y!=="json"&&(x.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&x.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(b=function(W){x&&(p(!W||W&&W.type?new u("canceled"):W),x.abort(),x=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b))),g||(g=null),x.send(g)})},T6}var Mn=qi,fO=O_e,L_e=Mj,j_e=Bj,z_e={"Content-Type":"application/x-www-form-urlencoded"};function hO(t,e){!Mn.isUndefined(t)&&Mn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function q_e(){var t;return(typeof XMLHttpRequest<"u"||typeof kr<"u"&&Object.prototype.toString.call(kr)==="[object process]")&&(t=dO()),t}function H_e(t,e,r){if(Mn.isString(t))try{return(e||JSON.parse)(t),Mn.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var UE={transitional:j_e,adapter:q_e(),transformRequest:[function(e,r){return fO(r,"Accept"),fO(r,"Content-Type"),Mn.isFormData(e)||Mn.isArrayBuffer(e)||Mn.isBuffer(e)||Mn.isStream(e)||Mn.isFile(e)||Mn.isBlob(e)?e:Mn.isArrayBufferView(e)?e.buffer:Mn.isURLSearchParams(e)?(hO(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Mn.isObject(e)||r&&r["Content-Type"]==="application/json"?(hO(r,"application/json"),H_e(e)):e}],transformResponse:[function(e){var r=this.transitional||UE.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||i&&Mn.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?L_e(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Mn.forEach(["delete","get","head"],function(e){UE.headers[e]={}});Mn.forEach(["post","put","patch"],function(e){UE.headers[e]=Mn.merge(z_e)});var LS=UE,W_e=qi,V_e=LS,G_e=function(e,r,n){var i=this||V_e;return W_e.forEach(n,function(o){e=o.call(i,e,r)}),e},P6,pO;function Fj(){return pO||(pO=1,P6=function(e){return!!(e&&e.__CANCEL__)}),P6}var gO=qi,R6=G_e,K_e=Fj(),Q_e=LS,Y_e=BE();function O6(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Y_e("canceled")}var J_e=function(e){O6(e),e.headers=e.headers||{},e.data=R6.call(e,e.data,e.headers,e.transformRequest),e.headers=gO.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),gO.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Q_e.adapter;return r(e).then(function(i){return O6(e),i.data=R6.call(e,i.data,i.headers,e.transformResponse),i},function(i){return K_e(i)||(O6(e),i&&i.response&&(i.response.data=R6.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Gi=qi,$j=function(e,r){r=r||{};var n={};function i(l,d){return Gi.isPlainObject(l)&&Gi.isPlainObject(d)?Gi.merge(l,d):Gi.isPlainObject(d)?Gi.merge({},d):Gi.isArray(d)?d.slice():d}function s(l){if(Gi.isUndefined(r[l])){if(!Gi.isUndefined(e[l]))return i(void 0,e[l])}else return i(e[l],r[l])}function o(l){if(!Gi.isUndefined(r[l]))return i(void 0,r[l])}function a(l){if(Gi.isUndefined(r[l])){if(!Gi.isUndefined(e[l]))return i(void 0,e[l])}else return i(void 0,r[l])}function c(l){if(l in r)return i(e[l],r[l]);if(l in e)return i(void 0,e[l])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Gi.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var f=u[d]||s,h=f(d);Gi.isUndefined(h)&&f!==c||(n[d]=h)}),n},k6,mO;function Lj(){return mO||(mO=1,k6={version:"0.26.1"}),k6}var Z_e=Lj().version,jS={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){jS[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var yO={};jS.transitional=function(e,r,n){function i(s,o){return"[Axios v"+Z_e+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return function(s,o,a){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!yO[o]&&(yO[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function X_e(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var s=n[i],o=e[s];if(o){var a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new TypeError("option "+s+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+s)}}var eCe={assertOptions:X_e,validators:jS},jj=qi,tCe=Dj,wO=P_e,bO=J_e,FE=$j,zj=eCe,Tf=zj.validators;function jy(t){this.defaults=t,this.interceptors={request:new wO,response:new wO}}jy.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=FE(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&zj.assertOptions(n,{silentJSONParsing:Tf.transitional(Tf.boolean),forcedJSONParsing:Tf.transitional(Tf.boolean),clarifyTimeoutError:Tf.transitional(Tf.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(s=s&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var o=[];this.interceptors.response.forEach(function(h){o.push(h.fulfilled,h.rejected)});var a;if(!s){var c=[bO,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(r);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=r;i.length;){var l=i.shift(),d=i.shift();try{u=l(u)}catch(f){d(f);break}}try{a=bO(u)}catch(f){return Promise.reject(f)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};jy.prototype.getUri=function(e){return e=FE(this.defaults,e),tCe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};jj.forEach(["delete","get","head","options"],function(e){jy.prototype[e]=function(r,n){return this.request(FE(n||{},{method:e,url:r,data:(n||{}).data}))}});jj.forEach(["post","put","patch"],function(e){jy.prototype[e]=function(r,n,i){return this.request(FE(i||{},{method:e,url:r,data:n}))}});var rCe=jy,D6,vO;function nCe(){if(vO)return D6;vO=1;var t=BE();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},D6=e,D6}var M6,EO;function iCe(){return EO||(EO=1,M6=function(e){return function(n){return e.apply(null,n)}}),M6}var B6,AO;function sCe(){if(AO)return B6;AO=1;var t=qi;return B6=function(r){return t.isObject(r)&&r.isAxiosError===!0},B6}var _O=qi,oCe=Pj,Bw=rCe,aCe=$j,cCe=LS;function qj(t){var e=new Bw(t),r=oCe(Bw.prototype.request,e);return _O.extend(r,Bw.prototype,e),_O.extend(r,e),r.create=function(i){return qj(aCe(t,i))},r}var Oa=qj(cCe);Oa.Axios=Bw;Oa.Cancel=BE();Oa.CancelToken=nCe();Oa.isCancel=Fj();Oa.VERSION=Lj().version;Oa.all=function(e){return Promise.all(e)};Oa.spread=iCe();Oa.isAxiosError=sCe();US.exports=Oa;US.exports.default=Oa;var uCe=US.exports,lCe=uCe;const Hj=Pa(lCe);var et;(function(t){t.ETH_MAINNET="eth-mainnet",t.ETH_ROPSTEN="eth-ropsten",t.ETH_GOERLI="eth-goerli",t.ETH_KOVAN="eth-kovan",t.ETH_RINKEBY="eth-rinkeby",t.ETH_SEPOLIA="eth-sepolia",t.OPT_MAINNET="opt-mainnet",t.OPT_KOVAN="opt-kovan",t.OPT_GOERLI="opt-goerli",t.OPT_SEPOLIA="opt-sepolia",t.ARB_MAINNET="arb-mainnet",t.ARB_RINKEBY="arb-rinkeby",t.ARB_GOERLI="arb-goerli",t.ARB_SEPOLIA="arb-sepolia",t.MATIC_MAINNET="polygon-mainnet",t.MATIC_MUMBAI="polygon-mumbai",t.ASTAR_MAINNET="astar-mainnet",t.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",t.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",t.BASE_MAINNET="base-mainnet",t.BASE_GOERLI="base-goerli",t.BASE_SEPOLIA="base-sepolia"})(et||(et={}));var ig;(function(t){t.DEFAULT_TOKENS="DEFAULT_TOKENS",t.ERC20="erc20"})(ig||(ig={}));var Us;(function(t){t.EXTERNAL="external",t.INTERNAL="internal",t.ERC20="erc20",t.ERC721="erc721",t.ERC1155="erc1155",t.SPECIALNFT="specialnft"})(Us||(Us={}));var CO;(function(t){t.ASCENDING="asc",t.DESCENDING="desc"})(CO||(CO={}));var rs;(function(t){t.ERC721="ERC721",t.ERC1155="ERC1155",t.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",t.NOT_A_CONTRACT="NOT_A_CONTRACT",t.UNKNOWN="UNKNOWN"})(rs||(rs={}));var xO;(function(t){t.Erc721TooManyOwners="Erc721TooManyOwners",t.Erc721TooManyTokens="Erc721TooManyTokens",t.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",t.MostlyHoneyPotOwners="MostlyHoneyPotOwners",t.OwnedByMostHoneyPots="OwnedByMostHoneyPots"})(xO||(xO={}));var SO;(function(t){t.SPAM="SPAM",t.AIRDROPS="AIRDROPS"})(SO||(SO={}));var IO;(function(t){t.SPAM="SPAM",t.AIRDROPS="AIRDROPS"})(IO||(IO={}));var NO;(function(t){t.TRANSFERTIME="TRANSFERTIME"})(NO||(NO={}));var QC;(function(t){t.TO="TO",t.FROM="FROM"})(QC||(QC={}));var TO;(function(t){t.ASCENDING="asc",t.DESCENDING="desc"})(TO||(TO={}));var Ya;(function(t){t.SEAPORT="seaport",t.LOOKSRARE="looksrare",t.X2Y2="x2y2",t.WYVERN="wyvern",t.CRYPTOPUNKS="cryptopunks",t.BLUR="blur",t.UNKNOWN="unknown"})(Ya||(Ya={}));var ov;(function(t){t.BUYER="buyer",t.SELLER="seller"})(ov||(ov={}));var ou;(function(t){t.DOES_NOT_EXIST="does_not_exist",t.ALREADY_QUEUED="already_queued",t.IN_PROGRESS="in_progress",t.FINISHED="finished",t.QUEUED="queued",t.QUEUE_FAILED="queue_failed"})(ou||(ou={}));var YC;(function(t){t.VERIFIED="verified",t.APPROVED="approved",t.REQUESTED="requested",t.NOT_REQUESTED="not_requested"})(YC||(YC={}));var el;(function(t){t.PENDING_TRANSACTIONS="alchemy_pendingTransactions",t.MINED_TRANSACTIONS="alchemy_minedTransactions"})(el||(el={}));var PO;(function(t){t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SPECIAL_NFT="SPECIAL_NFT"})(PO||(PO={}));var RO;(function(t){t.APPROVE="APPROVE",t.TRANSFER="TRANSFER"})(RO||(RO={}));var OO;(function(t){t.ETHERSCAN="ETHERSCAN"})(OO||(OO={}));var kO;(function(t){t.CREATE="CREATE",t.CALL="CALL",t.STATICCALL="STATICCALL",t.DELEGATECALL="DELEGATECALL"})(kO||(kO={}));var DO;(function(t){t.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETE="COMPLETE",t.ABANDONED="ABANDONED"})(DO||(DO={}));var MO;(function(t){t.V1="V1",t.V2="V2"})(MO||(MO={}));var Ja;(function(t){t.MINED_TRANSACTION="MINED_TRANSACTION",t.DROPPED_TRANSACTION="DROPPED_TRANSACTION",t.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",t.NFT_ACTIVITY="NFT_ACTIVITY",t.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",t.GRAPHQL="GRAPHQL"})(Ja||(Ja={}));var BO;(function(t){t.PENDING="pending",t.LATEST="latest",t.SAFE="safe",t.FINALIZED="finalized",t.EARLIEST="earliest"})(BO||(BO={}));var UO;(function(t){t.CALL_TRACER="callTracer",t.PRESTATE_TRACER="prestateTracer"})(UO||(UO={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function le(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function FO(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function No(t){return this instanceof No?(this.v=t,this):new No(t)}function zS(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(p){d(s[0][3],p)}}function c(f){f.value instanceof No?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Wj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof FO=="function"?FO(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}const dCe="demo",fCe=et.ETH_MAINNET,hCe=5,pCe=0;function gCe(t,e){return`https://${t}.g.alchemy.com/v2/${e}`}function mCe(t,e){return`https://${t}.g.alchemy.com/nft/v2/${e}`}function zSe(t,e){return`wss://${t}.g.alchemy.com/v2/${e}`}function yCe(){return"https://dashboard.alchemy.com/api"}var Zt;(function(t){t[t.BASE=0]="BASE",t[t.NFT=1]="NFT",t[t.WEBHOOK=2]="WEBHOOK"})(Zt||(Zt={}));const qSe={[et.ETH_MAINNET]:"mainnet",[et.ETH_ROPSTEN]:"ropsten",[et.ETH_GOERLI]:"goerli",[et.ETH_KOVAN]:"kovan",[et.ETH_RINKEBY]:"rinkeby",[et.ETH_SEPOLIA]:"sepolia",[et.OPT_MAINNET]:"optimism",[et.OPT_KOVAN]:"optimism-kovan",[et.OPT_GOERLI]:"optimism-goerli",[et.OPT_SEPOLIA]:"optimism-sepolia",[et.ARB_MAINNET]:"arbitrum",[et.ARB_RINKEBY]:"arbitrum-rinkeby",[et.ARB_GOERLI]:"arbitrum-goerli",[et.ARB_SEPOLIA]:"arbitrum-sepolia",[et.MATIC_MAINNET]:"matic",[et.MATIC_MUMBAI]:"maticmum",[et.ASTAR_MAINNET]:"astar-mainnet",[et.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[et.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[et.BASE_MAINNET]:"base-mainnet",[et.BASE_GOERLI]:"base-goerli",[et.BASE_SEPOLIA]:"base-sepolia"},HSe={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"}};function WSe(){}const Vj="0x",wCe="0x0000000000000000000000000000000000000000";class bCe{constructor(e){this.apiKey=(e==null?void 0:e.apiKey)||dCe,this.network=(e==null?void 0:e.network)||fCe,this.maxRetries=(e==null?void 0:e.maxRetries)||hCe,this.url=e==null?void 0:e.url,this.authToken=e==null?void 0:e.authToken,this.batchRequests=(e==null?void 0:e.batchRequests)||!1,this.requestTimeout=(e==null?void 0:e.requestTimeout)||pCe}_getRequestUrl(e){return this.url!==void 0?this.url:e===Zt.NFT?mCe(this.network,this.apiKey):e===Zt.WEBHOOK?yCe():gCe(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=(()=>le(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield Zn(()=>import("./alchemy-provider-8993bb18-1a55950d.js"),[]);return new e(this)}))()),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=(()=>le(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield Zn(()=>import("./alchemy-websocket-provider-b4c4e0c1-796a557d.js"),["assets/alchemy-websocket-provider-b4c4e0c1-796a557d.js","assets/alchemy-provider-8993bb18-1a55950d.js"]);return new e(this)}))()),this._baseAlchemyWssProvider}}const vCe="logger/5.7.0";let $O=!1,LO=!1;const Uw={debug:1,default:2,info:2,warning:3,error:4,off:5};let jO=Uw.default,U6=null;function ECe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const zO=ECe();var JC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(JC||(JC={}));var fo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(fo||(fo={}));const qO="0123456789abcdef";class Tr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Uw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(jO>Uw[n])&&console.log.apply(console,r)}debug(...e){this._log(Tr.levels.DEBUG,e)}info(...e){this._log(Tr.levels.INFO,e)}warn(...e){this._log(Tr.levels.WARNING,e)}makeError(e,r,n){if(LO)return this.makeError("censored error",r,{});r||(r=Tr.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const u=n[c];try{if(u instanceof Uint8Array){let l="";for(let d=0;d<u.length;d++)l+=qO[u[d]>>4],l+=qO[u[d]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(u))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case fo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case fo.CALL_EXCEPTION:case fo.INSUFFICIENT_FUNDS:case fo.MISSING_NEW:case fo.NONCE_EXPIRED:case fo.REPLACEMENT_UNDERPRICED:case fo.TRANSACTION_REPLACED:case fo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Tr.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){zO&&this.throwError("platform missing String.prototype.normalize",Tr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:zO})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Tr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Tr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Tr.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Tr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Tr.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Tr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Tr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return U6||(U6=new Tr(vCe)),U6}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Tr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$O){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}LO=!!e,$O=!!r}static setLogLevel(e){const r=Uw[e.toLowerCase()];if(r==null){Tr.globalLogger().warn("invalid log level - "+e);return}jO=r}static from(e){return new Tr(e)}}Tr.errors=fo;Tr.levels=JC;const ACe="properties/5.7.0";var _Ce=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Gj=new Tr(ACe);function CCe(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Kj(t){return _Ce(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}const xCe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Qj(t){if(t==null||xCe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Qj(n))return!1}return!0}return Gj.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function SCe(t){if(Qj(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>HO(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&CCe(e,r,HO(n))}return e}return Gj.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function HO(t){return SCe(t)}function ICe(t){return oe.from(t).toNumber()}function $E(t){return oe.from(t).toHexString()}function WO(t){return typeof t=="string"?t:Number.isInteger(t)?$E(t):t.toString()}function NCe(t,e){return Object.values(e).includes(t)?t:void 0}function qS(t){return{address:t.address,name:t.contractMetadata.name,symbol:t.contractMetadata.symbol,totalSupply:t.contractMetadata.totalSupply,tokenType:LE(t.contractMetadata.tokenType),openSea:HS(t.contractMetadata.openSea),contractDeployer:t.contractMetadata.contractDeployer,deployedBlockNumber:t.contractMetadata.deployedBlockNumber}}function Yj(t,e){var r;return{contract:e?{address:e}:t.contract,tokenId:oe.from(t.id.tokenId).toString(),tokenType:LE((r=t.id.tokenMetadata)===null||r===void 0?void 0:r.tokenType)}}function zy(t){var e,r,n,i,s,o,a;try{const c=LE((e=t.id.tokenMetadata)===null||e===void 0?void 0:e.tokenType),u=MCe(t.spamInfo);return{contract:{address:t.contract.address,name:(r=t.contractMetadata)===null||r===void 0?void 0:r.name,symbol:(n=t.contractMetadata)===null||n===void 0?void 0:n.symbol,totalSupply:(i=t.contractMetadata)===null||i===void 0?void 0:i.totalSupply,tokenType:c,openSea:HS((s=t.contractMetadata)===null||s===void 0?void 0:s.openSea),contractDeployer:(o=t.contractMetadata)===null||o===void 0?void 0:o.contractDeployer,deployedBlockNumber:(a=t.contractMetadata)===null||a===void 0?void 0:a.deployedBlockNumber},tokenId:DCe(t.id.tokenId),tokenType:c,title:t.title,description:BCe(t.description),timeLastUpdated:t.timeLastUpdated,metadataError:t.error,rawMetadata:t.metadata,tokenUri:Jj(t.tokenUri),media:UCe(t.media),spamInfo:u,acquiredAt:t.acquiredAt}}catch(c){throw new Error("Error parsing the NFT response: "+c)}}function TCe(t){var e,r;return{nftSales:t.nftSales.map(n=>({marketplace:PCe(n.marketplace),contractAddress:n.contractAddress,tokenId:n.tokenId,quantity:n.quantity,buyerAddress:n.buyerAddress,sellerAddress:n.sellerAddress,taker:RCe(n.taker),sellerFee:n==null?void 0:n.sellerFee,marketplaceFee:n==null?void 0:n.protocolFee,protocolFee:n==null?void 0:n.protocolFee,royaltyFee:n==null?void 0:n.royaltyFee,blockNumber:n==null?void 0:n.blockNumber,logIndex:n.logIndex,bundleIndex:n.bundleIndex,transactionHash:n.transactionHash})),validAt:{blockNumber:t.validAt.blockNumber,blockHash:(e=t.validAt.blockHash)!==null&&e!==void 0?e:void 0,blockTimestamp:(r=t.validAt.blockTimestamp)!==null&&r!==void 0?r:void 0},pageKey:t==null?void 0:t.pageKey}}function PCe(t){switch(t){case"looksrare":return Ya.LOOKSRARE;case"seaport":return Ya.SEAPORT;case"x2y2":return Ya.X2Y2;case"wyvern":return Ya.WYVERN;case"cryptopunks":return Ya.CRYPTOPUNKS;case"blur":return Ya.BLUR;default:return Ya.UNKNOWN}}function RCe(t){switch(t.toLowerCase()){case"buyer":return ov.BUYER;case"seller":return ov.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${t}`)}}function OCe(t){return t.map(({prevalence:e,trait_type:r,value:n})=>({prevalence:e,traitType:r,value:n}))}function kCe(t){return{pageKey:t==null?void 0:t.pageKey,totalCount:t.totalCount,contracts:t.contracts.map(e=>({address:e.address,totalSupply:e.totalSupply,isSpam:e.isSpam,media:e.media,numDistinctTokensOwned:e.numDistinctTokensOwned,tokenId:e.tokenId,totalBalance:e.totalBalance,name:e.name,title:e.title,openSea:HS(e==null?void 0:e.opensea),symbol:e==null?void 0:e.symbol,tokenType:LE(e==null?void 0:e.tokenType),contractDeployer:e.contractDeployer,deployedBlockNumber:e.deployedBlockNumber}))}}function DCe(t){return oe.from(t).toString()}function LE(t){switch(t){case"erc721":case"ERC721":return rs.ERC721;case"erc1155":case"ERC1155":return rs.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return rs.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return rs.NOT_A_CONTRACT;default:return rs.UNKNOWN}}function MCe(t){if(!t)return;const{isSpam:e,classifications:r}=t;return{isSpam:e==="true",classifications:r}}function BCe(t){return t===void 0?"":!Array.isArray(t)&&typeof t=="object"?JSON.stringify(t):typeof t=="string"?t:t.join(" ")}function Jj(t){if(!(t&&t.raw.length===0&&t.gateway.length==0))return t}function UCe(t){return t===void 0?[]:t.filter(e=>Jj(e)!==void 0)}function HS(t){if(t!==void 0)return{floorPrice:t.floorPrice,collectionName:t.collectionName,safelistRequestStatus:t.safelistRequestStatus!==void 0?NCe(t.safelistRequestStatus,YC):void 0,imageUrl:t.imageUrl,description:t.description,externalUrl:t.externalUrl,twitterUsername:t.twitterUsername,discordUrl:t.discordUrl,lastIngestedAt:t.lastIngestedAt}}const FCe=typeof window<"u"&&window!==null;function eh(t){if(t!==null){if(typeof t=="object")for(const e in t)t[e]=eh(t[e]);return t}}function jE(t,e,r="getAssetTransfers"){return le(this,void 0,void 0,function*(){const n=yield t.getProvider();return e.fromAddress&&(e.fromAddress=yield n._getAddress(e.fromAddress)),e.toAddress&&(e.toAddress=yield n._getAddress(e.toAddress)),n._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},e),{fromBlock:e.fromBlock!=null?WO(e.fromBlock):void 0,toBlock:e.toBlock!=null?WO(e.toBlock):void 0,maxCount:e.maxCount!=null?$E(e.maxCount):void 0})],r)})}function VO(t,e,r="getTransactionReceipts"){return le(this,void 0,void 0,function*(){return(yield t.getProvider())._send("alchemy_getTransactionReceipts",[e],r)})}function $Ce(t,e){return le(this,void 0,void 0,function*(){const r=yield t.getProvider();yield r.getNetwork();const n=yield Kj({filter:LCe(t,e)}),i=yield r.send("eth_getLogs",[n.filter]);return i.forEach(s=>{s.removed==null&&(s.removed=!1)}),jCe(r.formatter.filterLog.bind(r.formatter))(i)})}function LCe(t,e){return le(this,void 0,void 0,function*(){const r=yield t.getProvider(),n=yield e;let i={};return["blockHash","topics"].forEach(s=>{n[s]!=null&&(i[s]=n[s])}),["fromBlock","toBlock"].forEach(s=>{n[s]!=null&&(i[s]=r._getBlockTag(n[s]))}),i=r.formatter.filter(yield Kj(i)),Array.isArray(n.address)?i.address=yield Promise.all(n.address.map(s=>le(this,void 0,void 0,function*(){return r._getAddress(s)}))):n.address!=null&&(i.address=yield r._getAddress(n.address)),i})}function jCe(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach(n=>{r.push(t(n))}),r}}class zCe{constructor(e){this.config=e}getBalance(e,r){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,r)})}isContractAddress(e){return le(this,void 0,void 0,function*(){return(yield(yield this.config.getProvider()).getCode(e))!=="0x"})}getCode(e,r){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,r)})}getStorageAt(e,r,n){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,r,n)})}getTransactionCount(e,r){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,r)})}getBlock(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,r){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,r)})}estimateGas(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,r,n){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,r,n)})}getLogs(e){return le(this,void 0,void 0,function*(){return $Ce(this.config,e)})}send(e,r){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,r)})}findContractDeployer(e){var r;return le(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=yield n.getBlockNumber();if((yield n.getCode(e,i))===Vj)throw new Error(`Contract '${e}' does not exist`);const s=yield ZC(0,i+1,e,this.config),a=(r=(yield VO(this.config,{blockNumber:$E(s)},"findContractDeployer")).receipts)===null||r===void 0?void 0:r.find(c=>c.contractAddress===e.toLowerCase());return{deployerAddress:a==null?void 0:a.from,blockNumber:s}})}getTokenBalances(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=yield n._getAddress(e);if(Array.isArray(r)){if(r.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(r.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return n._send("alchemy_getTokenBalances",[i,r],"getTokenBalances")}else{const s=r===void 0?ig.ERC20:r.type,o=[i,s];return(r==null?void 0:r.type)===ig.ERC20&&r.pageKey&&o.push({pageKey:r.pageKey}),n._send("alchemy_getTokenBalances",o,"getTokenBalances")}})}getTokensForOwner(e,r){var n;return le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[yield i._getAddress(e),(n=r==null?void 0:r.contractAddresses)!==null&&n!==void 0?n:ig.ERC20];r!=null&&r.pageKey&&o.push({pageKey:r.pageKey});const a=yield i._send("alchemy_getTokenBalances",o,"getTokensForOwner"),c=a.tokenBalances.map(f=>({contractAddress:f.contractAddress,rawBalance:oe.from(f.tokenBalance).toString()})),l=(yield Promise.allSettled(a.tokenBalances.map(f=>i._send("alchemy_getTokenMetadata",[f.contractAddress],"getTokensForOwner",!0)))).map(f=>f.status==="fulfilled"?f.value:{name:null,symbol:null,decimals:null,logo:null});return{tokens:c.map((f,h)=>Object.assign(Object.assign(Object.assign({},f),l[h]),{balance:l[h].decimals!==null?i_e(f.rawBalance,l[h].decimals):void 0})).map(eh),pageKey:a.pageKey}})}getTokenMetadata(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return le(this,void 0,void 0,function*(){return jE(this.config,e)})}getTransactionReceipts(e){return le(this,void 0,void 0,function*(){return VO(this.config,e)})}resolveName(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}function ZC(t,e,r,n){return le(this,void 0,void 0,function*(){if(t>=e)return e;const i=Math.floor((t+e)/2);return(yield(yield n.getProvider()).getCode(r,i))===Vj?ZC(i+1,e,r,n):ZC(t,i,r,n)})}class qCe{constructor(e){this.config=e}traceCall(e,r,n){return le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[e,r,V1(n)];return i._send("debug_traceCall",s,"traceCall")})}traceTransaction(e,r,n){return le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[e,V1(r,n)];return i._send("debug_traceTransaction",s,"traceTransaction")})}traceBlock(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getProvider();let i,s;return yt(e,32)?(i="debug_traceBlockByHash",s=[e,V1(r)]):(i="debug_traceBlockByNumber",s=[typeof e=="number"?yL(xE(e)):e,V1(r)]),n._send(i,s,"traceBlock")})}}function V1(t,e){return Object.assign({tracer:t.type},t.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:t.onlyTopCall,timeout:e}})}function HCe(t){if(t===rs.ERC1155||t===rs.ERC721)return t}var Fn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.SILENT=4]="SILENT"})(Fn||(Fn={}));Fn.DEBUG,Fn.INFO,Fn.WARN,Fn.ERROR,Fn.SILENT;const WCe={[Fn.DEBUG]:"log",[Fn.INFO]:"info",[Fn.WARN]:"warn",[Fn.ERROR]:"error"},VCe=Fn.INFO;function Zj(t,...e){WS.debug(t,e)}function GO(t,...e){WS.info(t,e)}function VSe(t,...e){WS.warn(t,e)}class GCe{constructor(){this._logLevel=VCe}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(Fn.DEBUG,...e)}info(...e){this._log(Fn.INFO,...e)}warn(...e){this._log(Fn.WARN,...e)}error(...e){this._log(Fn.ERROR,...e)}_log(e,...r){if(e<this._logLevel)return;const n=new Date().toISOString(),i=WCe[e];if(i)console[i](`[${n}] Alchemy:`,...r.map(KCe));else throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}function KCe(t){if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return t}}const WS=new GCe,QCe="2.12.0";function YCe(t,e,r,n,i){var s;const o=t+"/"+e,a=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.headers),!FCe&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":QCe,"Alchemy-Ethers-Sdk-Method":r}),method:(s=i==null?void 0:i.method)!==null&&s!==void 0?s:"GET",url:o,params:n});return Hj(a)}const JCe=1e3,ZCe=1.5,XCe=30*1e3,exe=5;class txe{constructor(e=exe){this.maxAttempts=e,this.initialDelayMs=JCe,this.backoffMultiplier=ZCe,this.maxDelayMs=XCe,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const e=this.withJitterMs(this.currentDelayMs);return e>0&&Zj("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(r=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,r()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function Jr(t,e,r,n,i,s){return le(this,void 0,void 0,function*(){let o;const a=new txe(t.maxRetries);for(let c=0;c<t.maxRetries+1;c++)try{o!==void 0&&GO("requestHttp",`Retrying after error: ${o.message}`);try{yield a.backoff()}catch{break}const u=yield YCe(t._getRequestUrl(e),r,n,i,Object.assign(Object.assign({},s),{timeout:t.requestTimeout}));if(u.status===200)return Zj(r,`Successful request: ${r}`),u.data;GO(r,`Request failed: ${r}, ${u.status}, ${u.data}`),o=new Error(u.status+": "+u.data)}catch(u){if(!Hj.isAxiosError(u)||u.response===void 0)throw u;if(o=new Error(u.response.status+": "+u.response.data),!rxe(u,e))break}return Promise.reject(o)})}function rxe(t,e){const r=e===Zt.WEBHOOK?[429,500]:[429];return t.response!==void 0&&r.includes(t.response.status)}function Xj(t,e,r,n,i,s,o){return zS(this,arguments,function*(){let c=!0;const u=Object.assign({},o);for(;c;){const l=yield No(Jr(t,e,r,n,u));yield yield No(l),l[s]!==void 0?u[i]=l[s]:c=!1}})}function ez(t,e,r,n,i="getNftMetadata"){return le(this,void 0,void 0,function*(){const s=yield Jr(t,Zt.NFT,"getNFTMetadata",i,{contractAddress:e,tokenId:oe.from(r).toString(),tokenType:HCe(n==null?void 0:n.tokenType),tokenUriTimeoutInMs:n==null?void 0:n.tokenUriTimeoutInMs,refreshCache:n==null?void 0:n.refreshCache});return zy(s)})}function tz(t,e,r){return le(this,void 0,void 0,function*(){const n={tokens:e,tokenUriTimeoutInMs:r==null?void 0:r.tokenUriTimeoutInMs,refreshCache:r==null?void 0:r.refreshCache};return(yield Jr(t,Zt.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:n})).map(zy)})}function nxe(t,e,r="getContractMetadata"){return le(this,void 0,void 0,function*(){const n=yield Jr(t,Zt.NFT,"getContractMetadata",r,{contractAddress:e});return qS(n)})}function ixe(t,e){return le(this,void 0,void 0,function*(){return(yield Jr(t,Zt.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:e}})).map(qS)})}function sxe(t,e,r,n="getNftsForOwnerIterator"){return zS(this,arguments,function*(){var s,o;const a=zE(r==null?void 0:r.omitMetadata);try{for(var c=Wj(Xj(t,Zt.NFT,"getNFTs",n,"pageKey","pageKey",{contractAddresses:r==null?void 0:r.contractAddresses,pageKey:r==null?void 0:r.pageKey,filters:r==null?void 0:r.excludeFilters,owner:e,withMetadata:a})),u;u=yield No(c.next()),!u.done;){const l=u.value;for(const d of l.ownedNfts)yield yield No(Object.assign(Object.assign({},nz(d)),{balance:parseInt(d.balance)}))}}catch(l){s={error:l}}finally{try{u&&!u.done&&(o=c.return)&&(yield No(o.call(c)))}finally{if(s)throw s.error}}})}function av(t,e,r,n="getNftsForOwner"){return le(this,void 0,void 0,function*(){const i=zE(r==null?void 0:r.omitMetadata),s=yield Jr(t,Zt.NFT,"getNFTs",n,{contractAddresses:r==null?void 0:r.contractAddresses,pageKey:r==null?void 0:r.pageKey,filters:r==null?void 0:r.excludeFilters,excludeFilters:r==null?void 0:r.excludeFilters,includeFilters:r==null?void 0:r.includeFilters,owner:e,pageSize:r==null?void 0:r.pageSize,withMetadata:i,tokenUriTimeoutInMs:r==null?void 0:r.tokenUriTimeoutInMs,orderBy:r==null?void 0:r.orderBy});return{ownedNfts:s.ownedNfts.map(o=>Object.assign(Object.assign({},nz(o)),{balance:parseInt(o.balance)})),pageKey:s.pageKey,totalCount:s.totalCount,blockHash:s.blockHash}})}function oxe(t,e,r,n="getNftsForContract"){var i;return le(this,void 0,void 0,function*(){const s=zE(r==null?void 0:r.omitMetadata),o=yield Jr(t,Zt.NFT,"getNFTsForCollection",n,{contractAddress:e,startToken:r==null?void 0:r.pageKey,withMetadata:s,limit:(i=r==null?void 0:r.pageSize)!==null&&i!==void 0?i:void 0,tokenUriTimeoutInMs:r==null?void 0:r.tokenUriTimeoutInMs});return{nfts:o.nfts.map(a=>iz(a,e)),pageKey:o.nextToken}})}function axe(t,e,r,n="getNftsForContractIterator"){return zS(this,arguments,function*(){var s,o;const a=zE(r==null?void 0:r.omitMetadata);try{for(var c=Wj(Xj(t,Zt.NFT,"getNFTsForCollection",n,"startToken","nextToken",{contractAddress:e,startToken:r==null?void 0:r.pageKey,withMetadata:a})),u;u=yield No(c.next()),!u.done;){const l=u.value;for(const d of l.nfts)yield yield No(iz(d,e))}}catch(l){s={error:l}}finally{try{u&&!u.done&&(o=c.return)&&(yield No(o.call(c)))}finally{if(s)throw s.error}}})}function cxe(t,e,r,n="getOwnersForContract"){return le(this,void 0,void 0,function*(){const i=yield Jr(t,Zt.NFT,"getOwnersForCollection",n,Object.assign(Object.assign({},r),{contractAddress:e}));return Object.assign({owners:i.ownerAddresses,totalCount:i.totalCount},i.pageKey!==void 0&&{pageKey:i.pageKey})})}function uxe(t,e,r,n="getContractsForOwner"){return le(this,void 0,void 0,function*(){const i=yield Jr(t,Zt.NFT,"getContractsForOwner",n,{owner:e,excludeFilters:r==null?void 0:r.excludeFilters,includeFilters:r==null?void 0:r.includeFilters,pageKey:r==null?void 0:r.pageKey,pageSize:r==null?void 0:r.pageSize,orderBy:r==null?void 0:r.orderBy});return kCe(i)})}function lxe(t,e,r,n,i="getOwnersForNft"){return le(this,void 0,void 0,function*(){return Jr(t,Zt.NFT,"getOwnersForToken",i,Object.assign({contractAddress:e,tokenId:oe.from(r).toString()},n))})}function dxe(t,e,r){return le(this,void 0,void 0,function*(){const i=yield(yield t.getProvider())._getAddress(e),s=rz(r==null?void 0:r.tokenType),o={fromBlock:"0x0",fromAddress:wCe,toAddress:i,excludeZeroValue:!0,contractAddresses:r==null?void 0:r.contractAddresses,category:s,maxCount:100,pageKey:r==null?void 0:r.pageKey},a=yield jE(t,o,"getMintedNfts");return VS(t,a)})}function fxe(t,e,r,n){return le(this,void 0,void 0,function*(){const s=yield(yield t.getProvider())._getAddress(e),o=rz(n==null?void 0:n.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:n==null?void 0:n.contractAddresses,category:o,maxCount:100,pageKey:n==null?void 0:n.pageKey};r===QC.TO?a.toAddress=s:a.fromAddress=s;const c=yield jE(t,a,"getTransfersForOwner");return VS(t,c)})}function hxe(t,e,r){return le(this,void 0,void 0,function*(){const n=[Us.ERC721,Us.ERC1155,Us.SPECIALNFT],i=yield t.getProvider(),s=r!=null&&r.fromBlock?i.formatter.blockTag(yield i._getBlockTag(r.fromBlock)):"0x0",o=r!=null&&r.toBlock?i.formatter.blockTag(yield i._getBlockTag(r.toBlock)):void 0,a={fromBlock:s,toBlock:o,excludeZeroValue:!0,contractAddresses:[e],order:r==null?void 0:r.order,category:n,maxCount:100,pageKey:r==null?void 0:r.pageKey},c=yield jE(t,a,"getTransfersForContract");return VS(t,c)})}function rz(t){switch(t){case rs.ERC721:return[Us.ERC721];case rs.ERC1155:return[Us.ERC1155];default:return[Us.ERC721,Us.ERC1155,Us.SPECIALNFT]}}function pxe(t){return t.erc1155Metadata.map(e=>({contractAddress:t.rawContract.address,tokenId:e.tokenId,tokenType:rs.ERC1155}))}function gxe(t,e,r,n="checkNftOwnership"){return le(this,void 0,void 0,function*(){if(r.length===0)throw new Error("Must provide at least one contract address");return(yield av(t,e,{contractAddresses:r,omitMetadata:!0},n)).ownedNfts.length>0})}function mxe(t,e,r,n="verifyNftOwnership"){return le(this,void 0,void 0,function*(){if(typeof r=="string")return(yield av(t,e,{contractAddresses:[r],omitMetadata:!0},n)).ownedNfts.length>0;{if(r.length===0)throw new Error("Must provide at least one contract address");const i=yield av(t,e,{contractAddresses:r,omitMetadata:!0},n),s=r.reduce((o,a)=>(o[a]=!1,o),{});for(const o of i.ownedNfts)s[o.contract.address]=!0;return s}})}function yxe(t,e,r="isSpamContract"){return le(this,void 0,void 0,function*(){return Jr(t,Zt.NFT,"isSpamContract",r,{contractAddress:e})})}function wxe(t,e="getSpamContracts"){return le(this,void 0,void 0,function*(){return Jr(t,Zt.NFT,"getSpamContracts",e,void 0)})}function bxe(t,e,r="getFloorPrice"){return le(this,void 0,void 0,function*(){return Jr(t,Zt.NFT,"getFloorPrice",r,{contractAddress:e})})}function vxe(t,e={},r="getNftSales"){return le(this,void 0,void 0,function*(){const n=Object.assign({},e),i=yield Jr(t,Zt.NFT,"getNFTSales",r,{fromBlock:n==null?void 0:n.fromBlock,toBlock:n==null?void 0:n.toBlock,order:n==null?void 0:n.order,marketplace:n==null?void 0:n.marketplace,contractAddress:n==null?void 0:n.contractAddress,tokenId:n!=null&&n.tokenId?oe.from(n==null?void 0:n.tokenId).toString():void 0,sellerAddress:n==null?void 0:n.sellerAddress,buyerAddress:n==null?void 0:n.buyerAddress,taker:n==null?void 0:n.taker,limit:n==null?void 0:n.limit,pageKey:n==null?void 0:n.pageKey});return TCe(i)})}function Exe(t,e,r,n,i="computeRarity"){return le(this,void 0,void 0,function*(){const s=yield Jr(t,Zt.NFT,"computeRarity",i,{contractAddress:e,tokenId:oe.from(r).toString(),refreshCache:n});return OCe(s)})}function Axe(t,e,r="searchContractMetadata"){return le(this,void 0,void 0,function*(){return(yield Jr(t,Zt.NFT,"searchContractMetadata",r,{query:e})).map(qS)})}function _xe(t,e,r,n="summarizeNftAttributes"){return le(this,void 0,void 0,function*(){return Jr(t,Zt.NFT,"summarizeNftAttributes",n,{contractAddress:e,refreshCache:r})})}function Cxe(t,e,r,n="refreshNftMetadata"){return le(this,void 0,void 0,function*(){const i=oe.from(r).toString(),s=yield ez(t,e,i,void 0,n),o=yield Sxe(t,e,i,n);return s.timeLastUpdated!==o.timeLastUpdated})}function xxe(t,e,r="refreshContract"){return le(this,void 0,void 0,function*(){const n=yield Jr(t,Zt.NFT,"reingestContract",r,{contractAddress:e});return{contractAddress:n.contractAddress,refreshState:Nxe(n.reingestionState),progress:n.progress}})}function Sxe(t,e,r,n){return le(this,void 0,void 0,function*(){const i=yield Jr(t,Zt.NFT,"getNFTMetadata",n,{contractAddress:e,tokenId:oe.from(r).toString(),refreshCache:!0});return zy(i)})}function nz(t){return sz(t)?zy(t):Yj(t)}function iz(t,e){return sz(t)?zy(t):Yj(t,e)}function sz(t){return t.title!==void 0}function VS(t,e){return le(this,void 0,void 0,function*(){const r=e.transfers.filter(u=>u.rawContract.address!==null).flatMap(u=>{var l;const d=Ixe(u),f={from:u.from,to:(l=u.to)!==null&&l!==void 0?l:void 0,transactionHash:u.hash,blockNumber:u.blockNum};return d.map(h=>({metadata:f,token:h}))});if(r.length===0)return{nfts:[]};const n=100,i=[];for(let u=0;u<r.length;u+=n)i.push(r.slice(u,u+n));const o=(yield Promise.all(i.map(u=>tz(t,u.map(l=>l.token))))).flat(),a=new Map;return o.forEach(u=>{const l=`${u.contract.address}-${oe.from(u.tokenId).toString()}`;a.set(l,u)}),{nfts:r.map(u=>{const l=`${u.token.contractAddress}-${oe.from(u.token.tokenId).toString()}`;return Object.assign(Object.assign({},a.get(l)),u.metadata)}),pageKey:e.pageKey}})}function Ixe(t){return t.category===Us.ERC1155?pxe(t):[{contractAddress:t.rawContract.address,tokenId:t.tokenId,tokenType:t.category===Us.ERC721?rs.ERC721:void 0}]}function zE(t){return t===void 0?!0:!t}function Nxe(t){switch(t){case"does_not_exist":return ou.DOES_NOT_EXIST;case"already_queued":return ou.ALREADY_QUEUED;case"in_progress":return ou.IN_PROGRESS;case"finished":return ou.FINISHED;case"queued":return ou.QUEUED;case"queue_failed":return ou.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+t)}}class Txe{constructor(e){this.config=e}getNftMetadata(e,r,n,i){let s;return typeof n=="object"?s={tokenType:n.tokenType,tokenUriTimeoutInMs:n.tokenUriTimeoutInMs,refreshCache:n.refreshCache}:s={tokenType:n,tokenUriTimeoutInMs:i},ez(this.config,e,r,s)}getNftMetadataBatch(e,r){return tz(this.config,e,r)}getContractMetadata(e){return nxe(this.config,e)}getContractMetadataBatch(e){return ixe(this.config,e)}getNftsForOwnerIterator(e,r){return sxe(this.config,e,r)}getNftsForOwner(e,r){return av(this.config,e,r)}getNftsForContract(e,r){return oxe(this.config,e,r)}getNftsForContractIterator(e,r){return axe(this.config,e,r)}getOwnersForContract(e,r){return cxe(this.config,e,r)}getOwnersForNft(e,r,n){return lxe(this.config,e,r,n)}getContractsForOwner(e,r){return uxe(this.config,e,r)}getTransfersForOwner(e,r,n){return fxe(this.config,e,r,n)}getTransfersForContract(e,r){return hxe(this.config,e,r)}getMintedNfts(e,r){return le(this,void 0,void 0,function*(){return dxe(this.config,e,r)})}checkNftOwnership(e,r){return gxe(this.config,e,r)}verifyNftOwnership(e,r){return mxe(this.config,e,r)}isSpamContract(e){return yxe(this.config,e)}getSpamContracts(){return wxe(this.config)}getFloorPrice(e){return bxe(this.config,e)}getNftSales(e){return vxe(this.config,e)}computeRarity(e,r,n){return Exe(this.config,e,r,n)}searchContractMetadata(e){return Axe(this.config,e)}summarizeNftAttributes(e,r){return _xe(this.config,e,r)}refreshNftMetadata(e,r){return Cxe(this.config,e,r)}refreshContract(e){return xxe(this.config,e)}}class Pxe{constructor(e){this.config=e}getAllWebhooks(){return le(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:Rxe(e),totalCount:e.data.length}})}getAddresses(e,r){return le(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:n,limit:r==null?void 0:r.limit,after:r==null?void 0:r.pageKey});return Oxe(i)})}getGraphqlQuery(e){return le(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,n=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:r});return kxe(n)})}getNftFilters(e,r){return le(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:n,limit:r==null?void 0:r.limit,after:r==null?void 0:r.pageKey});return Dxe(i)})}updateWebhook(e,r){return le(this,void 0,void 0,function*(){const n=typeof e=="string"?e:e.id;let i,s,o,a;if("isActive"in r)i="update-webhook",s="updateWebhook",o="PUT",a={webhook_id:n,is_active:r.isActive};else if("addFilters"in r||"removeFilters"in r)i="update-webhook-nft-filters",s="updateWebhookNftFilters",o="PATCH",a={webhook_id:n,nft_filters_to_add:r.addFilters?r.addFilters.map(K1):[],nft_filters_to_remove:r.removeFilters?r.removeFilters.map(K1):[]};else if("addMetadataFilters"in r||"removeMetadataFilters"in r)i="update-webhook-nft-metadata-filters",s="updateWebhookNftMetadataFilters",o="PATCH",a={webhook_id:n,nft_metadata_filters_to_add:r.addMetadataFilters?r.addMetadataFilters.map(K1):[],nft_metadata_filters_to_remove:r.removeMetadataFilters?r.removeMetadataFilters.map(K1):[]};else if("addAddresses"in r||"removeAddresses"in r)i="update-webhook-addresses",s="webhook:updateWebhookAddresses",o="PATCH",a={webhook_id:n,addresses_to_add:yield this.resolveAddresses(r.addAddresses),addresses_to_remove:yield this.resolveAddresses(r.removeAddresses)};else if("newAddresses"in r)i="update-webhook-addresses",s="webhook:updateWebhookAddress",o="PUT",a={webhook_id:n,addresses:yield this.resolveAddresses(r.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(i,s,{},{method:o,data:a})})}createWebhook(e,r,n){return le(this,void 0,void 0,function*(){let i;if(r===Ja.MINED_TRANSACTION||r===Ja.DROPPED_TRANSACTION){if(!("appId"in n))throw new Error("Transaction Webhooks require an app id.");i=n.appId}let s=G1.get(this.config.network),o,a,c;if(r===Ja.NFT_ACTIVITY||r===Ja.NFT_METADATA_UPDATE){if(!("filters"in n)||n.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");s=n.network?G1.get(n.network):s;const d=n.filters.map(f=>f.tokenId?{contract_address:f.contractAddress,token_id:oe.from(f.tokenId).toString()}:{contract_address:f.contractAddress});o=r===Ja.NFT_ACTIVITY?{nft_filters:d}:{nft_metadata_filters:d}}else if(r===Ja.ADDRESS_ACTIVITY){if(n===void 0||!("addresses"in n)||n.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");s=n.network?G1.get(n.network):s,a=yield this.resolveAddresses(n.addresses)}else if(r==Ja.GRAPHQL){if(n===void 0||!("graphqlQuery"in n)||n.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");s=n.network?G1.get(n.network):s,c=n.graphqlQuery}const u=Object.assign(Object.assign(Object.assign(Object.assign({network:s,webhook_type:r,webhook_url:e},i&&{app_id:i}),o),a&&{addresses:a}),c&&{graphql_query:c}),l=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:u});return oz(l.data)})}deleteWebhook(e){return le(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:r},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${r}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,r,n,i){return Jr(this.config,Zt.WEBHOOK,e,r,n,Object.assign(Object.assign({},i),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},i==null?void 0:i.headers)}))}resolveAddresses(e){return le(this,void 0,void 0,function*(){if(e===void 0)return[];const r=[],n=yield this.config.getProvider();for(const i of e){const s=yield n.resolveName(i);if(s===null)throw new Error(`Unable to resolve the ENS address: ${i}`);r.push(s)}return r})}}const XC={ETH_MAINNET:et.ETH_MAINNET,ETH_GOERLI:et.ETH_GOERLI,ETH_SEPOLIA:et.ETH_SEPOLIA,ETH_ROPSTEN:et.ETH_ROPSTEN,ETH_RINKEBY:et.ETH_RINKEBY,ETH_KOVAN:et.ETH_KOVAN,MATIC_MAINNET:et.MATIC_MAINNET,MATIC_MUMBAI:et.MATIC_MUMBAI,ARB_MAINNET:et.ARB_MAINNET,ARB_GOERLI:et.ARB_GOERLI,ARB_RINKEBY:et.ARB_RINKEBY,OPT_MAINNET:et.OPT_MAINNET,OPT_GOERLI:et.OPT_GOERLI,OPT_KOVAN:et.OPT_KOVAN},G1=Object.keys(et).reduce((t,e)=>(e in XC&&t.set(XC[e],e),t),new Map);function Rxe(t){return t.data.map(oz)}function oz(t){return Object.assign({id:t.id,network:XC[t.network],type:t.webhook_type,url:t.webhook_url,isActive:t.is_active,timeCreated:new Date(t.time_created).toISOString(),signingKey:t.signing_key,version:t.version},t.app_id!==void 0&&{appId:t.app_id})}function Oxe(t){return{addresses:t.data,totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function kxe(t){return{graphqlQuery:t.data.graphql_query}}function Dxe(t){return{filters:t.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:oe.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function K1(t){return t.tokenId?{contract_address:t.contractAddress,token_id:oe.from(t.tokenId).toString()}:{contract_address:t.contractAddress}}const Mxe=[.9,1,1.1,1.2,1.3];class Bxe{constructor(e){this.config=e}sendPrivateTransaction(e,r,n){return le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=r?$E(r):void 0;return i._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:s,preferences:n}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=r!==void 0?[e,r]:[e],s=yield n._send("alchemy_simulateAssetChangesBundle",i,"simulateAssetChangesBundle");return eh(s)})}simulateAssetChanges(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=r!==void 0?[e,r]:[e],s=yield n._send("alchemy_simulateAssetChanges",i,"simulateAssetChanges");return eh(s)})}simulateExecutionBundle(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=r!==void 0?[e,r]:[e],s=n._send("alchemy_simulateExecutionBundle",i,"simulateExecutionBundle");return eh(s)})}simulateExecution(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),i=r!==void 0?[e,r]:[e],s=n._send("alchemy_simulateExecution",i,"simulateExecution");return eh(s)})}getTransaction(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return le(this,void 0,void 0,function*(){const r=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return ICe(r)})}waitForTransaction(e,r,n){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,r,n)})}sendGasOptimizedTransaction(e,r){return le(this,void 0,void 0,function*(){if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let n,i,s;const o=yield this.config.getProvider();try{n=yield this.estimateGas(e),i=yield this.getMaxPriorityFeePerGas(),s=(yield o.getBlock("latest")).baseFeePerGas.toNumber()}catch(u){throw new Error(`Failed to estimate gas for transaction: ${u}`)}const a=Uxe(e,n.toNumber(),s,i),c=yield Promise.all(a.map(u=>r.signTransaction(u)));return this._sendGasOptimizedTransaction(c,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,r){return le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],r)})}}function Uxe(t,e,r,n){return Mxe.map(i=>Object.assign(Object.assign({},t),{gasLimit:e,maxFeePerGas:Math.round(r*i+n*i),maxPriorityFeePerGas:Math.round(i*n)}))}const cv="alchemy-pending-transactions",uv="alchemy-mined-transactions",Fxe=[cv,uv];let $xe=class{constructor(e,r,n){this.listener=r,this.tag=e,this.once=n,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx")throw new Error("Not a transaction event");return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")throw new Error("Not a transaction event");const r=e[1],n=qxe(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}};class KSe extends $xe{get fromAddress(){const e=this.tag.split(":");if(e[0]===cv&&e[1]&&e[1]!=="*")return KO(e[1])}get toAddress(){const e=this.tag.split(":");if(e[0]===cv&&e[2]&&e[2]!=="*")return KO(e[2])}get hashesOnly(){const e=this.tag.split(":");if(Fxe.includes(e[0])&&e[3]&&e[3]!=="*")return e[3]==="true"}get includeRemoved(){const e=this.tag.split(":");if(e[0]===uv&&e[2]&&e[2]!=="*")return e[2]==="true"}get addresses(){const e=this.tag.split(":");if(e[0]===uv&&e[1]&&e[1]!=="*")return Hxe(e[1])}}function az(t){return typeof t=="object"&&"method"in t}function QSe(t){if(!az(t))throw new Error("Event tag requires AlchemyEventType");if(t.method===el.PENDING_TRANSACTIONS)return Lxe(t);if(t.method===el.MINED_TRANSACTIONS)return jxe(t);throw new Error(`Unrecognized AlchemyFilterEvent: ${t}`)}function YSe(t){if(!Object.values(el).includes(t.method))throw new Error(`Invalid method name ${t.method}. Accepted method names: ${Object.values(el)}`)}function Lxe(t){const e=lv(t.fromAddress),r=lv(t.toAddress),n=ex(t.hashesOnly);return cv+":"+e+":"+r+":"+n}function jxe(t){const e=zxe(t.addresses),r=ex(t.includeRemoved),n=ex(t.hashesOnly);return uv+":"+e+":"+r+":"+n}function zxe(t){return t===void 0?"*":t.map(e=>lv(e.to)+","+lv(e.from)).join("|")}function lv(t){return t===void 0?"*":Array.isArray(t)?t.join("|"):t}function ex(t){return t===void 0?"*":t.toString()}function qxe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function KO(t){if(t==="")return;const e=t.split("|");return e.length===1?e[0]:e}function Hxe(t){if(t!=="")return t.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class Wxe{constructor(e){this.config=e}on(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);n.on(i,r)}),this}once(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);n.once(i,r)}),this}off(e,r){return le(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);return n.off(i,r)}),this}removeAllListeners(e){return le(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),n=e?yield this._resolveEnsAlchemyEvent(e):void 0;r.removeAllListeners(n)}),this}listenerCount(e){return le(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),n=e?yield this._resolveEnsAlchemyEvent(e):void 0;return r.listenerCount(n)})}listeners(e){return le(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),n=e?yield this._resolveEnsAlchemyEvent(e):void 0;return r.listeners(n)})}_resolveEnsAlchemyEvent(e){return le(this,void 0,void 0,function*(){if(!az(e))return e;if(e.method===el.MINED_TRANSACTIONS&&e.addresses){const r=[];for(const n of e.addresses)n.to&&(n.to=yield this._resolveNameOrError(n.to)),n.from&&(n.from=yield this._resolveNameOrError(n.from)),r.push(n);e.addresses=r}else e.method===el.PENDING_TRANSACTIONS&&(e.fromAddress&&(typeof e.fromAddress=="string"?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(r=>this._resolveNameOrError(r)))),e.toAddress&&(typeof e.toAddress=="string"?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(r=>this._resolveNameOrError(r)))));return e})}_resolveNameOrError(e){return le(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider()).resolveName(e);if(n===null)throw new Error(`Unable to resolve the ENS address: ${e}`);return n})}}class Vxe{constructor(e){this.config=new bCe(e),this.core=new zCe(this.config),this.nft=new Txe(this.config),this.ws=new Wxe(this.config),this.transact=new Bxe(this.config),this.notify=new Pxe(this.config),this.debug=new qCe(this.config)}}function QO({userAddress:t}){const[e,r]=ie.useState([]),[n,i]=ie.useState(!1),[s,o]=ie.useState(""),a="0x9fABC73C4ab85A45AFC536eCc2ce4929c812F3B1",c="kJZi_A86EXSmHa6PHFLa05CdIs498hU4",u=`https://polygon-amoy.g.alchemy.com/v2/${c}`,l=new Vxe({apiKey:c,network:et.MATIC_AMOY}),d={0:"ipfs://QmZzrU3JdFJvpudbVpPPkbUebTQq9MwmGzcryTNTM92xX5",1:"ipfs://QmXoR5Xy8FYS6P6WUmXuziVyUk4i87T47Ft7KD3naFD3Zd",2:"ipfs://Qmce6Cm1pfUfrc1vSN8w68PNawzUovHuGV8yV53sd5JJkq"},f=p=>!p||p===""?"https://via.placeholder.com/150":p.replace("ipfs://","https://gateway.pinata.cloud/ipfs/");ie.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{if(i(!0),o(""),!t)throw new Error("Please connect your wallet.");const p=new r_e(u),g=await p.getNetwork();if(Number(g.chainId)!==80002)throw new Error("Please switch to Polygon Amoy testnet (Chain ID: 80002)");const w=new S5e(a,Tj.abi,p),y=await l.nft.getNftsForOwner(t,{contractAddresses:[a]});console.log("Alchemy NFTs:",JSON.stringify(y.ownedNfts,null,2));const b=await Promise.all(y.ownedNfts.map(async E=>{const x=Number(E.tokenId);let N,O;try{N=await w.tokenURI(x),O=Number(await w.nftTypeToTokenId(x)),console.log(`Token ${x}: tokenURI=${N}, nftType=${O}`)}catch(U){console.warn(`Failed to fetch metadata for token ${x}:`,U),N=d[O]||"",O=x===1||x===2?0:x===3||x===4||x===5?1:2}let k={};if(N)try{k=await(await fetch(f(N))).json(),console.log(`Metadata for token ${x}:`,k)}catch(U){console.warn(`Failed to fetch IPFS metadata for token ${x}:`,U)}return{id:x.toString(),name:k.name||`Synergy NFT #${x}`,type:["Loyalty","Supporter","VIP","Custom"][O]||"Unknown",description:k.description||`A ${["Loyalty","Supporter","VIP","Custom"][O]||"Unknown"} NFT for Synergy Blockchain Pacific.`,image:k.image?f(k.image):f(N)}}));r(b)}catch(p){console.error("Error fetching NFTs:",p),o(`Failed to load NFTs: ${p.message}`)}finally{i(!1)}};return s?F.jsxs("div",{className:"nft-gallery",children:[F.jsx("img",{src:"/src/assets/nft4.png",alt:"Synergy NFT Logo",className:"logo"}),F.jsx("h2",{children:"Error"}),F.jsx("p",{children:s})]}):n?F.jsx("div",{className:"loading",children:"Loading your NFTs..."}):F.jsxs("div",{className:"nft-gallery",children:[F.jsx("img",{src:"/src/assets/nft4.png",alt:"Synergy NFT Logo",className:"logo"}),F.jsx("h2",{children:"Your Synergy NFTs"}),e.length===0?F.jsx("p",{children:"You don't have any Synergy NFTs yet. Mint one above!"}):F.jsx("div",{className:"nft-grid",children:e.map(p=>F.jsxs("div",{className:"nft-card",children:[F.jsx("img",{src:p.image,alt:p.name,onError:g=>g.target.src="https://via.placeholder.com/150"}),F.jsxs("div",{className:"nft-card-content",children:[F.jsx("h3",{children:p.name}),F.jsx("span",{className:"nft-type",children:p.type}),F.jsx("p",{children:p.description})]})]},p.id))})]})}function Gxe(){return F.jsxs("div",{className:"instructions",children:[F.jsx("h2",{children:"Getting Started with Synergy NFTs"}),F.jsx("h3",{children:"Set Up Your Wallet"}),F.jsx("p",{children:"To interact with our NFT platform, you'll need a digital wallet:"}),F.jsxs("ol",{children:[F.jsxs("li",{children:[F.jsx("strong",{children:"Install MetaMask"}),": ",F.jsx("a",{href:"https://metamask.io/download/",target:"_blank",rel:"noopener noreferrer",children:"Download here"})," for your browser or mobile device."]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Create a wallet"}),": Follow MetaMask's setup instructions to create your wallet and securely store your seed phrase."]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Connect to Polygon Amoy Testnet"}),":",F.jsxs("ul",{children:[F.jsx("li",{children:"Network Name: Polygon Amoy"}),F.jsx("li",{children:"RPC URL: https://polygon-amoy.g.alchemy.com/v2/demo"}),F.jsx("li",{children:"Chain ID: 80002"}),F.jsx("li",{children:"Currency Symbol: POL"}),F.jsx("li",{children:"Block Explorer: https://www.oklink.com/amoy"})]})]})]}),F.jsx("h3",{children:"Get Test Tokens"}),F.jsx("p",{children:"For testing our platform before mainnet launch:"}),F.jsxs("ol",{children:[F.jsxs("li",{children:["Visit the ",F.jsx("a",{href:"https://www.oklink.com/amoy/faucet",target:"_blank",rel:"noopener noreferrer",children:"Polygon Amoy Faucet"})]}),F.jsx("li",{children:"Enter your wallet address"}),F.jsx("li",{children:"Request free test POL tokens"}),F.jsx("li",{children:"Wait for tokens to appear in your wallet (usually within minutes)"})]}),F.jsx("h3",{children:"Connect to Our Platform"}),F.jsxs("ol",{children:[F.jsx("li",{children:'Click "Connect Wallet" on our platform'}),F.jsx("li",{children:"Approve the connection request in your MetaMask"}),F.jsx("li",{children:"You're ready to browse and mint NFTs!"})]}),F.jsx("h3",{children:"Video Tutorials"}),F.jsx("p",{children:"Need more help? Watch our step-by-step video guides:"}),F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx("a",{href:"https://www.youtube.com/watch?v=MfkqgXNPiHg",target:"_blank",rel:"noopener noreferrer",children:"Setting up MetaMask for beginners"})}),F.jsx("li",{children:F.jsx("a",{href:"https://www.youtube.com/watch?v=6h_liI6atEk",target:"_blank",rel:"noopener noreferrer",children:"Connecting to Polygon Network"})}),F.jsx("li",{children:F.jsx("a",{href:"https://www.youtube.com/watch?v=wM1pgOnaKro",target:"_blank",rel:"noopener noreferrer",children:"How to mint your first NFT"})})]}),F.jsx("h3",{children:"Our NFT Options"}),F.jsxs("ul",{children:[F.jsxs("li",{children:[F.jsx("strong",{children:"Loyalty NFT"}),": 50 Samoan Tala (~$18 USD)"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Supporter NFT"}),": 100 Samoan Tala (~$36 USD)"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"VIP NFT"}),": 250 Samoan Tala (~$91 USD)"]})]}),F.jsx("p",{children:'Visit our "Benefits & Use Cases" page to learn what each NFT offers!'})]})}function Kxe(){return F.jsxs("div",{className:"page",children:[F.jsx("h1",{children:"Our Services"}),F.jsx("p",{children:"We offer a range of blockchain-based services, including NFT development, smart contract integration, and decentralized application (dApp) solutions tailored to your business needs."})]})}function Qxe(){return F.jsxs("div",{className:"benefits-page",children:[F.jsx("h2",{children:"Synergy NFTs: Building Pacific Business Success"}),F.jsx("div",{className:"intro-section",children:F.jsx("p",{children:"Synergy Blockchain Pacific NFTs represent more than digital art – they're your gateway to real-world benefits, exclusive opportunities, and a thriving business ecosystem in the Pacific region. With options at multiple price points, we've made our NFT ecosystem accessible to everyone."})}),F.jsxs("div",{className:"payment-options",children:[F.jsx("h3",{children:"Flexible Payment Options"}),F.jsx("p",{children:"Our NFTs can be purchased through multiple methods:"}),F.jsxs("ul",{children:[F.jsxs("li",{children:[F.jsx("strong",{children:"Cryptocurrency"})," - Pay with POL on Polygon network"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Samoan Tala"})," - Direct bank transfer available"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Credit/Debit Card"})," - Coming soon to our mainnet version"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Mobile Money"})," - Support for regional mobile payment platforms"]})]})]}),F.jsxs("div",{className:"for-customers-section",children:[F.jsx("h3",{children:"For Customers & Supporters"}),F.jsxs("div",{className:"nft-tier starter",children:[F.jsx("h4",{children:"Community NFT (25 Samoan Tala / ~$9 USD)"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Basic access to Synergy community platform"}),F.jsx("li",{children:"5% discount on select Synergy services"}),F.jsx("li",{children:"Entry-level eligibility for future airdrops"}),F.jsx("li",{children:"Access to basic educational content"}),F.jsx("li",{children:"Entry to monthly community calls"})]}),F.jsx("div",{className:"cta-button",children:F.jsx("button",{className:"mint-button starter",children:"Mint Community NFT"})})]}),F.jsxs("div",{className:"nft-tier loyalty",children:[F.jsx("h4",{children:"Loyalty NFT (50 Samoan Tala / ~$18 USD)"}),F.jsxs("ul",{children:[F.jsx("li",{children:"All Community NFT benefits"}),F.jsx("li",{children:"10% discount on all Synergy services"}),F.jsx("li",{children:"Medium-tier eligibility for future token airdrops"}),F.jsx("li",{children:"Early access to new platform features"}),F.jsx("li",{children:"Connect multiple Loyalty NFTs to increase your discount tier (up to 15%)"}),F.jsx("li",{children:"Transferable discount benefits – gift or trade to others"}),F.jsx("li",{children:"Quarterly newsletter with insider updates"})]}),F.jsx("div",{className:"cta-button",children:F.jsx("button",{className:"mint-button loyalty",children:"Mint Loyalty NFT"})})]}),F.jsxs("div",{className:"nft-tier supporter",children:[F.jsx("h4",{children:"Supporter NFT (100 Samoan Tala / ~$36 USD)"}),F.jsxs("ul",{children:[F.jsx("li",{children:"All Loyalty NFT benefits (15% discount)"}),F.jsx("li",{children:"Priority customer support"}),F.jsx("li",{children:"Guaranteed allocation in future token sales"}),F.jsx("li",{children:"Exclusive community access with development updates"}),F.jsx("li",{children:"Quarterly virtual meetups with the Synergy team"}),F.jsx("li",{children:"Higher chance of qualifying for bonus token airdrops"}),F.jsx("li",{children:"Early beta access to new platform tools"})]}),F.jsx("div",{className:"cta-button",children:F.jsx("button",{className:"mint-button supporter",children:"Mint Supporter NFT"})})]}),F.jsxs("div",{className:"nft-tier vip",children:[F.jsx("h4",{children:"VIP NFT (250 Samoan Tala / ~$91 USD)"}),F.jsxs("ul",{children:[F.jsx("li",{children:"All Supporter NFT benefits (20% discount)"}),F.jsx("li",{children:"Maximum discount tier on all Synergy services"}),F.jsx("li",{children:"Personalized blockchain consultation session (30 minutes)"}),F.jsx("li",{children:"First access to limited edition NFT drops"}),F.jsx("li",{children:"Invitation to annual Synergy Pacific business summit"}),F.jsx("li",{children:"Premium allocation in future token sales and airdrops"}),F.jsx("li",{children:"Voting rights on certain platform development decisions"}),F.jsx("li",{children:"Exclusive VIP Discord channel access"})]}),F.jsx("div",{className:"cta-button",children:F.jsx("button",{className:"mint-button vip",children:"Mint VIP NFT"})})]}),F.jsxs("div",{className:"nft-tier enterprise",children:[F.jsx("h4",{children:"Enterprise Package (Custom Pricing)"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Customized NFT collection for your business"}),F.jsx("li",{children:"White-labeled NFT platform integration"}),F.jsx("li",{children:"Custom loyalty program development"}),F.jsx("li",{children:"Staff training and onboarding"}),F.jsx("li",{children:"Technical integration with existing systems"}),F.jsx("li",{children:"Dedicated account manager"})]}),F.jsx("div",{className:"cta-button",children:F.jsx("button",{className:"mint-button enterprise",children:"Contact for Enterprise"})})]}),F.jsx("p",{className:"highlight-text",children:"The more you engage with our ecosystem, the greater your rewards! Collect multiple NFTs to unlock additional benefits and increase your eligibility for future airdrops."})]}),F.jsxs("div",{className:"combo-deals",children:[F.jsx("h3",{children:"Special Bundle Offers"}),F.jsxs("div",{className:"bundle",children:[F.jsx("h4",{children:"Starter Bundle - 10% Off"}),F.jsx("p",{children:"1 Community NFT + 1 Loyalty NFT"}),F.jsxs("p",{children:[F.jsx("strong",{children:"67.5 Samoan Tala"})," (Save 7.5 Tala)"]})]}),F.jsxs("div",{className:"bundle",children:[F.jsx("h4",{children:"Business Bundle - 15% Off"}),F.jsx("p",{children:"1 Loyalty NFT + 1 Supporter NFT"}),F.jsxs("p",{children:[F.jsx("strong",{children:"127.5 Samoan Tala"})," (Save 22.5 Tala)"]})]}),F.jsxs("div",{className:"bundle",children:[F.jsx("h4",{children:"Premium Bundle - 20% Off"}),F.jsx("p",{children:"1 Supporter NFT + 1 VIP NFT"}),F.jsxs("p",{children:[F.jsx("strong",{children:"280 Samoan Tala"})," (Save 70 Tala)"]})]})]}),F.jsxs("div",{className:"for-businesses-section",children:[F.jsx("h3",{children:"For Businesses & Entrepreneurs"}),F.jsx("h4",{children:"Boost Your Business with NFT-Powered Loyalty"}),F.jsx("p",{children:"Transform your customer relationships with blockchain technology:"}),F.jsxs("ul",{children:[F.jsxs("li",{children:[F.jsx("strong",{children:"Create Limited Edition Promotions"})," – Mint exclusive NFT vouchers that customers can redeem, trade, or gift"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Reward Loyal Customers"})," – Distribute NFTs as loyalty rewards with increasing benefits"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Drive Repeat Business"})," – Encourage return visits with NFT-based discount tiers"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Build Community"})," – Create exclusive experiences for NFT holders"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Generate New Revenue Streams"})," – Earn royalties when your NFTs are traded on secondary markets"]})]}),F.jsx("h4",{children:"Real-World Business Applications"}),F.jsxs("div",{className:"use-cases",children:[F.jsxs("div",{className:"use-case",children:[F.jsx("h5",{children:"Restaurants & Cafés"}),F.jsx("p",{children:"Issue NFT-based meal vouchers, create VIP membership tiers with special menu access, and offer cooking classes to NFT holders."})]}),F.jsxs("div",{className:"use-case",children:[F.jsx("h5",{children:"Retail Stores"}),F.jsx("p",{children:"Create collectible NFTs with each purchase, offer early access to new products, and provide exclusive in-store experiences."})]}),F.jsxs("div",{className:"use-case",children:[F.jsx("h5",{children:"Tourism & Hospitality"}),F.jsx("p",{children:"Develop seasonal packages as NFTs, create digital collectibles of iconic locations, and offer NFT-gated premium experiences."})]}),F.jsxs("div",{className:"use-case",children:[F.jsx("h5",{children:"Event Organizers"}),F.jsx("p",{children:"Sell tickets as NFTs with built-in royalties for resales, offer exclusive meet-and-greets, and provide commemorative collectibles."})]})]})]}),F.jsxs("div",{className:"integration-section",children:[F.jsx("h3",{children:"Seamless Integration with Your Business"}),F.jsx("p",{children:"Synergy Blockchain Pacific provides end-to-end support:"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Custom NFT design and creation aligned with your brand"}),F.jsx("li",{children:"Technical integration with your existing systems"}),F.jsx("li",{children:"Marketing support to launch your NFT program"}),F.jsx("li",{children:"Training for your team to manage the NFT ecosystem"}),F.jsx("li",{children:"Analytics to measure program performance"})]}),F.jsx("p",{children:"Connect with our Telegram bot for additional points and rewards that sync with your NFT benefits!"})]}),F.jsxs("div",{className:"telegram-section",children:[F.jsx("h3",{children:"Join Our Telegram Community"}),F.jsx("p",{children:"Enhance your NFT experience by connecting with our Telegram bot:"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Earn additional points through community engagement"}),F.jsx("li",{children:"Participate in exclusive giveaways"}),F.jsx("li",{children:"Get instant notifications about new drops"}),F.jsx("li",{children:"Access interactive challenges for bonus rewards"}),F.jsx("li",{children:"Link your wallet to track your NFT benefits"})]}),F.jsx("button",{className:"telegram-button",children:"Join Telegram Community"})]}),F.jsxs("div",{className:"roadmap-section",children:[F.jsx("h3",{children:"Platform Roadmap"}),F.jsxs("div",{className:"roadmap",children:[F.jsxs("div",{className:"roadmap-item",children:[F.jsx("h4",{children:"Q2 2025"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Testnet MVP Launch"}),F.jsx("li",{children:"Initial NFT Collections"}),F.jsx("li",{children:"Telegram Bot Integration"})]})]}),F.jsxs("div",{className:"roadmap-item",children:[F.jsx("h4",{children:"Q3 2025"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Mainnet Migration"}),F.jsx("li",{children:"Fiat Payment Integration"}),F.jsx("li",{children:"Business Partnership Program"})]})]}),F.jsxs("div",{className:"roadmap-item",children:[F.jsx("h4",{children:"Q4 2025"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Token Launch"}),F.jsx("li",{children:"NFT Marketplace"}),F.jsx("li",{children:"Mobile App Release"}),F.jsx("li",{children:"Initial Airdrops for NFT Holders"})]})]}),F.jsxs("div",{className:"roadmap-item",children:[F.jsx("h4",{children:"Q1 2026"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Cross-Chain Support"}),F.jsx("li",{children:"Physical/Digital Integration"}),F.jsx("li",{children:"Regional Expansion"})]})]})]})]}),F.jsxs("div",{className:"cta-section",children:[F.jsx("h3",{children:"Ready to Transform Your Business?"}),F.jsx("p",{children:"Contact our team today to schedule a consultation and discover how NFTs can drive growth for your Pacific business."}),F.jsx("button",{className:"contact-button",children:"Schedule Consultation"})]})]})}function Yxe(){return F.jsxs("div",{className:"page",children:[F.jsx("h1",{children:"About Synergy Blockchain Pacific"}),F.jsx("p",{children:"Synergy Blockchain Pacific is dedicated to providing innovative blockchain solutions for businesses in tourism, retail, and more. Our NFT Loyalty & Support System empowers organizations to engage customers through digital collectibles."})]})}function Jxe(){return F.jsxs("div",{className:"page",children:[F.jsx("h1",{children:"Blog"}),F.jsx("p",{children:"Stay updated with the latest news and insights on blockchain technology, NFTs, and our projects. Check back for new posts!"})]})}function Zxe(){return F.jsxs("div",{className:"page",children:[F.jsx("h1",{children:"Contact Us"}),F.jsx("p",{children:"Reach out to us for inquiries about our blockchain solutions or partnerships. Email: synergytf@gmail.com"})]})}function Xxe(){return F.jsxs("div",{className:"page",children:[F.jsx("h1",{children:"Our Team"}),F.jsx("p",{children:"Meet the passionate team behind Synergy Blockchain Pacific, dedicated to driving blockchain innovation across industries."})]})}class e3e extends ie.Component{constructor(){super(...arguments);GS(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){var r;return this.state.hasError?F.jsxs("div",{className:"error-boundary",children:[F.jsx("h2",{children:"Something went wrong"}),F.jsx("p",{children:((r=this.state.error)==null?void 0:r.message)||"Unknown error"})]}):this.props.children}}const t3e="/synergy-nft-portal/assets/nft1-e355eeda.png",r3e="/synergy-nft-portal/assets/nft2-5c8db008.png",n3e="/synergy-nft-portal/assets/nft3-9dc36147.png",i3e="/synergy-nft-portal/assets/nft4-f468c9d8.png",s3e="/synergy-nft-portal/assets/nft5-b5a280bf.png";function o3e(){const[t,e]=ie.useState(!1),[r,n]=ie.useState(""),i=[{src:t3e,title:"HAMOBCDEV NFT#1"},{src:r3e,title:"HAMOBCDEV NFT#2"},{src:n3e,title:"HAMOBCDEV NFT#3"},{src:i3e,title:"HAMOBCDEV NFT#4"},{src:s3e,title:"HAMOBCDEV NFT#5"}];return F.jsx(MEe,{children:F.jsxs("div",{className:"App",children:[F.jsx("header",{children:F.jsxs("nav",{children:[F.jsx(Ho,{to:"/",className:"logo",children:F.jsx("img",{src:"/logo.png",alt:"Synergy Blockchain Pacific Logo"})}),F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx(Ho,{to:"/",children:"Home"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/about",children:"About"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/services",children:"Services"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/blog",children:"Blog"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/contacts",children:"Contacts"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/team",children:"Team"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/nfts",children:"NFT Portal"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/instructions",children:"Instructions"})}),F.jsx("li",{children:F.jsx(Ho,{to:"/benefits",children:"Benefits & Use Cases"})})]})]})}),F.jsxs("div",{className:"app-header",children:[F.jsx("h1",{children:"Synergy Blockchain Pacific"}),F.jsx("h2",{children:"NFT Loyalty & Support System"}),F.jsx($Ee,{setIsConnected:e,setAddress:n})]}),F.jsx("main",{children:F.jsxs(NEe,{children:[F.jsx(oo,{path:"/",element:F.jsxs("div",{className:"home",children:[F.jsx("img",{src:"/assets/nft4.png",alt:"Synergy NFT Logo",className:"logo"}),F.jsx("h1",{children:"Welcome to Synergy Blockchain Pacific"}),F.jsx("p",{children:"Explore our NFT solutions for businesses in tourism, retail, and more."}),t?F.jsxs("div",{children:[F.jsx(XR,{userAddress:r}),F.jsx(QO,{userAddress:r})]}):F.jsxs("div",{className:"connect-prompt",children:[F.jsx("h3",{children:"Connect your wallet to mint and view NFTs"}),F.jsx("p",{children:"This demo allows you to mint different types of NFTs:"}),F.jsxs("ul",{children:[F.jsxs("li",{children:[F.jsx("strong",{children:"Loyalty NFTs"})," - 5% discount on future services"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"Supporter NFTs"})," - Proof of crowdfunding participation"]}),F.jsxs("li",{children:[F.jsx("strong",{children:"VIP NFTs"})," - 24-month staking verification"]})]})]}),F.jsxs("section",{className:"static-nft-gallery",children:[F.jsx("h2",{children:"Featured NFTs"}),F.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",justifyContent:"center",padding:"20px"},children:i.map((s,o)=>F.jsxs("div",{style:{textAlign:"center"},children:[F.jsx("h3",{children:s.title}),F.jsx("img",{src:s.src,alt:s.title,style:{width:"300px",height:"300px",objectFit:"cover"}})]},o))})]})]})}),F.jsx(oo,{path:"/nfts",element:F.jsxs("div",{className:"nft-portal",children:[F.jsx(XR,{userAddress:r}),F.jsxs("section",{className:"static-nft-gallery",children:[F.jsx("h2",{children:"Featured NFTs"}),F.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",justifyContent:"center",padding:"20px"},children:i.map((s,o)=>F.jsxs("div",{style:{textAlign:"center"},children:[F.jsx("h3",{children:s.title}),F.jsx("img",{src:s.src,alt:s.title,style:{width:"300px",height:"300px",objectFit:"cover"}})]},o))})]})]})}),F.jsx(oo,{path:"/instructions",element:F.jsx(Gxe,{})}),F.jsx(oo,{path:"/benefits",element:F.jsx(Qxe,{})}),F.jsx(oo,{path:"/about",element:F.jsx(Yxe,{})}),F.jsx(oo,{path:"/services",element:F.jsx(Kxe,{})}),F.jsx(oo,{path:"/blog",element:F.jsx(Jxe,{})}),F.jsx(oo,{path:"/contacts",element:F.jsx(Zxe,{})}),F.jsx(oo,{path:"/team",element:F.jsx(Xxe,{})}),F.jsx(oo,{path:"/gallery",element:F.jsx(e3e,{children:F.jsx(QO,{userAddress:r})})})]})}),F.jsxs("footer",{children:[F.jsx("p",{children:"© 2025 Synergy Blockchain Pacific - NFT Demo"}),F.jsx("div",{className:"wave"})]})]})})}const a3e=new bbe,cz="313624056b20521630b2372e8cc6b718",c3e={name:"Synergy NFT Portal",description:"Mint and view Synergy NFTs on Polygon Amoy",url:"https://hamobcdev.github.io/synergy-nft-portal/",icons:["https://assets.reown.com/reown-profile-pic.png"]},uz={chainId:80002,name:"Polygon Amoy",currency:"MATIC",explorerUrl:"https://amoy.polygonscan.com/",rpcUrl:"https://rpc-amoy.polygon.technology/"},lz=new Uve({networks:[uz],projectId:cz,ssr:!0});$1e({adapters:[lz],networks:[uz],projectId:cz,metadata:c3e,features:{analytics:!0}});F6.createRoot(document.getElementById("root")).render(F.jsx(yk.StrictMode,{children:F.jsx(Dwe,{config:lz.wagmiConfig,children:F.jsx(Pbe,{client:a3e,children:F.jsx(o3e,{})})})}));export{td as $,Ne as A,Un as B,z1e as C,BSe as D,Q7 as E,ts as F,Yt as G,mr as H,f1e as I,_e as J,s4 as K,S9 as L,jr as M,a1 as N,pe as O,su as P,He as Q,k3 as R,Aa as S,Xn as T,tn as U,vr as V,Kr as W,yi as X,Ei as Y,i4 as Z,Zn as _,lc as a,jM as a$,d3e as a0,Qe as a1,l3e as a2,lle as a3,yo as a4,USe as a5,OSe as a6,uC as a7,vw as a8,Qp as a9,ICe as aA,$E as aB,QCe as aC,qSe as aD,fCe as aE,et as aF,FCe as aG,VSe as aH,HO as aI,MS as aJ,gCe as aK,zSe as aL,se as aM,O3 as aN,ln as aO,Ode as aP,aE as aQ,kF as aR,ASe as aS,Sy as aT,_c as aU,sl as aV,Yp as aW,Ea as aX,PZ as aY,K3e as aZ,nT as a_,An as aa,ks as ab,Pa as ac,DSe as ad,lC as ae,s$ as af,n0 as ag,re as ah,BS as ai,r_e as aj,he as ak,oe as al,le as am,WSe as an,HSe as ao,T5e as ap,az as aq,YSe as ar,KSe as as,QSe as at,dCe as au,Fxe as av,cv as aw,el as ax,uv as ay,kr as az,_m as b,m0 as b$,vZ as b0,RZ as b1,Q3e as b2,G3e as b3,Fv as b4,Y3e as b5,Z3e as b6,N0e as b7,xSe as b8,LP as b9,bM as bA,Hp as bB,H5 as bC,KX as bD,u1 as bE,Ac as bF,L9 as bG,EN as bH,KV as bI,QV as bJ,ZV as bK,YV as bL,gd as bM,zd as bN,ai as bO,ji as bP,y0 as bQ,e3 as bR,TV as bS,iy as bT,Vs as bU,pie as bV,E3 as bW,Gv as bX,Wv as bY,Zx as bZ,Su as b_,eS as ba,tm as bb,v0e as bc,o7 as bd,T0e as be,SSe as bf,un as bg,tx as bh,NSe as bi,ISe as bj,jEe as bk,LEe as bl,xAe as bm,Ws as bn,Le as bo,Qs as bp,YF as bq,khe as br,vM as bs,ye as bt,$s as bu,Fi as bv,ay as bw,c3 as bx,GM as by,iJ as bz,FSe as c,GN as c0,wM as c1,QY as c2,Fl as c3,Vv as c4,Ko as c5,Rs as c6,Go as c7,Bo as c8,Jfe as d,Lu as e,ySe as f,rhe as g,OF as h,Ro as i,vE as j,$n as k,hh as l,Aw as m,De as n,Bt as o,tt as p,cc as q,_n as r,Qh as s,MSe as t,fe as u,Ge as v,_b as w,RSe as x,V as y,Wt as z};
